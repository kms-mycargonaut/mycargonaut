(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=Object(r.e)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,u),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=Object(r.g)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.6.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return fn}),n.d(e,"b",function(){return tl}),n.d(e,"c",function(){return $c}),n.d(e,"d",function(){return Gc}),n.d(e,"e",function(){return Wc}),n.d(e,"f",function(){return Gl}),n.d(e,"g",function(){return Vl}),n.d(e,"h",function(){return zu}),n.d(e,"i",function(){return hl}),n.d(e,"j",function(){return pu}),n.d(e,"k",function(){return rl}),n.d(e,"l",function(){return bu}),n.d(e,"m",function(){return Tr}),n.d(e,"n",function(){return Ic}),n.d(e,"o",function(){return xo}),n.d(e,"p",function(){return Rn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return hn}),n.d(e,"s",function(){return zo}),n.d(e,"t",function(){return Vu}),n.d(e,"u",function(){return Fu}),n.d(e,"v",function(){return nl}),n.d(e,"w",function(){return ec}),n.d(e,"x",function(){return Fl}),n.d(e,"y",function(){return tc}),n.d(e,"z",function(){return Rl}),n.d(e,"A",function(){return pl}),n.d(e,"B",function(){return Dn}),n.d(e,"C",function(){return Xc}),n.d(e,"D",function(){return Zc}),n.d(e,"E",function(){return _u}),n.d(e,"F",function(){return wu}),n.d(e,"G",function(){return Dr}),n.d(e,"H",function(){return Ou}),n.d(e,"I",function(){return Er}),n.d(e,"J",function(){return Nn}),n.d(e,"K",function(){return Bl}),n.d(e,"L",function(){return Yu}),n.d(e,"M",function(){return _l}),n.d(e,"N",function(){return dn}),n.d(e,"O",function(){return Su}),n.d(e,"P",function(){return Cu}),n.d(e,"Q",function(){return rc}),n.d(e,"R",function(){return M}),n.d(e,"S",function(){return Dl}),n.d(e,"T",function(){return jl}),n.d(e,"U",function(){return d}),n.d(e,"V",function(){return Al}),n.d(e,"W",function(){return Ql}),n.d(e,"X",function(){return Cl}),n.d(e,"Y",function(){return el}),n.d(e,"Z",function(){return jo}),n.d(e,"ab",function(){return la}),n.d(e,"bb",function(){return wr}),n.d(e,"cb",function(){return nr}),n.d(e,"db",function(){return zn}),n.d(e,"eb",function(){return Kn}),n.d(e,"fb",function(){return Yn}),n.d(e,"gb",function(){return Wn}),n.d(e,"hb",function(){return Gn}),n.d(e,"ib",function(){return $n}),n.d(e,"jb",function(){return sa}),n.d(e,"kb",function(){return zl}),n.d(e,"lb",function(){return aa}),n.d(e,"mb",function(){return ua}),n.d(e,"nb",function(){return Qn}),n.d(e,"ob",function(){return q}),n.d(e,"pb",function(){return ts}),n.d(e,"qb",function(){return ws}),n.d(e,"rb",function(){return bs}),n.d(e,"sb",function(){return vs}),n.d(e,"tb",function(){return oa}),n.d(e,"ub",function(){return Tt}),n.d(e,"vb",function(){return l}),n.d(e,"wb",function(){return Hn}),n.d(e,"xb",function(){return Ko}),n.d(e,"yb",function(){return wt}),n.d(e,"zb",function(){return hu}),n.d(e,"Ab",function(){return Ai}),n.d(e,"Bb",function(){return os}),n.d(e,"Cb",function(){return Ls}),n.d(e,"Db",function(){return ta}),n.d(e,"Eb",function(){return Vs}),n.d(e,"Fb",function(){return Uc}),n.d(e,"Gb",function(){return X}),n.d(e,"Hb",function(){return st}),n.d(e,"Ib",function(){return _}),n.d(e,"Jb",function(){return E}),n.d(e,"Kb",function(){return rt}),n.d(e,"Lb",function(){return at}),n.d(e,"Mb",function(){return cs}),n.d(e,"Nb",function(){return ps}),n.d(e,"Ob",function(){return ms}),n.d(e,"Pb",function(){return gs}),n.d(e,"Qb",function(){return ds}),n.d(e,"Rb",function(){return fs}),n.d(e,"Sb",function(){return ys}),n.d(e,"Tb",function(){return sn}),n.d(e,"Ub",function(){return ea}),n.d(e,"Vb",function(){return eu}),n.d(e,"Wb",function(){return ru}),n.d(e,"Xb",function(){return nu}),n.d(e,"Yb",function(){return An}),n.d(e,"Zb",function(){return un}),n.d(e,"ac",function(){return Kc}),n.d(e,"bc",function(){return _s}),n.d(e,"cc",function(){return qc}),n.d(e,"dc",function(){return Oe}),n.d(e,"ec",function(){return Ee}),n.d(e,"fc",function(){return Cs}),n.d(e,"gc",function(){return Oc}),n.d(e,"hc",function(){return Cc}),n.d(e,"ic",function(){return Ts}),n.d(e,"jc",function(){return Is}),n.d(e,"kc",function(){return ls}),n.d(e,"lc",function(){return xs}),n.d(e,"mc",function(){return As}),n.d(e,"nc",function(){return bc}),n.d(e,"oc",function(){return vc}),n.d(e,"pc",function(){return wc}),n.d(e,"qc",function(){return Lc}),n.d(e,"rc",function(){return us}),n.d(e,"sc",function(){return Gt}),n.d(e,"tc",function(){return Or}),n.d(e,"uc",function(){return it}),n.d(e,"vc",function(){return Ms}),n.d(e,"wc",function(){return as}),n.d(e,"xc",function(){return Qc}),n.d(e,"yc",function(){return Ys}),n.d(e,"zc",function(){return Js}),n.d(e,"Ac",function(){return Zs}),n.d(e,"Bc",function(){return Xs}),n.d(e,"Cc",function(){return Fc});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${b(t)} found${n}`)}function w(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function O(t){return C(t,I)||C(t,x)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(T)||t.hasOwnProperty(A))?t[T]:null}const I=u({"\u0275prov":u}),T=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),A=u({ngInjectorDef:u});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let k;function R(t){const e=k;return k=t,e}function D(t,e,n){const r=O(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function N(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,q=V||U||L||F,B={},H=[],z=[],Q=u({"\u0275cmp":u}),K=u({"\u0275dir":u}),G=u({"\u0275pipe":u}),W=u({"\u0275mod":u}),$=u({"\u0275loc":u}),Y=u({"\u0275fac":u}),J=u({__NG_ELEMENT_ID__:u});let Z=0;function X(t){return N(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function tt(t){return ut(t)||function(t){return t[K]||null}(t)}function et(t){return function(t){return t[G]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&N(()=>{nt[t.id]=t.type}),e}function it(t,e){return N(()=>{const n=ct(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function ot(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=X;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[Q]||null}function ct(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),Et}function Et(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new vt(u&&u.currentValue,e,s===B),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}wt.ngInherit=!0;const St="http://www.w3.org/2000/svg";let It;function Tt(t){It=t}function xt(){return void 0!==It?It:"undefined"!=typeof document?document:void 0}function At(t){return!!t.listen}const jt={createRenderer:(t,e)=>xt()};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return kt(e[t])}function Dt(t,e){return kt(e[t.index])}function Nt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Mt(t,e){const n=e[t];return ft(n)?n:n[0]}function Vt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function qt(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ht={lFrame:ge(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Ht.bindingsEnabled}function Qt(){return Ht.lFrame.lView}function Kt(){return Ht.lFrame.tView}function Gt(t){Ht.lFrame.contextLView=t}function Wt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return Ht.lFrame.currentTNode}function Yt(){const t=Ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Jt(t,e){const n=Ht.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Ht.lFrame.isParent}function Xt(){Ht.lFrame.isParent=!1}function te(){return Ht.isInCheckNoChangesMode}function ee(t){Ht.isInCheckNoChangesMode=t}function ne(){const t=Ht.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function re(){return Ht.lFrame.bindingIndex}function ie(){return Ht.lFrame.bindingIndex++}function oe(t){const e=Ht.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function se(t){Ht.lFrame.inI18n=t}function ae(t,e){const n=Ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,ue(e)}function ue(t){Ht.lFrame.currentDirectiveIndex=t}function ce(){return Ht.lFrame.currentQueryIndex}function le(t){Ht.lFrame.currentQueryIndex=t}function he(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function fe(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=he(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ht.lFrame=pe();return r.currentTNode=e,r.lView=t,!0}function de(t){const e=pe(),n=t[1];Ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pe(){const t=Ht.lFrame,e=null===t?null:t.child;return null===e?ge(t):e}function ge(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function me(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ye=me;function be(){const t=me();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ve(){return Ht.lFrame.selectedIndex}function we(t){Ht.lFrame.selectedIndex=t}function _e(){const t=Ht.lFrame;return Nt(t.tView,t.selectedIndex)}function Ee(){Ht.lFrame.currentNamespace=St}function Oe(){Ht.lFrame.currentNamespace=null}function Ce(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Se(t,e,n){xe(t,e,3,n)}function Ie(t,e,n,r){(3&t[2])===n&&xe(t,e,n,r)}function Te(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function xe(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ae(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ae(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const je=-1;class ke{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Re(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ne(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function De(t){return 3===t||4===t||6===t}function Ne(t){return 64===t.charCodeAt(0)}function Pe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Me(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Me(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ve(t){return t!==je}function Le(t){return 32767&t}function Fe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ue=!0;function qe(t){const e=Ue;return Ue=t,e}let Be=0;function He(t,e){const n=Qe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ze(r.data,t),ze(e,null),ze(r.blueprint,null));const i=Ke(t,e),o=t.injectorIndex;if(Ve(i)){const t=Le(i),n=Fe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function ze(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ke(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return je;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return je}function Ge(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Be++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function We(t,e,n){if(n&j.Optional)return t;v(e,"NodeInjector")}function $e(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],o=R(void 0);try{return i?i.get(e,r,n&j.Optional):D(e,r,n&j.Optional)}finally{R(o)}}return We(r,e,n)}function Ye(t,e,n,r=j.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:Ze:e}(n);if("function"==typeof o){if(!fe(e,t,r))return r&j.Host?We(i,n,r):$e(e,n,r,i);try{const t=o();if(null!=t||r&j.Optional)return t;v(n)}finally{ye()}}else if("number"==typeof o){let i=null,s=Qe(t,e),a=je,u=r&j.Host?e[16][6]:null;for((-1===s||r&j.SkipSelf)&&(a=-1===s?Ke(t,e):e[s+8],a!==je&&rn(r,!1)?(i=e[1],s=Le(a),e=Fe(a,e)):s=-1);-1!==s;){const t=e[1];if(nn(o,s,t.data)){const t=Xe(s,e,n,i,r,u);if(t!==Je)return t}a=e[s+8],a!==je&&rn(r,e[1].data[s+8]===u)&&nn(o,s,e)?(i=t,s=Le(a),e=Fe(a,e)):s=-1}}}return $e(e,n,r,i)}const Je={};function Ze(){return new on(Wt(),Qt())}function Xe(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=tn(a,s,n,null==r?gt(a)&&Ue:r!=s&&0!=(3&a.type),i&j.Host&&o===a);return null!==u?en(e,s,u,a):Je}function tn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&yt(t)&&t.type===n)return u}return null}function en(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ke){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(b(o[n]));const a=qe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?R(s.injectImpl):null;fe(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&R(u),qe(a),s.resolving=!1,ye()}}return i}function nn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function rn(t,e){return!(t&j.Self||t&j.Host&&e)}class on{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ye(this._tNode,this._lView,t,void 0,e)}}function sn(t){return N(()=>{const e=t.prototype.constructor,n=e[Y]||an(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||an(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function an(t){return g(t)?()=>{const e=an(p(t));return e&&e()}:bt(t)}function un(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(De(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Wt(),t)}const cn="__parameters__";function ln(t,e,n){return N(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(cn)?t[cn]:Object.defineProperty(t,cn,{value:[]})[cn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class hn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fn=new hn("AnalyzeForEntryComponents"),dn=Function;function pn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),pn(r,e)):e!==t&&e.push(r)}return e}function gn(t,e){t.forEach(t=>Array.isArray(t)?gn(t,e):e(t))}function mn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function vn(t,e,n){let r=_n(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wn(t,e){const n=_n(t,e);if(n>=0)return t[1|n]}function _n(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const En={},On=/\n/gm,Cn="__source",Sn=u({provide:String,useValue:u});let In;function Tn(t){const e=In;return In=t,e}function xn(t,e=j.Default){if(void 0===In)throw new Error("inject() must be called from an injection context");return null===In?D(t,void 0,e):In.get(t,e&j.Optional?null:void 0,e)}function An(t,e=j.Default){return(k||xn)(p(t),e)}function jn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(An(t,n))}else e.push(An(r))}return e}function kn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Rn=kn(ln("Inject",t=>({token:t})),-1),Dn=kn(ln("Optional"),8),Nn=kn(ln("SkipSelf"),4);let Pn;function Mn(t){var e;return(null===(e=function(){if(void 0===Pn&&(Pn=null,q.trustedTypes))try{Pn=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Pn}())||void 0===e?void 0:e.createHTML(t))||t}class Vn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ln extends Vn{getTypeName(){return"HTML"}}class Fn extends Vn{getTypeName(){return"Style"}}class Un extends Vn{getTypeName(){return"Script"}}class qn extends Vn{getTypeName(){return"URL"}}class Bn extends Vn{getTypeName(){return"ResourceURL"}}function Hn(t){return t instanceof Vn?t.changingThisBreaksApplicationSecurity:t}function zn(t,e){const n=Qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Qn(t){return t instanceof Vn&&t.getTypeName()||null}function Kn(t){return new Ln(t)}function Gn(t){return new Fn(t)}function Wn(t){return new Un(t)}function $n(t){return new qn(t)}function Yn(t){return new Bn(t)}function Jn(t){const e=new Xn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Mn(""),"text/html")}catch(t){return!1}}()?new Zn(e):e}class Zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Mn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Xn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Mn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Mn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const tr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nr(t){return(t=String(t)).match(tr)||t.match(er)?t:"unsafe:"+t}function rr(t){return(t=String(t)).split(",").map(t=>nr(t.trim())).join(", ")}function ir(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function or(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const sr=ir("area,br,col,hr,img,wbr"),ar=ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ur=ir("rp,rt"),cr=or(ur,ar),lr=or(sr,or(ar,ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),or(ur,ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cr),hr=ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fr=ir("srcset"),dr=or(hr,fr,ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pr=ir("script,style,template");class gr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!lr.hasOwnProperty(e))return this.sanitizedSomething=!0,!pr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!dr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;hr[i]&&(o=nr(o)),fr[i]&&(o=rr(o)),this.buf.push(" ",e,'="',br(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();lr.hasOwnProperty(e)&&!sr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(br(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yr=/([^\#-~ |!])/g;function br(t){return t.replace(/&/g,"&amp;").replace(mr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(yr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vr;function wr(t,e){let n=null;try{vr=vr||Jn(t);let r=e?String(e):"";n=vr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=vr.getInertBodyElement(r)}while(r!==o);return Mn((new gr).sanitizeChildren(_r(n)||n))}finally{if(n){const t=_r(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function _r(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Er=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Or(t){const e=function(){const t=Qt();return t&&t[12]}();return e?e.sanitize(Er.URL,t)||"":zn(t,"URL")?Hn(t):nr(y(t))}function Cr(t){return t.ngDebugContext}function Sr(t){return t.ngOriginalError}function Ir(t,...e){t.error(...e)}class Tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ir}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Cr(t)?Cr(t):this._findContext(Sr(t)):null}_findOriginalError(t){let e=Sr(t);for(;e&&Sr(e);)e=Sr(e);return e}}const xr=/^>|^->|<!--|-->|--!>|<!-$/g,Ar=/(<|>)/;function jr(t,e){t.__ngContext__=e}const kr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Rr(t){return t instanceof Function?t():t}var Dr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Nr;function Pr(t,e){return Nr(t,e)}function Mr(t){const e=t[3];return dt(e)?e[3]:e}function Vr(t){return Fr(t[13])}function Lr(t){return Fr(t[4])}function Fr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Ur(t,e,n,r,i){if(null!=r){let o,s=!1;dt(r)?o=r:ft(r)&&(s=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?Zr(e,n,a):Jr(e,n,a,i||null,!0):1===t&&null!==n?Jr(e,n,a,i||null,!0):2===t?li(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==kt(n)&&Ur(e,t,r,o,i);for(let s=ht;s<n.length;s++){const i=n[s];fi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function qr(t,e){return At(t)?t.createText(e):t.createTextNode(e)}function Br(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}function Hr(t,e){return t.createComment(function(t){return t.replace(xr,t=>t.replace(Ar,"\u200b$1\u200b"))}(e))}function zr(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Qr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Kr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Qr(o,r),e>0&&(t[n-1][4]=r[4]);const s=yn(t,ht+e);fi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Gr(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Wr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Wr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Wr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Wr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ke)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Qr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function $r(t,e,n){return Yr(t,e.parent,n)}function Yr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Dt(r,n)}function Jr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Zr(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Xr(t,e,n,r,i){null!==r?Jr(t,e,n,r,i):Zr(t,e,n)}function ti(t,e){return At(t)?t.parentNode(e):e.parentNode}function ei(t,e,n){return ii(t,e,n)}function ni(t,e,n){return 40&t.type?Dt(t,n):null}let ri,ii=ni;function oi(t,e){ii=t,ri=e}function si(t,e,n,r){const i=$r(t,r,e),o=e[11],s=ei(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Xr(o,i,n[a],s,!1);else Xr(o,i,n,s,!1);void 0!==ri&&ri(o,r,e,n,i)}function ai(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return ci(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ai(t,n);{const n=t[e.index];return dt(n)?ci(-1,n):kt(n)}}if(32&n)return Pr(e,t)()||kt(t[e.index]);{const n=ui(t,e);return null!==n?Array.isArray(n)?n[0]:ai(Mr(t[16]),n):ai(t,e.next)}}return null}function ui(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ci(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ai(t,r)}return e[7]}function li(t,e,n){const r=ti(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function hi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&jr(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)hi(t,e,n.child,r,i,o,!1),Ur(e,t,i,a,o);else if(32&u){const s=Pr(n,r);let u;for(;u=s();)Ur(e,t,i,u,o);Ur(e,t,i,a,o)}else 16&u?di(t,e,r,n,i,o):Ur(e,t,i,a,o);n=s?n.projectionNext:n.next}}function fi(t,e,n,r,i,o){hi(n,r,t.firstChild,e,i,o,!1)}function di(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ur(e,t,i,a[u],o);else hi(t,e,a,s[3],i,o,!0)}function pi(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gi(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function mi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const yi="ng-template";function bi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==mi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vi(t){return 4===t.type&&t.value!==yi}function wi(t,e,n){return e===(4!==t.type||n?t.value:yi)}function _i(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(De(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!wi(t,u,n)||""===u&&1===e.length){if(Ei(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!bi(t.attrs,c,n)){if(Ei(r))return!1;s=!0}continue}const l=Oi(8&r?"class":u,i,vi(t),n);if(-1===l){if(Ei(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==mi(e,c,0)||2&r&&c!==t){if(Ei(r))return!1;s=!0}}}}else{if(!s&&!Ei(r)&&!Ei(u))return!1;if(s&&Ei(u))continue;s=!1,r=u|1&r}}return Ei(r)||s}function Ei(t){return 0==(1&t)}function Oi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(_i(t,e[r],n))return!0;return!1}function Si(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ii(t,e){return t?":not("+e.trim()+")":e}function Ti(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ei(s)||(e+=Ii(o,i),i=""),r=s,o=o||!Ei(r);n++}return""!==i&&(e+=Ii(o,i)),e}const xi={};function Ai(t){ji(Kt(),Qt(),ve()+t,te())}function ji(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Se(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ie(e,r,0,n)}we(n)}function ki(t,e){return t<<17|e<<2}function Ri(t){return t>>17&32767}function Di(t){return 2|t}function Ni(t){return(131068&t)>>2}function Pi(t,e){return-131069&t|e<<2}function Mi(t){return 1|t}function Vi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];le(i),n.contentQueries(2,e[o],o)}}}function Li(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,qt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Fi(t,e,n,r,i){let o=t.data[e];if(null===o)o=Ui(t,e,n,r,i),Ht.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=Yt();o.injectorIndex=null===t?-1:t.injectorIndex}return Jt(o,!0),o}function Ui(t,e,n,r,i){const o=$t(),s=Zt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function qi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Bi(t,e,n){de(e);try{const r=t.viewQuery;null!==r&&wo(1,r,n);const i=t.template;null!==i&&Qi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Vi(t,e),t.staticViewQueries&&wo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)go(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function Hi(t,e,n,r){const i=e[2];if(256==(256&i))return;de(e);const o=te();try{qt(e),Ht.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Qi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Se(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ie(e,n,0,null),Te(e,0)}if(function(t){for(let e=Vr(t);null!==e;e=Lr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Vr(t);null!==e;e=Lr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&Hi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Vi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Se(e,n)}else{const n=t.contentHooks;null!==n&&Ie(e,n,1),Te(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)we(~r);else{const i=r,o=n[++t],s=n[++t];ae(o,i),s(2,e[i])}}}finally{we(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)fo(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&wo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Se(e,n)}else{const n=t.viewHooks;null!==n&&Ie(e,n,2),Te(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{be()}}function zi(t,e,n,r){const i=e[10],o=!te(),s=Lt(e);try{o&&!s&&i.begin&&i.begin(),s&&Bi(t,e,r),Hi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Qi(t,e,n,r,i){const o=ve(),s=2&r;try{we(-1),s&&e.length>lt&&ji(t,e,lt,te()),n(r,i)}finally{we(o)}}function Ki(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Gi(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||He(n,e),jr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=yt(r);o&&ao(e,n,r);const u=en(e,t,a,n);jr(u,e),null!==s&&co(0,a-i,u,r,0,s),o&&(Mt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ht.lFrame.currentDirectiveIndex;try{we(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ue(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||no(r,i)}}finally{we(-1),ue(s)}}(t,e,n))}function Wi(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function $i(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Yi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Yi(t,e,n,r,i,o,s,a,u,c){const l=lt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:xi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ji(t,e,n,r){const i=Eo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Oo(t).push(r,i.length-1))}function Zi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Xi(t,e,n,r,i,o,s,a){const u=Dt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(So(t,n,c,r,i),gt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,At(o)?o.setProperty(u,r,i):Ne(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function to(t,e,n,r){let i=!1;if(zt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Ci(n,s.selectors,!1)&&(i||(i=[]),Ge(He(n,e),t,s.type),yt(s)?(ro(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,oo(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=qi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Pe(n.mergedAttrs,c.hostAttrs),so(t,n,e,u,c),io(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||vi(e)?null:lo(n,i);o.push(c),s=Zi(n,u,s),a=Zi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Pe(n.mergedAttrs,n.attrs),i}function eo(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function no(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ro(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function io(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function oo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function so(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new ke(o,yt(i),null);t.blueprint[r]=s,n[r]=s,eo(t,e,0,r,qi(t,n,i.hostVars,xi),i)}function ao(t,e,n){const r=Dt(e,t),i=$i(n),o=t[10],s=mo(t,Li(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function uo(t,e,n,r,i,o,s){if(null==o)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function co(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function lo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ho(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function fo(t,e){const n=Mt(e,t);if(Ft(n)){const t=n[1];80&n[2]?Hi(t,n,t.template,n[8]):n[5]>0&&po(n)}}function po(t){for(let n=Vr(t);null!==n;n=Lr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Hi(t,e,t.template,e[8])}else e[5]>0&&po(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);Ft(r)&&r[5]>0&&po(r)}}function go(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Bi(r,n,n[8])}function mo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function yo(t){for(;t;){t[2]|=64;const e=Mr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function bo(t,e,n){const r=e[10];r.begin&&r.begin();try{Hi(t,e,t.template,n)}catch(i){throw Co(e,i),i}finally{r.end&&r.end()}}function vo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Vt(n),i=r[1];zi(i,r,i.template,n)}}(t[8])}function wo(t,e,n){le(0),e(t,n)}const _o=(()=>Promise.resolve(null))();function Eo(t){return t[7]||(t[7]=[])}function Oo(t){return t.cleanup||(t.cleanup=[])}function Co(t,e){const n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function So(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Io(t,e,n){const r=Rt(e,t);Br(t[11],r,n)}function To(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const xo=new hn("INJECTOR",-1);class Ao{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const jo=new hn("Set Injector scope."),ko={},Ro={},Do=[];let No;function Po(){return void 0===No&&(No=new Ao),No}function Mo(t,e=null,n=null,r){return new Vo(t,n,e||Po(),r)}class Vo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&gn(e,n=>this.processProvider(n,t,e)),gn([t],t=>this.processInjectorType(t,[],i)),this.records.set(xo,Uo(void 0,this));const o=this.records.get(jo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=j.Default){this.assertNotDestroyed();const r=Tn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof hn)&&O(t);e=n&&this.injectableDefInScope(n)?Uo(Lo(t),ko):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?Po():this.parent).get(t,e=n&j.Optional&&e===En?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Cn]&&i.unshift(e[Cn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Tn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{gn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];gn(r,t=>this.processProvider(t,n,r||Do))}}this.injectorDefTypes.add(o);const a=bt(o)||(()=>new o);this.records.set(o,Uo(a,ko));const u=r.providers;if(null!=u&&!s){const e=t;gn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Bo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return qo(t)?Uo(void 0,t.useValue):Uo(Fo(t),ko)}(t);if(Bo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Uo(void 0,ko,!0),e.factory=()=>jn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ko&&(e.value=Ro,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Lo(t){const e=O(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof hn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=bn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Fo(t,e,n){let r;if(Bo(t)){const e=p(t);return bt(e)||Lo(e)}if(qo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...jn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>An(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Lo(e);r=()=>new e(...jn(t.deps))}var i;return r}function Uo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qo(t){return null!==t&&"object"==typeof t&&Sn in t}function Bo(t){return"function"==typeof t}const Ho=function(t,e,n){return function(t,e=null,n=null,r){const i=Mo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let zo=(()=>{class t{static create(t,e){return Array.isArray(t)?Ho(t,e,""):Ho(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new Ao,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>An(xo)}),t.__NG_ELEMENT_ID__=-1,t})();function Qo(t,e){Ce(Vt(t)[1],Wt())}function Ko(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Go(t.inputs),e.declaredInputs=Go(t.declaredInputs),e.outputs=Go(t.outputs);const n=i.hostBindings;n&&Yo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Wo(t,o),s&&$o(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ko&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pe(i.hostAttrs,n=Pe(n,i.hostAttrs))}}(r)}function Go(t){return t===B?{}:t===z?[]:t}function Wo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function $o(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Yo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Jo=null;function Zo(){if(!Jo){const t=q.Symbol;if(t&&t.iterator)Jo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Jo=n)}}}return Jo}class Xo{constructor(t){this.wrapped=t}static wrap(t){return new Xo(t)}static unwrap(t){return Xo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Xo}}function ts(t){return!!es(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zo()in t)}function es(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ns(t,e,n){return t[e]=n}function rs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function is(t,e,n,r){const i=rs(t,e,n);return rs(t,e+1,r)||i}function os(t,e,n,r){const i=Qt();return rs(i,ie(),e)&&(Kt(),function(t,e,n,r,i,o){const s=Dt(t,e);uo(e[11],s,o,t.value,n,r,i)}(_e(),i,t,e,n,r)),os}function ss(t,e,n,r){return rs(t,ie(),n)?e+y(n)+r:xi}function as(t,e,n,r,i,o,s,a){const u=Qt(),c=Kt(),l=t+lt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Fi(e,t,4,s||null,Ut(c,a));to(e,n,l,Ut(c,u)),Ce(e,l);const h=l.tViews=Yi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Jt(h,!1);const f=u[11].createComment("");si(c,u,f,h),jr(f,u),mo(u,u[l]=ho(f,u,f,h)),mt(h)&&Gi(c,u,h),null!=s&&Wi(u,h,a)}function us(t){return Pt(Ht.lFrame.contextLView,lt+t)}function cs(t,e=j.Default){const n=Qt();return null===n?An(t,e):Ye(Wt(),n,p(t),e)}function ls(t,e,n){const r=Qt();return rs(r,ie(),e)&&Xi(Kt(),_e(),r,t,e,r[11],n,!1),ls}function hs(t,e,n,r,i){const o=i?"class":"style";So(t,n,e.inputs[o],o,r)}function fs(t,e,n,r){const i=Qt(),o=Kt(),s=lt+t,a=i[11],u=i[s]=zr(a,e,Ht.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Fi(e,t,2,i,Ut(a,o));return to(e,n,u,Ut(a,s)),null!==u.attrs&&To(u,u.attrs,!1),null!==u.mergedAttrs&&To(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Jt(c,!0);const l=c.mergedAttrs;null!==l&&Re(a,u,l);const h=c.classes;null!==h&&gi(a,u,h);const f=c.styles;null!==f&&pi(a,u,f),64!=(64&c.flags)&&si(o,i,u,c),0===Ht.lFrame.elementDepthCount&&jr(u,i),Ht.lFrame.elementDepthCount++,mt(c)&&(Gi(o,i,c),Ki(o,c,i)),null!==r&&Wi(i,c)}function ds(){let t=Wt();Zt()?Xt():(t=t.parent,Jt(t,!1));const e=t;Ht.lFrame.elementDepthCount--;const n=Kt();n.firstCreatePass&&(Ce(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&hs(n,e,Qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&hs(n,e,Qt(),e.stylesWithoutHost,!1)}function ps(t,e,n,r){fs(t,e,n,r),ds()}function gs(t,e,n){const r=Qt(),i=Kt(),o=t+lt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ut(o,r),a=Fi(e,t,8,"ng-container",s);return null!==s&&To(a,s,!0),to(e,n,a,Ut(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Jt(s,!0);const a=r[o]=r[11].createComment("");si(i,r,a,s),jr(a,r),mt(s)&&(Gi(i,r,s),Ki(i,s,r)),null!=n&&Wi(r,s)}function ms(){let t=Wt();const e=Kt();Zt()?Xt():(t=t.parent,Jt(t,!1)),e.firstCreatePass&&(Ce(e,t),pt(t)&&e.queries.elementEnd(t))}function ys(){return Qt()}function bs(t){return!!t&&"function"==typeof t.then}function vs(t){return!!t&&"function"==typeof t.subscribe}const ws=vs;function _s(t,e,n=!1,r){const i=Qt(),o=Kt(),s=Wt();return function(t,e,n,r,i,o,s=!1,a){const u=mt(r),c=t.firstCreatePass&&Oo(t),l=Eo(e);let h=!0;if(3&r.type){const f=Dt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,m=a?t=>a(kt(t[r.index])).target:r.index;if(At(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Os(r,e,0,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Os(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=Os(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),_s}function Es(t,e,n,r){try{return!1!==n(r)}catch(i){return Co(t,i),!1}}function Os(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&yo(s);let a=Es(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Es(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Cs(t=1){return function(t){return(Ht.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ht.lFrame.contextLView))[8]}(t)}function Ss(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Ci(t,o,!0):Si(r,o))return i}else n=i}return n}function Is(t){const e=Qt()[16][6];if(!e.projection){const n=e.projection=bn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ss(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ts(t,e=0,n){const r=Qt(),i=Kt(),o=Fi(i,lt+t,16,null,n||null);null===o.projection&&(o.projection=e),Xt(),64!=(64&o.flags)&&function(t,e,n){di(e[11],0,e,n,$r(t,n,e),ei(n.parent||e[6],n,e))}(i,r,o)}function xs(t,e,n){return As(t,"",e,"",n),xs}function As(t,e,n,r,i){const o=Qt(),s=ss(o,e,n,r);return s!==xi&&Xi(Kt(),_e(),o,t,s,o[11],i,!1),As}function js(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ri(o):Ni(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];ks(t[a],e)&&(u=!0,t[a+1]=r?Mi(n):Di(n)),a=r?Ri(n):Ni(n)}u&&(t[n+1]=r?Di(o):Mi(o))}function ks(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_n(t,e)>=0}const Rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ds(t){return t.substring(Rs.key,Rs.keyEnd)}function Ns(t,e){const n=Rs.textEnd;return n===e?-1:(e=Rs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Rs.key=e,n),Ps(t,e,n))}function Ps(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ms(t,e,n){return Us(t,e,n,!1),Ms}function Vs(t,e){return Us(t,e,null,!0),Vs}function Ls(t){qs(vn,Fs,t,!0)}function Fs(t,e){for(let n=function(t){return function(t){Rs.key=0,Rs.keyEnd=0,Rs.value=0,Rs.valueEnd=0,Rs.textEnd=t.length}(t),Ns(t,Ps(t,0,Rs.textEnd))}(e);n>=0;n=Ns(e,n))vn(t,Ds(e),!0)}function Us(t,e,n,r){const i=Qt(),o=Kt(),s=oe(2);o.firstUpdatePass&&Hs(o,t,s,r),e!==xi&&rs(i,s,e)&&Ks(o,o.data[ve()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Hn(t)))),t}(e,n),r,s)}function qs(t,e,n,r){const i=Kt(),o=oe(2);i.firstUpdatePass&&Hs(i,null,o,r);const s=Qt();if(n!==xi&&rs(s,o,n)){const a=i.data[ve()];if($s(a,r)&&!Bs(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),hs(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===xi&&(i=H);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Ks(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=Hn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Bs(t,e){return e>=t.expandoStartIndex}function Hs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ve()],s=Bs(t,n);$s(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ht.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Qs(n=zs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=zs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ni(r))return t[Ri(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=zs(null,t,e,n[1],r),n=Qs(n,e.attrs,r),function(t,e,n,r){t[Ri(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Qs(r,t[o].hostAttrs,n);return Qs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ri(s),u=Ni(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||_n(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ri(t[a+1]);t[r+1]=ki(e,a),0!==e&&(t[e+1]=Pi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ki(a,0),0!==a&&(t[a+1]=Pi(t[a+1],r)),a=r;else t[r+1]=ki(u,0),0===a?a=r:t[u+1]=Pi(t[u+1],r),u=r;l&&(t[r+1]=Di(t[r+1])),js(t,c,r,!0),js(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&_n(o,e)>=0&&(n[r+1]=Mi(n[r+1]))}(e,c,t,r,o),s=ki(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function zs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Qs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Qs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Ks(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ws(1==(1&c)?Gs(u,e,n,i,Ni(c),s):void 0)||(Ws(o)||2==(2&c)&&(o=Gs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=At(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Dr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Dr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Rt(ve(),n),i,o))}function Gs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===xi&&(l=c?H:void 0);let h=c?wn(l,r):u===r?l:void 0;if(o&&!Ws(h)&&(h=wn(e,r)),Ws(h)&&(a=h,s))return a;const f=t[i+1];i=s?Ri(f):Ni(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=wn(t,r))}return a}function Ws(t){return void 0!==t}function $s(t,e){return 0!=(t.flags&(e?16:32))}function Ys(t,e=""){const n=Qt(),r=Kt(),i=t+lt,o=r.firstCreatePass?Fi(r,i,1,e,null):r.data[i],s=n[i]=qr(n[11],e);si(r,n,s,o),Jt(o,!1)}function Js(t){return Zs("",t,""),Js}function Zs(t,e,n){const r=Qt(),i=ss(r,t,e,n);return i!==xi&&Io(r,ve(),i),Zs}function Xs(t,e,n,r,i){const o=Qt(),s=function(t,e,n,r,i,o){const s=is(t,re(),n,i);return oe(2),s?e+y(n)+r+y(i)+o:xi}(o,t,e,n,r,i);return s!==xi&&Io(o,ve(),s),Xs}function ta(t,e,n,r,i,o,s,a,u){qs(vn,Fs,function(t,e,n,r,i,o,s,a,u,c){const l=function(t,e,n,r,i,o){const s=is(t,e,n,r);return is(t,e+2,i,o)||s}(t,re(),n,i,s,u);return oe(4),l?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c:xi}(Qt(),t,e,n,r,i,o,s,a,u),!0)}function ea(t,e,n){const r=Qt();return rs(r,ie(),e)&&Xi(Kt(),_e(),r,t,e,r[11],n,!0),ea}const na=void 0;var ra=["en",[["a","p"],["AM","PM"],na],[["AM","PM"],na,na],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],na,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],na,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",na,"{1} 'at' {0}",na],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ia={};function oa(t,e,n){"string"!=typeof e&&(n=e,e=t[la.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ia[e]=t,n&&(ia[e][la.ExtraData]=n)}function sa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ca(e);if(n)return n;const r=e.split("-")[0];if(n=ca(r),n)return n;if("en"===r)return ra;throw new Error(`Missing locale data for the locale "${t}".`)}function aa(t){return sa(t)[la.CurrencyCode]||null}function ua(t){return sa(t)[la.PluralCase]}function ca(t){return t in ia||(ia[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),ia[t]}var la=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ha=["zero","one","two","few","many"],fa="en-US",da={marker:"element"},pa={marker:"ICU"};var ga=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let ma=fa;function ya(t){var e;null==(e=t)&&w("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ma=t.toLowerCase().replace(/_/g,"-"))}function ba(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ni(t,0,n):kt(n[i])}function va(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Jr(t,s,n[o[e]],a,!1)}}function wa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];_a(r)||Ea(r,e)&&null===Oa(r)&&Ca(r,e.index)}}function _a(t){return!(64&t.type)}function Ea(t,e){return _a(e)||t.index>e.index}function Oa(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Ca(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(oi(ba,va),t.insertBeforeIndex=e)}function Sa(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ia(t,e,n){const r=Ui(t,n,64,null,null);return wa(e,r),r}function Ta(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let xa=0,Aa=0;function ja(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=qr(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=ti(i,r)),c===s?(l=r,h=o):(l=null,h=kt(n[c])),null!==h){const e=(131070&u)>>>1;Jr(i,h,n[e],l,!1);const r=Sa(t,e);if(null!==r&&"object"==typeof r){const e=Ta(r,n);null!==e&&ja(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];uo(i,Rt(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case pa:const t=e[++a],r=e[++a];null===n[r]&&jr(n[r]=Hr(i,t),n);break;case da:const o=e[++a],s=e[++a];null===n[s]&&jr(n[s]=zr(i,o,null),n)}}}function ka(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=y(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?uo(e[11],e[a],null,c,o,i,u):Xi(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Br(e[11],l,i);break;case 2:Da(t,Sa(t,a),e,i);break;case 3:Ra(t,Sa(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Sa(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Ra(t,n,r,e)}}o+=a}}function Ra(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=xa;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),ka(t,r,e.update[i],n,o)}}function Da(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ua(e)(parseInt(t,10)),r=ha[n];return void 0!==r?r:"other"}(e,ma);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Ta(e,n)!==i&&(Na(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&ja(t,e.create[i],n,r)}}function Na(t,e,n){let r=Ta(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Rt(r,n);null!==t&&li(n[11],t)}else Na(t,Sa(t,~r),n)}}}const Pa=/\ufffd(\d+):?\d*\ufffd/gi,Ma=/\ufffd(\d+)\ufffd/,Va=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,La=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Fa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ua=/\uE500/g;function qa(t,e,n,r,i,o,s){const a=qi(t,r,1,null);let u=a<<ga.SHIFT,c=Yt();e===c&&(c=null),null===c&&(u|=ga.APPEND_EAGERLY),s&&(u|=ga.COMMENT,void 0===Nr&&(Nr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Ta(t,e);n=null!==i?t.remove[i]:z}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Ui(t,a,s?32:1,null===o?"":o,null);wa(n,l);const h=l.index;return Jt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(oi(ba,va),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Ba(t,e,n,r,i,o,s){const a=s.match(Pa),u=qa(t,e,n,o,r,a?null:s,!1);a&&Ha(i,s,u.index,null,0,null)}function Ha(t,e,n,r,i,o){const s=t.length,a=s+1;t.push(null,null);const u=s+2,c=e.split(Pa);let l=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=za(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,o),t[s]=l,t[a]=t.length-u,l}function za(t){return 1<<Math.min(t,31)}function Qa(t){let e,n,r="",i=0,o=!1;for(;null!==(e=La.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function Ka(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:qi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(za(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=$a(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function Ga(t){const e=[],n=[];let r=1,i=0;const o=Wa(t=t.replace(Va,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Wa(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Wa(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Va.test(n)?r.push(Ga(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function $a(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Jn(xt()).getInertBodyElement(s),f=_r(h)||h;return f?Ya(t,e,n,r,u,c,l,f,i,a,0):0}function Ya(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=qi(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(lr.hasOwnProperty(p)){Xa(i,da,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(Pa)?dr.hasOwnProperty(n)&&Ha(s,e.value,a,e.name,0,hr[n]?nr:fr[n]?rr:null):tu(i,a,e)}h=Ya(t,e,n,r,i,o,s,f,a,c,l+1)|h,Ja(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(Pa);Xa(i,null,m?"":g,u,a),Ja(o,a,l),m&&(h=Ha(s,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=Ma.exec(f.textContent||"");if(y){const e=c[parseInt(y[1],10)];Xa(i,pa,"",u,a),Ka(t,n,r,u,e,a),Za(o,a,l)}}f=f.nextSibling}return h}function Ja(t,e,n){0===n&&t.push(e)}function Za(t,e,n){0===n&&(t.push(~e),t.push(e))}function Xa(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function tu(t,e,n){t.push(e<<1|1,n.name,n.value)}function eu(t,e,n){(function(t,e,n=-1){const r=Kt(),i=Qt(),o=lt+t,s=Ut(r.consts,e),a=Yt();r.firstCreatePass&&function(t,e,n,r,i,o){const s=Yt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Qa(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Qa(t.substring(n,r))}}(i,o),h.replace(Ua," ")).split(Fa);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=Wa(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&Ba(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Ka(t,n,u,e,r,qa(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),lt+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Jt(Yt(),!1);else{const e=Ia(t,c[0],n);c.unshift([]),Jt(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Yr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&ga.COMMENT)===ga.COMMENT,c=(s&ga.APPEND_EAGERLY)===ga.APPEND_EAGERLY,l=s>>>ga.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):qr(i,a)),c&&null!==n&&Jr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),se(!0)})(t,e,n),se(!1)}function nu(t){return rs(Qt(),ie(),t)&&(xa|=1<<Math.min(Aa,31)),Aa++,nu}function ru(t){!function(t,e,n){if(Aa>0){const r=t.data[n];ka(t,e,Array.isArray(r)?r:r.update,re()-Aa-1,xa)}xa=0,Aa=0}(Kt(),Qt(),t+lt)}function iu(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)iu(t[o],e,n,r,i);else{const o=Kt(),s=Qt();let a=Bo(t)?t:p(t.provide),u=Fo(t);const c=Wt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Bo(t)||!t.multi){const r=new ke(u,i,cs),d=au(a,e,i?l:l+f,h);-1===d?(Ge(He(c,s),o,a),ou(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=au(a,e,l+f,h),p=au(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ge(He(c,s),o,a);const l=function(t,e,n,r,i){const o=new ke(t,n,cs);return o.multi=[],o.index=e,o.componentProviders=0,su(o,i,r&&!n),o}(i?cu:uu,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ou(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ou(o,t,d>-1?d:p,su(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ou(t,e,n,r){const i=Bo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function su(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function au(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function uu(t,e,n,r){return lu(this.multi,[])}function cu(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=en(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),lu(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],lu(i,o);return o}function lu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function hu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Kt();if(r.firstCreatePass){const i=yt(t);iu(n,r.data,r.blueprint,i,!0),iu(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class fu{}class du{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let pu=(()=>{class t{}return t.NULL=new du,t})();function gu(...t){}function mu(t,e){return new bu(Dt(t,e))}const yu=function(){return mu(Wt(),Qt())};let bu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=yu,t})();function vu(t){return t instanceof bu?t.nativeElement:t}class wu{}let _u=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Eu(),t})();const Eu=function(){const t=Qt(),e=Mt(Wt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let Ou=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Cu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Su=new Cu("11.2.13");class Iu{constructor(){}supports(t){return ts(t)}create(t){return new xu(t)}}const Tu=(t,e)=>e;class xu{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Tu}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ru(n,r,i)?e:n,s=Ru(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ts(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Zo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Au(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ku),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ku),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Au{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ju{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ku{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ju,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ru(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Du{constructor(){}supports(t){return t instanceof Map||es(t)}create(){return new Nu}}class Nu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||es(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Pu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Pu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mu(){return new Vu([new Iu])}let Vu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Mu()),deps:[[t,new Nn,new Dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Mu}),t})();function Lu(){return new Fu([new Du])}let Fu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Lu()),deps:[[t,new Nn,new Dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Lu}),t})();function Uu(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(kt(o)),dt(o))for(let t=ht;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Uu(e[1],e,n,r)}const s=n.type;if(8&s)Uu(t,e,n.child,r);else if(32&s){const t=Pr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=ui(e,n);if(Array.isArray(t))r.push(...t);else{const n=Mr(e[16]);Uu(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class qu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Uu(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Kr(t,n),yn(e,n))}this._attachedToViewContainer=!1}Gr(this._lView[1],this._lView)}onDestroy(t){Ji(this._lView[1],this._lView,null,t)}markForCheck(){yo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{bo(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Bu extends qu{constructor(t){super(t),this._view=t}detectChanges(){vo(this._view)}checkNoChanges(){!function(t){ee(!0);try{vo(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const Hu=Qu;let zu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Hu,t.__ChangeDetectorRef__=!0,t})();function Qu(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Mt(t.index,e);return new qu(n,n)}return 47&t.type?new qu(e[16],e):null}(Wt(),Qt(),t)}const Ku=[new Du],Gu=new Vu([new Iu]),Wu=new Fu(Ku),$u=function(){return Xu(Wt(),Qt())};let Yu=(()=>{class t{}return t.__NG_ELEMENT_ID__=$u,t})();const Ju=Yu,Zu=class extends Ju{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Li(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Bi(e,n,t),new qu(n)}};function Xu(t,e){return 4&t.type?new Zu(e,t,mu(t,e)):null}class tc{}class ec{}const nc=function(){return uc(Wt(),Qt())};let rc=(()=>{class t{}return t.__NG_ELEMENT_ID__=nc,t})();const ic=rc,oc=class extends ic{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new on(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ke(this._hostTNode,this._hostLView);if(Ve(t)){const e=Fe(t,this._hostLView),n=Le(t);return new on(e[1].data[n+8],e)}return new on(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=sc(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(tc,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new oc(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ht+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ht?(e[4]=n[i],mn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=ci(i,o),a=n[11],u=ti(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,fi(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),mn(ac(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=sc(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Kr(this._lContainer,e);n&&(yn(ac(this._lContainer),e),Gr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Kr(this._lContainer,e);return n&&null!=yn(ac(this._lContainer),e)?new qu(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function sc(t){return t[8]}function ac(t){return t[8]||(t[8]=[])}function uc(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);Jr(n,ti(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ho(r,e,i,t),mo(e,n)}return new oc(n,t,e)}const cc={};class lc extends pu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new dc(e,this.ngModule)}}function hc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const fc=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kr});class dc extends fu{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ti).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return hc(this.componentDef.inputs)}get outputs(){return hc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,cc,i);return o!==cc||r===cc?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(wu,jt),s=i.get(Ou,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):zr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?St:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:kr,clean:_o,playerHandler:null,flags:0},f=Yi(0,null,null,1,0,null,null,null,null,null),d=Li(null,f,h,l,null,null,o,a,s,i);let p,g;de(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Fi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(To(a,u,!0),null!==t&&(Re(i,t,u),null!==a.classes&&gi(i,t,a.classes),null!==a.styles&&pi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Li(n,$i(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Ge(He(a,n),s,e.type),ro(s,a),oo(a,n.length,1)),mo(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Re(a,c,["ng-version",Su.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ei(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Re(a,c,t),e&&e.length>0&&gi(a,c,e.join(" "))}if(g=Nt(f,lt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),so(t,r,e,qi(t,e,1,null),n));const i=en(e,t,r.directiveStart,r);jr(i,e);const o=Dt(r,e);return o&&jr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Wt();e.contentQueries(1,s,t.directiveStart)}const a=Wt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(we(a.index),eo(n[1],a,0,a.directiveStart,a.directiveEnd,e),no(e,s)),s}(t,this.componentDef,d,h,[Qo]),Bi(f,d,null)}finally{be()}return new pc(this.componentType,p,mu(g,d),d,g)}}class pc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Bu(r),this.componentType=t}get injector(){return new on(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const gc=new Map;class mc extends tc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lc(this);const n=ct(t),r=t[$]||null;r&&ya(r),this._bootstrapComponents=Rr(n.bootstrap),this._r3Injector=Mo(t,e,[{provide:tc,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=zo.THROW_IF_NOT_FOUND,n=j.Default){return t===zo||t===tc||t===xo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class yc extends ec{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,gc.get(i),n),gc.set(i,n));const o=Rr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new mc(this.moduleType,t)}}function bc(t,e,n,r){return Ec(Qt(),ne(),t,e,n,r)}function vc(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return is(t,a,i,o)?ns(t,a+2,s?r.call(s,i,o):r(i,o)):_c(t,a+2)}(Qt(),ne(),t,e,n,r,i)}function wc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=is(t,e,n,r);return rs(t,e+2,i)||o}(t,u,i,o,s)?ns(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):_c(t,u+3)}(Qt(),ne(),t,e,n,r,i,o)}function _c(t,e){const n=t[e];return n===xi?void 0:n}function Ec(t,e,n,r,i,o){const s=e+n;return rs(t,s,i)?ns(t,s+1,o?r.call(o,i):r(i)):_c(t,s+1)}function Oc(t,e){const n=Kt();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=bt(r.type)),s=R(cs);try{const t=qe(!1),e=o();return qe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Qt(),i,e),e}finally{R(s)}}function Cc(t,e,n){const r=t+lt,i=Qt(),o=Pt(i,r);return function(t,e){return Xo.isWrapped(e)&&(e=Xo.unwrap(e),t[re()]=xi),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Ec(i,ne(),e,o.transform,n,o):o.transform(n))}function Sc(t){return e=>{setTimeout(t,void 0,e)}}const Ic=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=Sc(u),a&&(a=Sc(a)),c&&(c=Sc(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Tc(){return this._results[Zo()]()}class xc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Zo(),n=xc.prototype;n[e]||(n[e]=Tc)}get changes(){return this._changes||(this._changes=new Ic)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=pn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ac{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ac(this.queryList)}setDirty(){this.queryList.setDirty()}}class jc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new jc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==zc(t,e).matches&&this.queries[e].setDirty()}}class kc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Rc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Rc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Dc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Dc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Nc(e,i)),this.matchTNodeWithReadOption(t,e,tn(e,t,i,!1,!1))}else n===Yu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===bu||r===rc||r===Yu&&4&e.type)this.addMatch(e.index,-2);else{const n=tn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Nc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Pc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?mu(t,e):4&t.type?Xu(t,e):null}(e,t):-2===n?function(t,e,n){return n===bu?mu(e,t):n===Yu?Xu(e,t):n===rc?uc(e,t):void 0}(t,e,r):en(t,t[1],n,e)}function Mc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Pc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Vc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Mc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ht;t<s.length;t++){const e=s[t];e[17]===e[3]&&Vc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Vc(n[1],n,i,r)}}}}}return r}function Lc(t){const e=Qt(),n=Kt(),r=ce();le(r+1);const i=zc(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Vc(n,e,r,[]):Mc(n,e,i,r);t.reset(o,vu),t.notifyOnChanges()}return!0}return!1}function Fc(t,e,n){const r=Kt();r.firstCreatePass&&(Hc(r,new kc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Bc(r,Qt(),e)}function Uc(t,e,n,r){const i=Kt();if(i.firstCreatePass){const o=Wt();Hc(i,new kc(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Bc(i,Qt(),n)}function qc(){return t=Qt(),e=ce(),t[19].queries[e].queryList;var t,e}function Bc(t,e,n){const r=new xc(4==(4&n));Ji(t,e,r,r.destroy),null===e[19]&&(e[19]=new jc),e[19].queries.push(new Ac(r))}function Hc(t,e,n){null===t.queries&&(t.queries=new Rc),t.queries.track(new Dc(e,n))}function zc(t,e){return t.queries.getByIndex(e)}function Qc(t,e){return Xu(t,e)}function Kc(t=j.Default){const e=Qu(!0);if(null!=e||t&j.Optional)return e;v("ChangeDetectorRef")}const Gc=new hn("Application Initializer");let Wc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=gu,this.reject=gu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();bs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(An(Gc,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const $c=new hn("AppId"),Yc={provide:$c,useFactory:function(){return`${Jc()}${Jc()}${Jc()}`},deps:[]};function Jc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zc=new hn("Platform Initializer"),Xc=new hn("Platform ID"),tl=new hn("appBootstrapListener");let el=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const nl=new hn("LocaleId"),rl=new hn("DefaultCurrencyCode");class il{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ol=function(t){return new yc(t)},sl=ol,al=function(t){return Promise.resolve(ol(t))},ul=function(t){const e=ol(t),n=Rr(ct(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new dc(n)),t},[]);return new il(e,n)},cl=ul,ll=function(t){return Promise.resolve(ul(t))};let hl=(()=>{class t{constructor(){this.compileModuleSync=sl,this.compileModuleAsync=al,this.compileModuleAndAllComponentsSync=cl,this.compileModuleAndAllComponentsAsync=ll}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const fl=(()=>Promise.resolve(0))();function dl(t){"undefined"==typeof Zone?fl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ic(!1),this.onMicrotaskEmpty=new Ic(!1),this.onStable=new Ic(!1),this.onError=new Ic(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,yl(t),ml(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),yl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return bl(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),vl(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return bl(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),vl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,yl(t),ml(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,gl,gu,gu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const gl={};function ml(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vl(t){t._nesting--,ml(t)}class wl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ic,this.onMicrotaskEmpty=new Ic,this.onStable=new Ic,this.onError=new Ic}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let _l=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pl.assertNotInAngularZone(),dl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(An(pl))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),El=(()=>{class t{constructor(){this._applications=new Map,Il.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Il.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Ol{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Cl(t){Il=t}let Sl,Il=new Ol,Tl=!0,xl=!1;function Al(){return xl=!0,Tl}function jl(){if(xl)throw new Error("Cannot enable prod mode after platform setup.");Tl=!1}const kl=new hn("AllowMultipleToken");class Rl{constructor(t,e){this.name=t,this.token=e}}function Dl(t,e,n=[]){const r=`Platform: ${e}`,i=new hn(r);return(e=[])=>{let o=Nl();if(!o||o.injector.get(kl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:jo,useValue:"platform"});!function(t){if(Sl&&!Sl.destroyed&&!Sl.injector.get(kl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Sl=t.get(Pl);const e=t.get(Zc,null);e&&e.forEach(t=>t())}(zo.create({providers:t,name:r}))}return function(t){const e=Nl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Nl(){return Sl&&!Sl.destroyed?Sl:null}let Pl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new wl:("zone.js"===t?void 0:t)||new pl({enableLongStackTrace:Al(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:pl,useValue:n}];return n.run(()=>{const e=zo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Tr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Ll(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return bs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Wc);return t.runInitializers(),t.donePromise.then(()=>(ya(i.injector.get(nl,fa)||fa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ml({},e);return function(t,e,n){const r=new yc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(An(zo))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ml(t,e){return Array.isArray(e)?e.reduce(Ml,t):Object.assign(Object.assign({},t),e)}let Vl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pl.assertNotInAngularZone(),dl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof fu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(tc),i=n.create(zo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(_l,null),a=s&&i.injector.get(El);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Ll(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ll(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(tl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(An(pl),An(zo),An(Tr),An(pu),An(Wc))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ll(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Fl{}class Ul{}const ql={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Bl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ql}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Hl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Hl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(An(hl),An(Ul,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Hl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const zl=function(t){return null},Ql=Dl(null,"core",[{provide:Xc,useValue:"unknown"},{provide:Pl,deps:[zo]},{provide:El,deps:[]},{provide:el,deps:[]}]),Kl=[{provide:Vl,useClass:Vl,deps:[pl,zo,Tr,pu,Wc]},{provide:fc,deps:[pl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Wc,useClass:Wc,deps:[[new Dn,Gc]]},{provide:hl,useClass:hl,deps:[]},Yc,{provide:Vu,useFactory:function(){return Gu},deps:[]},{provide:Fu,useFactory:function(){return Wu},deps:[]},{provide:nl,useFactory:function(t){return ya(t=t||"undefined"!=typeof $localize&&$localize.locale||fa),t},deps:[[new Rn(nl),new Dn,new Nn]]},{provide:rl,useValue:"USD"}];let Gl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(An(Vl))},t.\u0275mod=rt({type:t}),t.\u0275inj=E({providers:Kl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return I}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return g}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new b(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function I(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return I}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[b,u.A,[new u.B,v]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Yb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>{return Object(i.a)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Yb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Ib)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Yb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Yb)(s).location;return new v(Object(r.Yb)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(m),r.Yb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new _(Object(r.Yb)(m),Object(r.Yb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.mb;class I{}let T=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new A,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){j("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){j("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class A{constructor(){this.$implicit=null,this.ngIf=null}}function j(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:I,useClass:T}]}),t})();function R(t){return"server"===t}let D=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new N(Object(r.Yb)(s),window)}),t})();class N{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=P(this.window.history)||P(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function P(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class M extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new M,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=L||(L=document.querySelector("base"),L)?L.getAttribute("href"):null;return null==e?null:(n=e,V||(V=document.createElement("a")),V.setAttribute("href",n),"/"===V.pathname.charAt(0)?V.pathname:"/"+V.pathname);var n}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let V,L=null;const F=new r.r("TRANSITION_ID"),U=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[F,s,r.s],multi:!0}];class q{static init(){Object(r.X)(new q)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const B=new r.r("EventManagerPlugins");let H=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(B),r.Yb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class z{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),K=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const G={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},W=/%COMP%/g;function $(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$(t,i,n):(i=i.replace(W,t),n.push(i))}return n}function Y(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let J=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Z(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new X(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new tt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=$(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(H),r.Yb(K),r.Yb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Z{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(G[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=G[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=G[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Y(n)):this.eventManager.addEventListener(t,e,Y(n))}}class X extends Z{constructor(t,e,n,r){super(t),this.component=n;const i=$(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(W,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(W,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class tt extends Z{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=$(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let et=(()=>{class t extends z{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const nt=["alt","control","meta","shift"],rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},it={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ot={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let st=(()=>{class t extends z{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(nt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&it.hasOwnProperty(e)&&(e=it[e]))}return rt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),nt.forEach(r=>{r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const at=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){M.makeCurrent(),q.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],ut=Object(r.S)(r.W,"browser",at),ct=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:B,useClass:et,multi:!0,deps:[s,r.A,r.C]},{provide:B,useClass:st,multi:!0,deps:[s]},[],{provide:J,useClass:J,deps:[H,K,r.c]},{provide:r.F,useExisting:J},{provide:Q,useExisting:K},{provide:K,useClass:K,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:H,useClass:H,deps:[B,r.A]},[]];let lt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:F,useExisting:r.c},U]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:ct,imports:[k,r.f]}),t})();"undefined"!=typeof window&&window;var ht=n("HDdC"),ft=n("EY2u"),dt=n("LRne"),pt=n("XNiG"),gt=n("DH7j"),mt=n("n6bG"),yt=n("lJxs");function bt(t,e,n,r){return Object(mt.a)(n)&&(r=n,n=void 0),r?bt(t,e,n).pipe(Object(yt.a)(t=>Object(gt.a)(t)?r(...t):r(t))):new ht.a(r=>{vt(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function vt(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)vt(t[o],e,n,r,i)}r.add(o)}var wt=n("D0XW"),_t=n("Y7HM"),Et=n("z+Ro");function Ot(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var Ct=n("yCtX"),St=n("7o/Q");class It extends St.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Tt extends St.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var xt=n("SeVD");function At(t,e,n,r,i=new Tt(t,n,r)){if(!i.closed)return e instanceof ht.a?e.subscribe(i):Object(xt.a)(e)(i)}function jt(...t){if(1===t.length){if(!Object(gt.a)(t[0]))return t[0];t=t[0]}return Object(Ct.a)(t,void 0).lift(new kt)}class kt{call(t,e){return e.subscribe(new Rt(t))}}class Rt extends It{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=At(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}var Dt=n("9ppp");class Nt extends pt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Dt.a;return this._value}next(t){super.next(this._value=t)}}const Pt={};class Mt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Vt(t,this.resultSelector))}}class Vt extends It{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(At(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Pt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("KqfI");var Lt=n("Lhse"),Ft=n("zx2A");function Ut(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(Ct.a)(t,void 0).lift(new qt(e))}class qt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Bt(t,this.resultSelector))}}class Bt extends St.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(gt.a)(t)?e.push(new zt(t)):e.push("function"==typeof t[Lt.a]?new Ht(t[Lt.a]()):new Qt(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Ht{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class zt{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Lt.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Qt extends Ft.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Lt.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Ft.c)(this.observable,new Ft.a(this))}}var Kt=n("VRyK"),Gt=n("bHdf");function Wt(...t){return Object(Gt.a)(1)(Object(dt.a)(...t))}function $t(t){return e=>e.lift(new Yt(t))}class Yt{constructor(t){this.notifier=t}call(t,e){const n=new Jt(t),r=Object(Ft.c)(this.notifier,new Ft.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Jt extends Ft.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Zt(t,e){return function(n){return n.lift(new Xt(t,e))}}class Xt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new te(t,this.predicate,this.thisArg))}}class te extends St.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const ee=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ne(t){return e=>0===t?Object(ft.b)():e.lift(new re(t))}class re{constructor(t){if(this.total=t,this.total<0)throw new ee}call(t,e){return e.subscribe(new ie(t,this.total))}}class ie extends St.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function oe(...t){const e=t[t.length-1];return Object(Et.a)(e)?(t.pop(),n=>Wt(t,n,e)):e=>Wt(t,e)}class se{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ae(t,this.compare,this.keySelector))}}class ae extends St.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ue=n("Cfvw");function ce(t,e){return"function"==typeof e?n=>n.pipe(ce((n,r)=>Object(ue.a)(t(n,r)).pipe(Object(yt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new le(t))}class le{constructor(t){this.project=t}call(t,e){return e.subscribe(new he(t,this.project))}}class he extends Ft.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ft.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ft.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var fe=n("vkgz");function de(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new pe(t,n))}}class pe{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new ge(t,this.observables,this.project))}}class ge extends It{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(At(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var me=n("WMd4");class ye{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new be(t,this.delay,this.scheduler))}}class be extends St.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(be.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new ve(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(me.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(me.a.createComplete()),this.unsubscribe()}}class ve{constructor(t,e){this.time=t,this.notification=e}}var we=n("5+tZ");n("w1tV");var _e=n("XoHu");function Ee(t,e){return new ht.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(ue.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Oe{}const Ce=new r.r("NgValueAccessor"),Se={provide:Ce,useExisting:Object(r.U)(()=>Te),multi:!0},Ie=new r.r("CompositionEventMode");let Te=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(Ie,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([Se])]}),t})();const xe=new r.r("NgValidators"),Ae=new r.r("NgAsyncValidators");function je(t){return null!=t}function ke(t){const e=Object(r.rb)(t)?Object(ue.a)(t):t;return Object(r.qb)(e),e}function Re(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function De(t,e){return e.map(e=>e(t))}function Ne(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Pe(t){return null!=t?function(t){if(!t)return null;const e=t.filter(je);return 0==e.length?null:function(t){return Re(De(t,e))}}(Ne(t)):null}function Me(t){return null!=t?function(t){if(!t)return null;const e=t.filter(je);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(gt.a)(e))return Ee(e,null);if(Object(_e.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ee(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ee(t=1===t.length&&Object(gt.a)(t[0])?t[0]:t,null).pipe(Object(yt.a)(t=>e(...t)))}return Ee(t,null)}(De(t,e).map(ke)).pipe(Object(yt.a)(Re))}}(Ne(t)):null}function Ve(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Le(t){return t._rawValidators}function Fe(t){return t._rawAsyncValidators}let Ue=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Pe(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Me(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),qe=(()=>{class t extends Ue{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Be(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.xb]}),t})();const Be=r.Tb(qe);class He extends Ue{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ze{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let Qe=(()=>{class t extends ze{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(He,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})(),Ke=(()=>{class t extends ze{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(qe,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();function Ge(t,e){Ye(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ze(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ze(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function We(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Je(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $e(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ye(t,e,n){const r=Le(t);null!==e.validator?t.setValidators(Ve(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Fe(t);if(null!==e.asyncValidator?t.setAsyncValidators(Ve(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();$e(e._rawValidators,n),$e(e._rawAsyncValidators,n)}}function Je(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Le(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Fe(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};$e(e._rawValidators,t),$e(e._rawAsyncValidators,t)}return r}function Ze(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Xe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const tn="VALID",en="INVALID",nn="PENDING",rn="DISABLED";function on(t){return(cn(t)?t.validators:t)||null}function sn(t){return Array.isArray(t)?Pe(t):t||null}function an(t,e){return(cn(e)?e.asyncValidators:t)||null}function un(t){return Array.isArray(t)?Me(t):t||null}function cn(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ln{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=sn(this._rawValidators),this._composedAsyncValidatorFn=un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===tn}get invalid(){return this.status===en}get pending(){return this.status==nn}get disabled(){return this.status===rn}get enabled(){return this.status!==rn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=sn(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=un(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=nn,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=rn,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tn,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==tn&&this.status!==nn||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rn:tn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=nn,this._hasOwnPendingAsyncValidator=!0;const e=ke(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof fn?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof dn&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?rn:this.errors?en:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nn)?nn:this._anyControlsHaveStatus(en)?en:tn}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cn(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class hn extends ln{constructor(t=null,e,n){super(on(e),an(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Xe(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Xe(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class fn extends ln{constructor(t,e,n){super(on(e),an(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof hn?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class dn extends ln{constructor(t,e,n){super(on(e),an(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof hn?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let pn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),gn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const mn=new r.r("NgModelWithFormControlWarning"),yn={provide:qe,useExisting:Object(r.U)(()=>bn)};let bn=(()=>{class t extends qe{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Je(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Ge(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){We(t.control||null,t,!1),Xe(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(We(e||null,t),n instanceof hn&&(Ge(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){Ye(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return Je(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ye(this.form,this,!1),this._oldForm&&Je(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(xe,10),r.Mb(Ae,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([yn]),r.xb,r.yb]}),t})();const vn={provide:He,useExisting:Object(r.U)(()=>wn)};let wn=(()=>{class t extends He{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Te?n=t:Object.getPrototypeOf(t.constructor)===Oe?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(qe,13),r.Mb(xe,10),r.Mb(Ae,10),r.Mb(Ce,10),r.Mb(mn,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([vn]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const _n={provide:Ce,useExisting:Object(r.U)(()=>On),multi:!0};function En(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let On=(()=>{class t extends Oe{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=En(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([_n]),r.xb]}),t})(),Cn=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(En(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb(On,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Sn={provide:Ce,useExisting:Object(r.U)(()=>Tn),multi:!0};function In(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Tn=(()=>{class t extends Oe{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([Sn]),r.xb]}),t})(),xn=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(In(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(In(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb(Tn,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),An=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[gn]]}),t})(),jn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[An]}),t})(),kn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:mn,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[An]}),t})();const Rn=["*"],Dn=["dialog"];function Nn(t){return null!=t}function Pn(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Mn={animation:!0,transitionTimerDelayMs:5};let Vn=(()=>{class t{constructor(){this.animation=Mn.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Ln=()=>{},{transitionTimerDelayMs:Fn}=Mn,Un=new Map,qn=(t,e,n,r)=>{let i=r.context||{};const o=Un.get(e);if(o)switch(r.runningTransition){case"continue":return ft.a;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Un.delete(e)}const s=n(e,r.animation,i)||Ln;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),Object(dt.a)(void 0).pipe(function(t){return e=>new ht.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new pt.a,u=new pt.a,c=a.pipe(function(...t){return e=>Wt(e,Object(dt.a)(...t))}(!0));Un.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=bt(e,"transitionend").pipe($t(c),Zt(({target:t})=>t===e));jt(function(t=0,e,n){let r=-1;return Object(_t.a)(e)?r=Number(e)<1?1:Number(e):Object(Et.a)(e)&&(n=e),Object(Et.a)(n)||(n=wt.a),new ht.a(e=>{const i=Object(_t.a)(t)?t:+t-n.now();return n.schedule(Ot,i,{index:0,period:r,subscriber:e})})}(l+Fn).pipe($t(c)),n,u).pipe($t(c)).subscribe(()=>{Un.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let Bn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})(),Hn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})(),zn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),Qn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})(),Kn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();var Gn=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const Wn=(t,e)=>!!e&&e.some(e=>e.contains(t)),$n=(t,e)=>!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e),Yn="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Jn=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Zn(t){const e=Array.from(t.querySelectorAll(Jn)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const Xn=/\s+/,tr=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+u+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=m}};new Date(1882,10,12),new Date(2174,10,25);let er=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k,jn]]}),t})(),nr=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),rr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["",8,"navbar"]]}),t})(),ir=(()=>{class t{constructor(t){this.elementRef=t,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("disabled",e.disabled)},inputs:{disabled:"disabled"}}),t})(),or=(()=>{class t{constructor(t,e){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=e.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Object(r.U)(()=>ur)),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,e,n){if(1&t&&r.Fb(n,ir,0),2&t){let t;r.qc(t=r.cc())&&(e.menuItems=t)}},hostVars:5,hostBindings:function(t,e){1&t&&r.bc("keydown.ArrowUp",function(t){return e.dropdown.onKeyDown(t)})("keydown.ArrowDown",function(t){return e.dropdown.onKeyDown(t)})("keydown.Home",function(t){return e.dropdown.onKeyDown(t)})("keydown.End",function(t){return e.dropdown.onKeyDown(t)})("keydown.Enter",function(t){return e.dropdown.onKeyDown(t)})("keydown.Space",function(t){return e.dropdown.onKeyDown(t)})("keydown.Tab",function(t){return e.dropdown.onKeyDown(t)})("keydown.Shift.Tab",function(t){return e.dropdown.onKeyDown(t)}),2&t&&(r.Bb("x-placement",e.placement),r.Eb("dropdown-menu",!0)("show",e.dropdown.isOpen()))}}),t})(),sr=(()=>{class t{constructor(t,e){this.dropdown=t,this.nativeElement=e.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Object(r.U)(()=>ur)),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("aria-expanded",e.dropdown.isOpen())}}),t})(),ar=(()=>{class t extends sr{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Object(r.U)(()=>ur)),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){1&t&&r.bc("click",function(){return e.dropdown.toggle()})("keydown.ArrowUp",function(t){return e.dropdown.onKeyDown(t)})("keydown.ArrowDown",function(t){return e.dropdown.onKeyDown(t)})("keydown.Home",function(t){return e.dropdown.onKeyDown(t)})("keydown.End",function(t){return e.dropdown.onKeyDown(t)})("keydown.Tab",function(t){return e.dropdown.onKeyDown(t)})("keydown.Shift.Tab",function(t){return e.dropdown.onKeyDown(t)}),2&t&&r.Bb("aria-expanded",e.dropdown.isOpen())},features:[r.zb([{provide:sr,useExisting:Object(r.U)(()=>t)}]),r.xb]}),t})(),ur=(()=>{class t{constructor(t,e,n,i,o,s,a){this._changeDetector=t,this._document=n,this._ngZone=i,this._elementRef=o,this._renderer=s,this._closed$=new pt.a,this._bodyContainer=null,this._open=!1,this.openChange=new r.n,this.placement=e.placement,this.container=e.container,this.autoClose=e.autoClose,this.display=a?"static":"dynamic",this._zoneSubscription=i.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(ne(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses(),t.dropdownClass){const{currentValue:e,previousValue:n}=t.dropdownClass;this._applyCustomDropdownClass(e,n)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function(t,e,n,r,i,o,s,a){var u;n&&t.runOutsideAngular((u=()=>{const u=bt(e,"keydown").pipe($t(i),Zt(t=>t.which===Gn.Escape),Object(fe.a)(t=>t.preventDefault())),c=bt(e,"mousedown").pipe(Object(yt.a)(t=>{const e=t.target;return 2!==t.button&&!Wn(e,s)&&("inside"===n?Wn(e,o)&&$n(e,a):"outside"===n?!Wn(e,o):$n(e,a)||!Wn(e,o))}),$t(i)),l=bt(e,"mouseup").pipe(de(c),Zt(([t,e])=>e),function(t,e=wt.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new ye(r,e))}(0),$t(i));jt([u.pipe(Object(yt.a)(t=>0)),l.pipe(Object(yt.a)(t=>1))]).subscribe(e=>t.run(()=>r(e)))},Yn?()=>setTimeout(()=>u(),100):u))}(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(t){const e=t.which,n=this._getMenuElements();let r=-1,i=null;const o=this._isEventFromToggle(t);if(!o&&n.length&&n.forEach((e,n)=>{e.contains(t.target)&&(i=e),e===this._document.activeElement&&(r=n)}),e!==Gn.Space&&e!==Gn.Enter){if(e!==Gn.Tab){if(o||i){if(this.open(),n.length){switch(e){case Gn.ArrowDown:r=Math.min(r+1,n.length-1);break;case Gn.ArrowUp:if(this._isDropup()&&-1===r){r=n.length-1;break}r=Math.max(r-1,0);break;case Gn.Home:r=0;break;case Gn.End:r=n.length-1}n[r].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const e=this._menu.nativeElement.querySelectorAll(Jn);t.shiftKey&&t.target===e[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):t.shiftKey||t.target!==e[e.length-1]||(this._anchor.nativeElement.focus(),this.close())}else bt(t.target,"focusout").pipe(ne(1)).subscribe(({relatedTarget:t})=>{this._elementRef.nativeElement.contains(t)||this.close()})}}else!i||!0!==this.autoClose&&"inside"!==this.autoClose||bt(i,"click").pipe(ne(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(t=>!t.disabled).map(t=>t.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?function(t,e,n,r,i){let o=Array.isArray(n)?n:n.split(Xn);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t=>{const[e,n]=t.split("-"),r=[];return r};let u=o.findIndex(t=>"auto"===t);u>=0&&s.forEach(function(t){null==o.find(e=>-1!==e.search("^"+t))&&o.splice(u++,1,t)});const c=e.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";let l=null,h=!1;for(l of o){a(l);if(tr.positionElements(t,e,l,r)){h=!0;break}}return h||(l=o[0],a(l),tr.positionElements(t,e,l,r)),l}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;if(this._menu){const e=this._menu.nativeElement;t.appendChild(this._elementRef.nativeElement,e),t.removeStyle(e,"position"),t.removeStyle(e,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const t=this._renderer,e=this._menu.nativeElement,n=this._bodyContainer=this._bodyContainer||t.createElement("div");t.setStyle(n,"position","absolute"),t.setStyle(e,"position","static"),t.setStyle(n,"z-index","1050"),t.appendChild(n,e),t.appendChild(this._document.body,n)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,e){const n="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;n&&(e&&this._renderer.removeClass(n,e),t&&this._renderer.addClass(n,t))}_applyPlacementClasses(t){const e=this._menu;if(e){t||(t=this._getFirstPlacement(this.placement));const n=this._renderer,r=this._elementRef.nativeElement;n.removeClass(r,"dropup"),n.removeClass(r,"dropdown"),e.placement="static"===this.display?null:t;const i=-1!==t.search("^top")?"dropup":"dropdown";n.addClass(r,i);const o=this._bodyContainer;o&&(n.removeClass(o,"dropup"),n.removeClass(o,"dropdown"),n.addClass(o,i))}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.h),r.Mb(nr),r.Mb(s),r.Mb(r.A),r.Mb(r.l),r.Mb(r.E),r.Mb(rr,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,or,1),r.Fb(n,sr,1)),2&t){let t;r.qc(t=r.cc())&&(e._menu=t.first),r.qc(t=r.cc())&&(e._anchor=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("show",e.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display",dropdownClass:"dropdownClass"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[r.yb]}),t})(),cr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),lr=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Vn))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(Vn))},token:t,providedIn:"root"}),t})();class hr{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const fr=()=>{};let dr=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):fr}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(s))},token:t,providedIn:"root"}),t})(),pr=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(ne(1)).subscribe(()=>{qn(this._zone,this._el.nativeElement,(t,e)=>{e&&Pn(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return qn(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class gr{close(t){}dismiss(t){}}class mr{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new pt.a,this._dismissed=new pt.a,this._hidden=new pt.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe($t(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe($t(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(dt.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ut(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yr=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let br=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new pt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new pt.a,this.hidden=new pt.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Ut(qn(this._zone,t,()=>t.classList.remove("show"),e),qn(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};Ut(qn(this._zone,this._elRef.nativeElement,(t,e)=>{e&&Pn(t),t.classList.add("show")},t),qn(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{bt(t,"keydown").pipe($t(this._closed$),Zt(t=>t.which===Gn.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(yr.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;bt(this._dialogEl.nativeElement,"mousedown").pipe($t(this._closed$),Object(fe.a)(()=>e=!1),ce(()=>bt(t,"mouseup").pipe($t(this._closed$),ne(1))),Zt(({target:e})=>t===e)).subscribe(()=>{e=!0}),bt(t,"click").pipe($t(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(yr.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Zn(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&qn(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s),r.Mb(r.l),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Cc(Dn,3),2&t){let t;r.qc(t=r.cc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Rn,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.jc(),r.Rb(0,"div",0,1),r.Rb(2,"div",2),r.ic(3),r.Qb(),r.Qb()),2&t&&r.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),vr=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new pt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=bt(e,"focusin").pipe($t(n),Object(yt.a)(t=>t.target));bt(e,"keydown").pipe($t(n),Zt(t=>t.which===Gn.Tab),de(t)).subscribe(([t,n])=>{const[r,i]=Zn(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&bt(e,"click").pipe($t(n),de(t),Object(yt.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:Nn(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new gr,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new mr(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(pr).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(br).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{Nn(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{Nn(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.L?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new hr([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new hr([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new hr([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.s.create({providers:[{provide:gr,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new hr([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.g),r.Yb(r.s),r.Yb(s),r.Yb(dr),r.Yb(r.F),r.Yb(r.A))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(r.g),Object(r.Yb)(r.o),Object(r.Yb)(s),Object(r.Yb)(dr),Object(r.Yb)(r.F),Object(r.Yb)(r.A))},token:t,providedIn:"root"}),t})(),wr=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.j),r.Yb(r.s),r.Yb(vr),r.Yb(lr))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(r.j),Object(r.Yb)(r.o),Object(r.Yb)(vr),Object(r.Yb)(lr))},token:t,providedIn:"root"}),t})(),_r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[wr]}),t})(),Er=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})(),Or=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})(),Cr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})(),Sr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})(),Ir=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})(),Tr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})(),xr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})(),Ar=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();new r.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});let jr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[k]]}),t})();const kr=[Bn,Hn,zn,Qn,Kn,er,cr,_r,Er,Or,Cr,Sr,Ir,Tr,xr,Ar,jr];let Rr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[kr,Bn,Hn,zn,Qn,Kn,er,cr,_r,Er,Or,Cr,Sr,Ir,Tr,xr,Ar,jr]}),t})();const Dr=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Nr(t){return new ht.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ue.a)(n):Object(ft.b)()).subscribe(e)})}var Pr=n("EQ5u");function Mr(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Vr(t,e,n))}}class Vr{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Lr(t,this.accumulator,this.seed,this.hasSeed))}}class Lr extends St.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Fr(t){return function(e){const n=new Ur(t),r=e.lift(n);return n.caught=r}}class Ur{constructor(t){this.selector=t}call(t,e){return e.subscribe(new qr(t,this.selector,this.caught))}}class qr extends Ft.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ft.a(this);this.add(r);const i=Object(Ft.c)(n,r);i!==r&&this.add(i)}}}function Br(t,e){return Object(we.a)(t,e,1)}function Hr(t){return function(e){return 0===t?Object(ft.b)():e.lift(new zr(t))}}class zr{constructor(t){if(this.total=t,this.total<0)throw new ee}call(t,e){return e.subscribe(new Qr(t,this.total))}}class Qr extends St.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Kr(t=$r){return e=>e.lift(new Gr(t))}class Gr{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Wr(t,this.errorFactory))}}class Wr extends St.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(E_){t=E_}this.destination.error(t)}}}function $r(){return new Dr}function Yr(t=null){return e=>e.lift(new Jr(t))}class Jr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Zr(t,this.defaultValue))}}class Zr extends St.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Xr=n("SpAZ");function ti(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Zt((e,n)=>t(e,n,r)):Xr.a,ne(1),n?Yr(e):Kr(()=>new Dr))}var ei=n("x+ZX"),ni=n("quSY");class ri{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ii(t,this.callback))}}class ii extends St.a{constructor(t,e){super(t),this.add(new ni.a(e))}}class oi{constructor(t,e){this.id=t,this.url=e}}class si extends oi{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ai extends oi{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ui extends oi{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ci extends oi{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class li extends oi{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends oi{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends oi{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class di extends oi{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends oi{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mi{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yi{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vi{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wi{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _i{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ei="primary";class Oi{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ci(t){return new Oi(t)}function Si(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ii(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ti(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!xi(t[i],e[i]))return!1;return!0}function xi(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ai(t){return Array.prototype.concat.apply([],t)}function ji(t){return t.length>0?t[t.length-1]:null}function ki(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ri(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(ue.a)(Promise.resolve(t)):Object(dt.a)(t)}function Di(t,e,n){return n?function(t,e){return Ti(t,e)}(t.queryParams,e.queryParams)&&Ni(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xi(t[n],e[n]))}(t.queryParams,e.queryParams)&&Pi(t.root,e.root)}function Ni(t,e){if(!Ui(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ni(t.children[n],e.children[n]))return!1}return!0}function Pi(t,e){return Mi(t,e,e.segments)}function Mi(t,e,n){if(t.segments.length>n.length)return!!Ui(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Ui(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Pi(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Ui(t.segments,r)&&!!t.children.primary&&Mi(t.children.primary,e,i)}}class Vi{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ci(this.queryParams)),this._queryParamMap}toString(){return Hi.serialize(this)}}class Li{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ki(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zi(this)}}class Fi{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ci(this.parameters)),this._parameterMap}toString(){return Ji(this)}}function Ui(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class qi{}class Bi{parse(t){const e=new no(t);return new Vi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Qi(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Gi(e)}=${Gi(t)}`).join("&"):`${Gi(e)}=${Gi(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Hi=new Bi;function zi(t){return t.segments.map(t=>Ji(t)).join("/")}function Qi(t,e){if(!t.hasChildren())return zi(t);if(e){const e=t.children.primary?Qi(t.children.primary,!1):"",n=[];return ki(t.children,(t,e)=>{e!==Ei&&n.push(`${e}:${Qi(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ki(t.children,(t,r)=>{r===Ei&&(n=n.concat(e(t,r)))}),ki(t.children,(t,r)=>{r!==Ei&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ei?[Qi(t.children.primary,!1)]:[`${n}:${Qi(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${zi(t)}/${e[0]}`:`${zi(t)}/(${e.join("//")})`}}function Ki(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gi(t){return Ki(t).replace(/%3B/gi,";")}function Wi(t){return Ki(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $i(t){return decodeURIComponent(t)}function Yi(t){return $i(t.replace(/\+/g,"%20"))}function Ji(t){return`${Wi(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Wi(t)}=${Wi(e[t])}`).join("")}`;var e}const Zi=/^[^\/()?;=#]+/;function Xi(t){const e=t.match(Zi);return e?e[0]:""}const to=/^[^=?&#]+/,eo=/^[^?&#]+/;class no{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Li([],{}):new Li([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Li(t,e)),n}parseSegment(){const t=Xi(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Fi($i(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Xi(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Xi(this.remaining);t&&(n=t,this.capture(n))}t[$i(e)]=$i(n)}parseQueryParam(t){const e=function(t){const e=t.match(to);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(eo);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Yi(e),i=Yi(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Xi(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ei);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Li([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ro{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=io(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=io(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=oo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return oo(t,this._root).map(t=>t.value)}}function io(t,e){if(t===e.value)return e;for(const n of e.children){const e=io(t,n);if(e)return e}return null}function oo(t,e){if(t===e.value)return[e];for(const n of e.children){const r=oo(t,n);if(r.length)return r.unshift(e),r}return[]}class so{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ao(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class uo extends ro{constructor(t,e){super(t),this.snapshot=e,go(this,t)}toString(){return this.snapshot.toString()}}function co(t,e){const n=function(t,e){const n=new fo([],{},{},"",{},Ei,e,null,t.root,-1,{});return new po("",new so(n,[]))}(t,e),r=new Nt([new Fi("",{})]),i=new Nt({}),o=new Nt({}),s=new Nt({}),a=new Nt(""),u=new lo(r,i,s,a,o,Ei,e,n.root);return u.snapshot=n.root,new uo(new so(u,[]),n)}class lo{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(yt.a)(t=>Ci(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(yt.a)(t=>Ci(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ho(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class fo{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ci(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ci(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class po extends ro{constructor(t,e){super(e),this.url=t,go(this,e)}toString(){return mo(this._root)}}function go(t,e){e.value._routerState=t,e.children.forEach(e=>go(t,e))}function mo(t){const e=t.children.length>0?` { ${t.children.map(mo).join(", ")} } `:"";return`${t.value}${e}`}function yo(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ti(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ti(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ti(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ti(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function bo(t,e){return Ti(t.params,e.params)&&function(t,e){return Ui(t,e)&&t.every((t,n)=>Ti(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||bo(t.parent,e.parent))}function vo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return vo(t,e,r);return vo(t,e)})}(t,e,n);return new so(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return wo(e,t),t}}const n=new lo(new Nt((r=e.value).url),new Nt(r.params),new Nt(r.queryParams),new Nt(r.fragment),new Nt(r.data),r.outlet,r.component,r),i=e.children.map(e=>vo(t,e));return new so(n,i)}var r}function wo(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)wo(t.children[n],e.children[n])}function _o(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Eo(t){return"object"==typeof t&&null!=t&&t.outlets}function Oo(t,e,n,r,i){let o={};return r&&ki(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Vi(n.root===t?e:Co(n.root,t,e),o,i)}function Co(t,e,n){const r={};return ki(t.children,(t,i)=>{r[i]=t===e?n:Co(t,e,n)}),new Li(t.segments,r)}class So{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&_o(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Eo);if(r&&r!==ji(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Io{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function To(t,e,n){if(t||(t=new Li([],{})),0===t.segments.length&&t.hasChildren())return xo(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Eo(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ro(a,u,e))return o;r+=2}else{if(!Ro(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Li(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Li(t.segments.slice(r.pathIndex),t.children),xo(e,0,i)}return r.match&&0===i.length?new Li(t.segments,{}):r.match&&!t.hasChildren()?Ao(t,e,n):r.match?xo(t,0,i):Ao(t,e,n)}function xo(t,e,n){if(0===n.length)return new Li(t.segments,{});{const r=function(t){return Eo(t[0])?t[0].outlets:{[Ei]:t}}(n),i={};return ki(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=To(t.children[r],e,n))}),ki(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Li(t.segments,i)}}function Ao(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Eo(o)){const t=jo(o.outlets);return new Li(r,t)}if(0===i&&_o(n[0])){r.push(new Fi(t.segments[e].path,ko(n[0]))),i++;continue}const s=Eo(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&_o(a)?(r.push(new Fi(s,ko(a))),i+=2):(r.push(new Fi(s,{})),i++)}return new Li(r,{})}function jo(t){const e={};return ki(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Ao(new Li([],{}),0,t))}),e}function ko(t){const e={};return ki(t,(t,n)=>e[n]=`${t}`),e}function Ro(t,e,n){return t==n.path&&Ti(e,n.parameters)}class Do{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),yo(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ao(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ki(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=ao(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=ao(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new wi(t.value.snapshot))}),t.children.length&&this.forwardEvent(new bi(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(yo(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),No(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function No(t){yo(t.value),t.children.forEach(No)}class Po{constructor(t,e){this.routes=t,this.module=e}}function Mo(t){return"function"==typeof t}function Vo(t){return t instanceof Vi}const Lo=Symbol("INITIAL_VALUE");function Fo(){return ce(t=>function(...t){let e,n;return Object(Et.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(gt.a)(t[0])&&(t=t[0]),Object(Ct.a)(t,n).lift(new Mt(e))}(t.map(t=>t.pipe(ne(1),oe(Lo)))).pipe(Mr((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Lo)return t;if(r===Lo&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Vo(r))return r}return t},t)},Lo),Zt(t=>t!==Lo),Object(yt.a)(t=>Vo(t)?t:!0===t),ne(1)))}let Uo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[Rs]},encapsulation:2}),t})();function qo(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Bo(r,Ho(e,r))}}function Bo(t,e){t.children&&qo(t.children,e)}function Ho(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function zo(t){const e=t.children&&t.children.map(zo),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ei&&(n.component=Uo),n}function Qo(t){return t.outlet||Ei}function Ko(t,e){const n=t.filter(t=>Qo(t)===e);return n.push(...t.filter(t=>Qo(t)!==e)),n}const Go={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Wo(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Go):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ii)(n,t,e);if(!i)return Object.assign({},Go);const o={};ki(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function $o(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Yo(t,e,n)&&Qo(n)!==Ei)}(t,n,r)){const i=new Li(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Qo(o)!==Ei){const n=new Li([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Qo(o)]=n}return i}(t,e,r,new Li(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Yo(t,e,n))}(t,n,r)){const o=new Li(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Yo(t,n,a)&&!i[Qo(a)]){const n=new Li([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Qo(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Li(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Yo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Jo(t,e,n,r){return!!(Qo(t)===r||r!==Ei&&Yo(e,n,t))&&("**"===t.path||Wo(e,t,n).matched)}function Zo(t,e,n){return 0===e.length&&!t.children[n]}class Xo{constructor(t){this.segmentGroup=t||null}}class ts{constructor(t){this.urlTree=t}}function es(t){return new ht.a(e=>e.error(new Xo(t)))}function ns(t){return new ht.a(e=>e.error(new ts(t)))}function rs(t){return new ht.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class is{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=$o(this.urlTree.root,[],[],this.config).segmentGroup,e=new Li(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ei).pipe(Object(yt.a)(t=>this.createUrlTree(os(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fr(t=>{if(t instanceof ts)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Xo)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ei).pipe(Object(yt.a)(e=>this.createUrlTree(os(e),t.queryParams,t.fragment))).pipe(Fr(t=>{if(t instanceof Xo)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Li([],{[Ei]:t}):t;return new Vi(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(yt.a)(t=>new Li([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(ue.a)(r).pipe(Br(r=>{const i=n.children[r],o=Ko(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(yt.a)(t=>({segment:t,outlet:r})))}),Mr((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Zt((e,n)=>t(e,n,r)):Xr.a,Hr(1),n?Yr(e):Kr(()=>new Dr))}())}expandSegment(t,e,n,r,i,o){return Object(ue.a)(n).pipe(Br(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Fr(t=>{if(t instanceof Xo)return Object(dt.a)(null);throw t}))),ti(t=>!!t),Fr((t,n)=>{if(t instanceof Dr||"EmptyError"===t.name){if(Zo(e,r,i))return Object(dt.a)(new Li([],{}));throw new Xo(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Jo(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):es(e):es(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ns(i):this.lineralizeSegments(n,i).pipe(Object(we.a)(n=>{const i=new Li(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Wo(e,r,i);if(!s)return es(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ns(l):this.lineralizeSegments(r,l).pipe(Object(we.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(dt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(yt.a)(t=>(n._loadedConfig=t,new Li(r,{})))):Object(dt.a)(new Li(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Wo(e,n,r);if(!o)return es(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(we.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=$o(e,s,u,o),l=new Li(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(yt.a)(t=>new Li(s,t)));if(0===o.length&&0===c.length)return Object(dt.a)(new Li(s,{}));const h=Qo(n)===i;return this.expandSegment(r,l,o,c,h?Ei:i,!0).pipe(Object(yt.a)(t=>new Li(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(dt.a)(new Po(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(dt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(we.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(yt.a)(t=>(e._loadedConfig=t,t))):function(t){return new ht.a(e=>e.error(Si(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(dt.a)(new Po([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(dt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Mo(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Mo(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ri(o)});return Object(dt.a)(i).pipe(Fo(),Object(fe.a)(t=>{if(!Vo(t))return;const e=Si(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(yt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(dt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return rs(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Vi(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ki(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return ki(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Li(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function os(t){const e={};for(const n of Object.keys(t.children)){const r=os(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Li(t.segments.concat(e.segments),e.children)}return t}(new Li(t.segments,e))}class ss{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class as{constructor(t,e){this.component=t,this.route=e}}function us(t,e,n){const r=t._root;return ls(r,e?e._root:null,n,[r.value])}function cs(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ls(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ao(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ui(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ui(t.url,e.url)||!Ti(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bo(t,e)||!Ti(t.queryParams,e.queryParams);case"paramsChange":default:return!bo(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ss(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ls(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new as(a.outlet.component,s))}else s&&hs(e,a,i),i.canActivateChecks.push(new ss(r)),ls(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),ki(o,(t,e)=>hs(t,n.getContext(e),i)),i}function hs(t,e,n){const r=ao(t),i=t.value;ki(r,(t,r)=>{hs(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new as(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class fs{}function ds(t){return new ht.a(e=>e.error(t))}class ps{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=$o(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ei);if(null===e)return null;const n=new fo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ei,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new so(n,e),i=new po(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ho(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Ko(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=ms(n);return r.sort((t,e)=>t.value.outlet===Ei?-1:e.value.outlet===Ei?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Zo(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Jo(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?ji(n).parameters:{};i=new fo(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vs(t),Qo(t),t.component,t,ys(e),bs(e)+n.length,ws(t))}else{const r=Wo(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new fo(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vs(t),Qo(t),t.component,t,ys(e),bs(e)+o.length,ws(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=$o(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new so(i,t)]}if(0===a.length&&0===c.length)return[new so(i,[])];const l=Qo(t)===r,h=this.processSegment(a,u,c,l?Ei:r);return null===h?null:[new so(i,h)]}}function gs(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ms(t){const e=[],n=new Set;for(const r of t){if(!gs(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=ms(r.children);e.push(new so(r.value,t))}return e.filter(t=>!n.has(t))}function ys(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function bs(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function vs(t){return t.data||{}}function ws(t){return t.resolve||{}}function _s(t){return ce(e=>{const n=t(e);return n?Object(ue.a)(n).pipe(Object(yt.a)(()=>e)):Object(dt.a)(e)})}class Es extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Os=new r.r("ROUTES");class Cs{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(yt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Po(Ai(i.injector.get(Os,void 0,r.q.Self|r.q.Optional)).map(zo),i)}),Fr(t=>{throw e._loader$=void 0,t}));return e._loader$=new Pr.a(n,()=>new pt.a).pipe(Object(ei.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(ue.a)(this.loader.load(t)):Ri(t()).pipe(Object(we.a)(t=>t instanceof r.w?Object(dt.a)(t):Object(ue.a)(this.compiler.compileModuleAsync(t))))}}class Ss{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Is,this.attachRef=null}}class Is{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ss,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ts{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function xs(t){throw t}function As(t,e,n){return e.parse("/")}function js(t,e){return Object(dt.a)(null)}let ks=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new pt.a,this.errorHandler=xs,this.malformedUriErrorHandler=As,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:js,afterPreactivation:js},this.urlHandlingStrategy=new Ts,this.routeReuseStrategy=new Es,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Vi(new Li([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cs(s,a,t=>this.triggerEvent(new gi(t)),t=>this.triggerEvent(new mi(t))),this.routerState=co(this.currentUrlTree,this.rootComponentType),this.transitions=new Nt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Zt(t=>0!==t.id),Object(yt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ce(t=>{let n=!1,r=!1;return Object(dt.a)(t).pipe(Object(fe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ce(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(dt.a)(t).pipe(ce(t=>{const n=this.transitions.getValue();return e.next(new si(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ft.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,ce(t=>function(t,e,n,r,i){return new is(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(yt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(fe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(we.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new ps(t,e,n,r,i,o).recognize();return null===s?ds(new fs):Object(dt.a)(s)}catch(E_){return ds(E_)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(yt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(fe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new li(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new si(n,this.serializeUrl(r),i,o);e.next(a);const u=co(r,this.rootComponentType).snapshot;return Object(dt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ft.a}),_s(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(fe.a)(t=>{const e=new hi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(yt.a)(t=>Object.assign(Object.assign({},t),{guards:us(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(we.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(dt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ue.a)(t).pipe(Object(we.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(dt.a)(!0);const s=o.map(o=>{const s=cs(o,e,i);let a;if(function(t){return t&&Mo(t.canDeactivate)}(s))a=Ri(s.canDeactivate(t,e,n,r));else{if(!Mo(s))throw new Error("Invalid CanDeactivate guard");a=Ri(s(t,e,n,r))}return a.pipe(ti())});return Object(dt.a)(s).pipe(Fo())}(t.component,t.route,n,e,r)),ti(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(we.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ue.a)(e).pipe(Br(e=>Wt(function(t,e){return null!==t&&e&&e(new yi(t)),Object(dt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new vi(t)),Object(dt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Nr(()=>{const i=e.guards.map(i=>{const o=cs(i,e.node,n);let s;if(function(t){return t&&Mo(t.canActivateChild)}(o))s=Ri(o.canActivateChild(r,t));else{if(!Mo(o))throw new Error("Invalid CanActivateChild guard");s=Ri(o(r,t))}return s.pipe(ti())});return Object(dt.a)(i).pipe(Fo())}));return Object(dt.a)(i).pipe(Fo())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(dt.a)(!0);const i=r.map(r=>Nr(()=>{const i=cs(r,e,n);let o;if(function(t){return t&&Mo(t.canActivate)}(i))o=Ri(i.canActivate(e,t));else{if(!Mo(i))throw new Error("Invalid CanActivate guard");o=Ri(i(e,t))}return o.pipe(ti())}));return Object(dt.a)(i).pipe(Fo())}(t,e.route,n))),ti(t=>!0!==t,!0))}(r,o,t,e):Object(dt.a)(n)),Object(yt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(fe.a)(t=>{if(Vo(t.guardsResult)){const e=Si(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new fi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Zt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new ui(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),_s(t=>{if(t.guards.canActivateChecks.length)return Object(dt.a)(t).pipe(Object(fe.a)(t=>{const e=new di(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ce(t=>{let n=!1;return Object(dt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(we.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(dt.a)(t);let o=0;return Object(ue.a)(n).pipe(Br(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(dt.a)({});const o={};return Object(ue.a)(i).pipe(Object(we.a)(i=>function(t,e,n,r){const i=cs(t,e,r);return Ri(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(fe.a)(t=>{o[i]=t}))),Hr(1),Object(we.a)(()=>Object.keys(o).length===i.length?Object(dt.a)(o):ft.a))}(t._resolve,t,e,r).pipe(Object(yt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ho(t,n).resolve),null)))}(t.route,e,r,i)),Object(fe.a)(()=>o++),Hr(1),Object(we.a)(e=>o===n.length?Object(dt.a)(t):ft.a))})),Object(fe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new ui(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(fe.a)(t=>{const e=new pi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),_s(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(yt.a)(t=>{const e=function(t,e,n){const r=vo(t,e._root,n?n._root:void 0);return new uo(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(fe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(yt.a)(t=>(new Do(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(fe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new ui(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ri(i))),Fr(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Vo(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new ui(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ci(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch($f){t.reject($f)}}var i;return ft.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){qo(t),this.config=t.map(zo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Oo(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new So(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ki(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new So(n,e,r)}(n);if(o.toRoot())return Oo(e.root,new Li([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Io(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Io(t,t===e.root,0)}const r=_o(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Io(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?xo(s.segmentGroup,s.index,o.commands):To(s.segmentGroup,s.index,o.commands);return Oo(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Vo(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(E_){e=this.malformedUriErrorHandler(E_,this.urlSerializer,t)}return e}isActive(t,e){if(Vo(t))return Di(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Di(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ai(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.N),r.Yb(qi),r.Yb(Is),r.Yb(_),r.Yb(r.s),r.Yb(r.x),r.Yb(r.i),r.Yb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Rs=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Ei,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ds(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Is),r.Mb(r.Q),r.Mb(r.j),r.Zb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ds{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===lo?this.route:t===Is?this.childContexts:this.parent.get(t,e)}}class Ns{}class Ps{preload(t,e){return Object(dt.a)(null)}}let Ms=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Cs(e,n,e=>t.triggerEvent(new gi(e)),e=>t.triggerEvent(new mi(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zt(t=>t instanceof ai),Br(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ue.a)(n).pipe(Object(Gt.a)(),Object(yt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(dt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(we.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ks),r.Yb(r.x),r.Yb(r.i),r.Yb(r.s),r.Yb(Ns))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Vs=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof si?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ai&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _i&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new _i(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ks),r.Yb(D),r.Yb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Ls=new r.r("ROUTER_CONFIGURATION"),Fs=new r.r("ROUTER_FORROOT_GUARD"),Us=[_,{provide:qi,useClass:Bi},{provide:ks,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new ks(null,t,e,n,r,i,s,Ai(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[qi,Is,_,r.s,r.x,r.i,Os,Ls,[class{},new r.B],[class{},new r.B]]},Is,{provide:lo,useFactory:function(t){return t.routerState.root},deps:[ks]},{provide:r.x,useClass:r.K},Ms,Ps,class{preload(t,e){return e().pipe(Fr(()=>Object(dt.a)(null)))}},{provide:Ls,useValue:{enableTracing:!1}}];function qs(){return new r.z("Router",ks)}let Bs=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Us,Ks(e),{provide:Fs,useFactory:Qs,deps:[[ks,new r.B,new r.J]]},{provide:Ls,useValue:n||{}},{provide:m,useFactory:zs,deps:[a,[new r.p(b),new r.B],Ls]},{provide:Vs,useFactory:Hs,deps:[ks,D,Ls]},{provide:Ns,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ps},{provide:r.z,multi:!0,useFactory:qs},[Gs,{provide:r.d,multi:!0,useFactory:Ws,deps:[Gs]},{provide:Ys,useFactory:$s,deps:[Gs]},{provide:r.b,multi:!0,useExisting:Ys}]]}}static forChild(e){return{ngModule:t,providers:[Ks(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Fs,8),r.Yb(ks,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function Hs(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Vs(t,e,n)}function zs(t,e,n={}){return n.useHash?new w(t,e):new v(t,e)}function Qs(t){return"guarded"}function Ks(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Os,multi:!0,useValue:t}]}let Gs=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ks),r=this.injector.get(Ls);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(dt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Ls),n=this.injector.get(Ms),i=this.injector.get(Vs),o=this.injector.get(ks),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function Ws(t){return t.appInitializer.bind(t)}function $s(t){return t.bootstrapListener.bind(t)}const Ys=new r.r("Router Initializer");let Js=(()=>{class t{constructor(){this.title="mycargonaut"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:30,vars:0,consts:[[1,"navbar","navbar-dark","navbar-expand","bgCustomGreen","flex"],["href","#",1,"navbar-brand","mr-auto"],[1,"font-weight-bold","customFont"],["ngbDropdown","",1,"nav-item"],["type","button","id","toggleDropdown","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","ngbDropdownToggle","",1,"nav-link"],[1,"bi","bi-person-circle","text-white","h2","mb-0"],["ngbDropdownMenu","","aria-labelledby","toggleDropdown",1,"dropdown-menu","dropdown-menu-right"],["ngbDropdownItem","",1,"btn","dropdownLinkItem"],[1,"bgCustomGreen","pt-4"],[1,"container"],[1,"row","justify-content-center"],[1,"col-5","col-md-3","text-center"],[1,"bi","bi-instagram","h1","text-white"],[1,"mt-3","text-white","d-block"],[1,"bi","bi-facebook","h1","text-white"],[1,"mt-4","text-white","pb-3"]],template:function(t,e){1&t&&(r.Rb(0,"nav",0),r.Rb(1,"a",1),r.Rb(2,"div",2),r.yc(3,"MyCargonaut"),r.Qb(),r.Qb(),r.Rb(4,"div",3),r.Rb(5,"a",4),r.Nb(6,"i",5),r.Qb(),r.Rb(7,"div",6),r.Rb(8,"a",7),r.yc(9,"Profil"),r.Qb(),r.Rb(10,"a",7),r.yc(11,"Deine Anfragen"),r.Qb(),r.Rb(12,"a",7),r.yc(13,"Logout"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(14,"main"),r.Nb(15,"router-outlet"),r.Qb(),r.Rb(16,"footer",8),r.Rb(17,"div",9),r.Rb(18,"div",10),r.Rb(19,"div",11),r.Nb(20,"i",12),r.Rb(21,"a",13),r.yc(22,"Datenschutz"),r.Qb(),r.Qb(),r.Rb(23,"div",11),r.Nb(24,"i",14),r.Rb(25,"a",13),r.yc(26,"Impressum"),r.Qb(),r.Qb(),r.Qb(),r.Rb(27,"div",10),r.Rb(28,"p",15),r.yc(29,"\xa9 2021 MYCARGONAUT"),r.Qb(),r.Qb(),r.Qb(),r.Qb())},directives:[rr,ur,ar,or,ir,Rs],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdownLinkItem[_ngcontent-%COMP%]:hover{background-color:rgba(117,183,152,.6431372549019608)}nav[_ngcontent-%COMP%]{height:4rem}main[_ngcontent-%COMP%]{min-height:calc(100vh - 10rem)}"]}),t})();function Zs(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"div",12),r.Rb(2,"label",26),r.yc(3,"Fahrzeug"),r.Qb(),r.Rb(4,"select",27),r.Rb(5,"option"),r.yc(6,"Sprinter"),r.Qb(),r.Rb(7,"option"),r.yc(8,"LKW"),r.Qb(),r.Rb(9,"option"),r.yc(10,"SUV"),r.Qb(),r.Rb(11,"option"),r.yc(12,"Kombi"),r.Qb(),r.Rb(13,"option"),r.yc(14,"Kleinwagen"),r.Qb(),r.Qb(),r.Qb(),r.Rb(15,"div",12),r.Rb(16,"label",28),r.yc(17,"Beschreibung"),r.Qb(),r.Nb(18,"textarea",29),r.Qb(),r.Rb(19,"div",12),r.Rb(20,"label",30),r.yc(21,"Preis in \u20ac"),r.Qb(),r.Nb(22,"input",31),r.Qb(),r.Qb())}function Xs(t,e){1&t&&(r.Rb(0,"div",12),r.Rb(1,"label",37),r.yc(2,"Fl\xe4che in qm"),r.Qb(),r.Nb(3,"input",38),r.Qb())}function ta(t,e){1&t&&(r.Rb(0,"div",12),r.Rb(1,"label",39),r.yc(2,"Anzahl der Sitzpl\xe4tze"),r.Qb(),r.Nb(3,"input",40),r.Qb())}function ea(t,e){if(1&t&&(r.Rb(0,"div",12),r.Rb(1,"label",32),r.yc(2,"Was m\xf6chten Sie suchen?"),r.Qb(),r.Rb(3,"select",33),r.Rb(4,"option"),r.yc(5,"Ladefl\xe4che"),r.Qb(),r.Rb(6,"option"),r.yc(7,"Mitfahrgelegenheit"),r.Qb(),r.Qb(),r.Qb(),r.wc(8,Xs,4,0,"div",34),r.wc(9,ta,4,0,"ng-template",null,24,r.xc),r.Rb(11,"div",12),r.Rb(12,"label",35),r.yc(13,"Beschreibung"),r.Qb(),r.Nb(14,"textarea",36),r.Qb()),2&t){const t=r.rc(10),e=r.fc();r.Ab(8),r.kc("ngIf","Ladefl\xe4che"===e.form.value.searchtype)("ngIfElse",t)}}const na=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-home"]],decls:28,vars:0,consts:[["id","searchWrapper"],["id","searchInnerWrapper"],[1,"d-flex","justify-content-center","align-items-center","h-100"],[1,"d-flex","justify-content-center","flex-col","align-items-center"],[1,"h4","customFont","font-weight-bold"],[1,"row","w-100","justify-content-center"],[1,"col-6","px-1"],["type","","placeholder","z.B. K\xf6ln",1,"form-control","mt-n2"],[1,"custom-select","mt-3"],["selected","","value",""],["type","text","placeholder","z.B. Berlin",1,"form-control","mt-n2"],["value","g\xfcter"],["value","person"],[1,"btn","mt-3","bgCustomGreen","font-weight-bold","text-white"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"h1",4),r.yc(5," Finde deinen (Mit-)Fahrer "),r.Qb(),r.Rb(6,"div",5),r.Rb(7,"div",6),r.Rb(8,"p"),r.yc(9,"Start"),r.Qb(),r.Nb(10,"input",7),r.Rb(11,"select",8),r.Rb(12,"option",9),r.yc(13,"Datum"),r.Qb(),r.Qb(),r.Qb(),r.Rb(14,"div",6),r.Rb(15,"p"),r.yc(16,"Ziel"),r.Qb(),r.Nb(17,"input",10),r.Rb(18,"select",8),r.Rb(19,"option",9),r.yc(20,"Art der Fahrt"),r.Qb(),r.Rb(21,"option",11),r.yc(22,"G\xfctertransport"),r.Qb(),r.Rb(23,"option",12),r.yc(24,"Personentransport"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(25,"div",5),r.Rb(26,"button",13),r.yc(27," Suche starten "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},directives:[Cn,xn],styles:["#searchWrapper[_ngcontent-%COMP%]{height:17rem;width:100vw;background-image:url(https://images.unsplash.com/photo-1571958529064-eaf827bf97d7?auto=format&fit=crop&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&q=80&w=1500);background-position:50%;background-size:cover}#searchInnerWrapper[_ngcontent-%COMP%]{width:100vw;height:100%;background-color:hsla(0,0%,100%,.8)}#searchInnerWrapper[_ngcontent-%COMP%], .flex-col[_ngcontent-%COMP%]{flex-direction:column!important}"]}),t})()},{path:"create-entry",component:(()=>{class t{constructor(){this.form=new fn({type:new hn,start:new hn,end:new hn,date:new hn,time:new hn,vehicle:new hn,description:new hn,price:new hn,searchtype:new hn,searchsize:new hn})}ngOnInit(){}onSubmit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-create-entry"]],decls:43,vars:3,consts:[["id","createWrapper"],["id","createInnerWrapper"],[1,"d-flex","justify-content-start","align-items-start"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16","id","pfeil",1,"bi","bi-arrow-left-short"],["fill-rule","evenodd","d","M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"],[1,"d-flex","justify-content-center","align-items-center","h-75"],[1,"d-flex","justify-content-center","flex-col","align-items-center"],[1,"h4","customFont","font-weight-bold"],[1,"container","mt-5","mb-5"],[1,"row","d-flex","justify-content-center","flex-col","align-items-center"],[1,"col-sm-12","col-md-12","col-lg-8","col-xl-6"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","typeSelect"],["formControlName","type","id","typeSelect",1,"form-control"],["for","startInput"],["formControlName","start","type","text","id","startInput","aria-describedby","start","placeholder","z.B. K\xf6ln",1,"form-control"],["for","endInput"],["formControlName","end","type","text","id","endInput","aria-describedby","end","placeholder","z.B. Berlin",1,"form-control"],["for","dateInput"],["formControlName","date","type","text","id","dateInput","aria-describedby","date","placeholder","z.B. 02.12.2021",1,"form-control"],["for","timeInput"],["formControlName","time","type","text","id","timeInput","aria-describedby","time","placeholder","z.B. 17:00",1,"form-control"],[4,"ngIf","ngIfElse"],["elseBlock",""],["type","submit",1,"btn","bgCustomGreen"],["for","vehicleSelect"],["formControlName","vehicle","id","vehicleSelect",1,"form-control"],["for","offerDescription"],["formControlName","description","type","text","id","offerDescription","aria-describedby","offerDescription","placeholder","Beschreibe dein Angebot",1,"form-control"],["for","price"],["formControlName","price","type","text","id","price","aria-describedby","price","placeholder","z.B. 30",1,"form-control"],["for","searchType"],["formControlName","searchtype","id","searchType",1,"form-control"],["class","form-group",4,"ngIf","ngIfElse"],["for","searchDescription"],["formControlName","description","type","text","id","searchDescription","aria-describedby","searchDescription","placeholder","Beschreibe dein Gesuch",1,"form-control"],["for","searchQm"],["formControlName","searchsize","type","text","id","searchQm","aria-describedby","searchQm","placeholder","z.B. 30",1,"form-control"],["for","searchSeats"],["formControlName","searchsize","type","text","id","searchSeats","aria-describedby","searchSeats","placeholder","z.B. 2",1,"form-control"]],template:function(t,e){if(1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.ec(),r.Rb(3,"svg",3),r.Nb(4,"path",4),r.Qb(),r.Qb(),r.dc(),r.Rb(5,"div",5),r.Rb(6,"div",6),r.Rb(7,"h1",7),r.yc(8," Angebot/Gesuch erstellen "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(9,"div",8),r.Rb(10,"div",9),r.Rb(11,"div",10),r.Rb(12,"form",11),r.bc("ngSubmit",function(){return e.onSubmit()}),r.Rb(13,"div",12),r.Rb(14,"label",13),r.yc(15,"Was m\xf6chten Sie anlegen?"),r.Qb(),r.Rb(16,"select",14),r.Rb(17,"option"),r.yc(18,"Angebot"),r.Qb(),r.Rb(19,"option"),r.yc(20,"Gesuch"),r.Qb(),r.Qb(),r.Qb(),r.Rb(21,"div",12),r.Rb(22,"label",15),r.yc(23,"Start"),r.Qb(),r.Nb(24,"input",16),r.Qb(),r.Rb(25,"div",12),r.Rb(26,"label",17),r.yc(27,"Ziel"),r.Qb(),r.Nb(28,"input",18),r.Qb(),r.Rb(29,"div",12),r.Rb(30,"label",19),r.yc(31,"Datum"),r.Qb(),r.Nb(32,"input",20),r.Qb(),r.Rb(33,"div",12),r.Rb(34,"label",21),r.yc(35,"Uhrzeit"),r.Qb(),r.Nb(36,"input",22),r.Qb(),r.wc(37,Zs,23,0,"div",23),r.wc(38,ea,15,2,"ng-template",null,24,r.xc),r.Rb(40,"div",6),r.Rb(41,"button",25),r.yc(42,"Erstellen"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.rc(39);r.Ab(12),r.kc("formGroup",e.form),r.Ab(25),r.kc("ngIf","Angebot"===e.form.value.type)("ngIfElse",t)}},directives:[pn,Ke,bn,On,Qe,wn,Cn,xn,Te,x],styles:["#createWrapper[_ngcontent-%COMP%]{height:17rem;width:100vw;background-image:url(https://images.unsplash.com/photo-1571958529064-eaf827bf97d7?auto=format&fit=crop&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&q=80&w=1500);background-position:50%;background-size:cover}#createInnerWrapper[_ngcontent-%COMP%]{width:100vw;height:100%;background-color:hsla(0,0%,100%,.8)}#createInnerWrapper[_ngcontent-%COMP%], .flex-col[_ngcontent-%COMP%]{flex-direction:column!important}.btn[_ngcontent-%COMP%]{color:#fff}"]}),t})()},{path:"search-page",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-search-page"]],decls:49,vars:0,consts:[["id","searchWrapper"],["id","searchInnerWrapper"],[1,"d-flex","justify-content-start","align-items-start"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16","id","pfeil",1,"bi","bi-arrow-left-short"],["fill-rule","evenodd","d","M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"],[1,"d-flex","justify-content-center","align-items-center","h-75"],[1,"d-flex","justify-content-center","flex-col","align-items-center"],[1,"h4","customFont","font-weight-bold"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12"],[1,"card","m-2"],[1,"card-body"],[1,"row"],[1,"col-3","d-flex","justify-content-center","flex-col"],["src","../../images/leon.jpg","width","50","height","50",1,"rounded"],[1,"col-9"],[1,"badge","rounded-pill","bgCustomGreen","font-weight-bold","customFont",2,"color","white"],[1,"badge","rounded-pill","bgCustomGreen","font-weight-bold","customFont","m-3",2,"color","white"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.ec(),r.Rb(3,"svg",3),r.Nb(4,"path",4),r.Qb(),r.Qb(),r.dc(),r.Rb(5,"div",5),r.Rb(6,"div",6),r.Rb(7,"h1",7),r.yc(8," 20 Fahrer f\xfcr Deine Route "),r.Qb(),r.Rb(9,"h6"),r.yc(10,"K\xf6ln - Berlin"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"div",8),r.Rb(12,"div",6),r.Rb(13,"div",9),r.Rb(14,"div",10),r.Rb(15,"div",11),r.Rb(16,"div",12),r.Nb(17,"img",13),r.Qb(),r.Rb(18,"div",14),r.Rb(19,"h4",7),r.yc(20," 02.06.2021 - 13:00 "),r.Qb(),r.Rb(21,"h6"),r.yc(22," K\xf6ln - Berlin "),r.Qb(),r.Rb(23,"h6"),r.yc(24," Leon Wiese "),r.Qb(),r.Rb(25,"p"),r.yc(26," Ich biete 25qm Ladefl\xe4che in meinem LKW f\xfcr die Fahrt von K\xf6ln nach Berlin. "),r.Qb(),r.Rb(27,"span",15),r.yc(28,"10qm frei"),r.Qb(),r.Rb(29,"span",16),r.yc(30,"20\u20ac"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(31,"div",9),r.Rb(32,"div",10),r.Rb(33,"div",11),r.Rb(34,"div",12),r.Nb(35,"img",13),r.Qb(),r.Rb(36,"div",14),r.Rb(37,"h4",7),r.yc(38," 02.06.2021 - 13:00 "),r.Qb(),r.Rb(39,"h6"),r.yc(40," K\xf6ln - Berlin "),r.Qb(),r.Rb(41,"h6"),r.yc(42," Leon Wiese "),r.Qb(),r.Rb(43,"p"),r.yc(44," Ich biete 25qm Ladefl\xe4che in meinem LKW f\xfcr die Fahrt von K\xf6ln nach Berlin. "),r.Qb(),r.Rb(45,"span",15),r.yc(46,"10qm frei"),r.Qb(),r.Rb(47,"span",16),r.yc(48,"20\u20ac"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:["#searchWrapper[_ngcontent-%COMP%]{height:17rem;width:100vw;background-image:url(https://images.unsplash.com/photo-1571958529064-eaf827bf97d7?auto=format&fit=crop&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&q=80&w=1500);background-position:50%;background-size:cover}#searchInnerWrapper[_ngcontent-%COMP%]{width:100vw;height:100%;background-color:hsla(0,0%,100%,.8)}#searchInnerWrapper[_ngcontent-%COMP%], .flex-col[_ngcontent-%COMP%]{flex-direction:column!important}"]}),t})()},{path:"login",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-login"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.yc(1,"login works!"),r.Qb())},styles:[""]}),t})()},{path:"register",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-register"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.yc(1,"register works!"),r.Qb())},styles:[""]}),t})()},{path:"create-vehicle",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-vehicle-management"]],decls:40,vars:0,consts:[["id","createWrapper"],["id","createInnerWrapper"],[1,"d-flex","justify-content-start","align-items-start"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16","id","pfeil",1,"bi","bi-arrow-left-short"],["fill-rule","evenodd","d","M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"],[1,"d-flex","justify-content-center","align-items-center","h-75"],[1,"d-flex","justify-content-center","flex-col","align-items-center"],[1,"h4","customFont","font-weight-bold"],[1,"container","mt-5","mb-5"],[1,"row","d-flex","justify-content-center","flex-col","align-items-center"],[1,"col-sm-12","col-md-12","col-lg-8","col-xl-6"],[1,"form-group"],["for","transportSelect"],["formControlName","transport","id","transportSelect",1,"form-control"],["for","brand"],["formControlName","brand","type","text","id","brand","aria-describedby","brand","placeholder","Marke",1,"form-control"],["for","yearOfManufacture"],["formControlName","yearOfManufacture","type","text","id","yearOfManufacture","aria-describedby","yearOfManufacture","placeholder","Baujahr",1,"form-control"],["for","loadingPlatform"],["formControlName","loadingPlatform","type","text","id","loadingPlatform","aria-describedby","loadingPlatform","placeholder","Ladefl\xe4che",1,"form-control"],["for","seats"],["formControlName","seats","type","text","id","seats","aria-describedby","seats","placeholder","Sitzpl\xe4tze",1,"form-control"],["type","submit",1,"btn","bgCustomGreen"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.ec(),r.Rb(3,"svg",3),r.Nb(4,"path",4),r.Qb(),r.Qb(),r.dc(),r.Rb(5,"div",5),r.Rb(6,"div",6),r.Rb(7,"h1",7),r.yc(8," Fahrzeug anlegen "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(9,"div",8),r.Rb(10,"div",9),r.Rb(11,"div",10),r.Rb(12,"form"),r.Rb(13,"div",11),r.Rb(14,"label",12),r.yc(15,"Transportart"),r.Qb(),r.Rb(16,"select",13),r.Rb(17,"option"),r.yc(18,"G\xfcter"),r.Qb(),r.Rb(19,"option"),r.yc(20,"PKW"),r.Qb(),r.Qb(),r.Qb(),r.Rb(21,"div",11),r.Rb(22,"label",14),r.yc(23,"Marke"),r.Qb(),r.Nb(24,"input",15),r.Qb(),r.Rb(25,"div",11),r.Rb(26,"label",16),r.yc(27,"Ziel"),r.Qb(),r.Nb(28,"input",17),r.Qb(),r.Rb(29,"div",11),r.Rb(30,"label",18),r.yc(31,"Ladefl\xe4che"),r.Qb(),r.Nb(32,"input",19),r.Qb(),r.Rb(33,"div",11),r.Rb(34,"label",20),r.yc(35,"Sitzpl\xe4tze"),r.Qb(),r.Nb(36,"input",21),r.Qb(),r.Rb(37,"div",6),r.Rb(38,"button",22),r.yc(39,"Erstellen"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},directives:[pn,Ke,On,Qe,wn,Cn,xn,Te],styles:["#createWrapper[_ngcontent-%COMP%]{height:17rem;width:100vw;background-image:url(https://images.unsplash.com/photo-1571958529064-eaf827bf97d7?auto=format&fit=crop&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&q=80&w=1500);background-position:50%;background-size:cover}#createInnerWrapper[_ngcontent-%COMP%]{width:100vw;height:100%;background-color:hsla(0,0%,100%,.8)}#createInnerWrapper[_ngcontent-%COMP%], .flex-col[_ngcontent-%COMP%]{flex-direction:column!important}.btn[_ngcontent-%COMP%]{color:#fff}"]}),t})()}];let ra=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Bs.forRoot(na,{onSameUrlNavigation:"reload"})],Bs]}),t})();var ia=n("spgP");const oa={apiKey:"AIzaSyDYcIHQJBfPMdWCbb72ZvXLJbaO4vRVzS8",authDomain:"kms-kargonaut.firebaseapp.com",projectId:"kms-kargonaut",storageBucket:"kms-kargonaut.appspot.com",messagingSenderId:"342923029252",appId:"1:342923029252:web:a12e635de9795352617e51"};function sa(){return t=>t.lift(new aa)}class aa{call(t,e){return e.subscribe(new ua(t))}}class ua extends St.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var ca=n("pxpQ"),la=n("Jgta"),ha=n("zIRd"),fa=n("qOnz"),da=n("q/0M"),pa=function(t,e){return(pa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ga(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ma,ya="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ba=ba||{},va=ya||self;function wa(){}function _a(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ea(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Oa="closure_uid_"+(1e9*Math.random()>>>0),Ca=0;function Sa(t,e,n){return t.call.apply(t.bind,arguments)}function Ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ta(t,e,n){return(Ta=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sa:Ia).apply(null,arguments)}function xa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Aa(){return Date.now()}function ja(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ka(){this.j=this.j,this.i=this.i}ka.prototype.j=!1,ka.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Oa)&&t[Oa]||(t[Oa]=++Ca)}(this)},ka.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ra=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Da=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Na(t){return Array.prototype.concat.apply([],arguments)}function Pa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ma(t){return/^[\s\xa0]*$/.test(t)}var Va,La=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Fa(t,e){return-1!=t.indexOf(e)}function Ua(t,e){return t<e?-1:t>e?1:0}t:{var qa=va.navigator;if(qa){var Ba=qa.userAgent;if(Ba){Va=Ba;break t}}Va=""}function Ha(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function za(t){var e={};for(var n in t)e[n]=t[n];return e}var Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ka(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Qa.length;o++)n=Qa[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ga(t){return Ga[" "](t),t}Ga[" "]=wa;var Wa,$a,Ya=Fa(Va,"Opera"),Ja=Fa(Va,"Trident")||Fa(Va,"MSIE"),Za=Fa(Va,"Edge"),Xa=Za||Ja,tu=Fa(Va,"Gecko")&&!(Fa(Va.toLowerCase(),"webkit")&&!Fa(Va,"Edge"))&&!(Fa(Va,"Trident")||Fa(Va,"MSIE"))&&!Fa(Va,"Edge"),eu=Fa(Va.toLowerCase(),"webkit")&&!Fa(Va,"Edge");function nu(){var t=va.document;return t?t.documentMode:void 0}t:{var ru="",iu=($a=Va,tu?/rv:([^\);]+)(\)|;)/.exec($a):Za?/Edge\/([\d\.]+)/.exec($a):Ja?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($a):eu?/WebKit\/(\S+)/.exec($a):Ya?/(?:Version)[ \/]?(\S+)/.exec($a):void 0);if(iu&&(ru=iu?iu[1]:""),Ja){var ou=nu();if(null!=ou&&ou>parseFloat(ru)){Wa=String(ou);break t}}Wa=ru}var su={};function au(t){return function(t,e){var n=su;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=La(String(Wa)).split("."),r=La(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Ua(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Ua(0==s[2].length,0==a[2].length)||Ua(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var uu=va.document&&Ja&&(nu()||parseInt(Wa,10))||void 0,cu=!Ja||9<=Number(uu),lu=Ja&&!au("9"),hu=function(){if(!va.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{va.addEventListener("test",wa,e),va.removeEventListener("test",wa,e)}catch(n){}return t}();function fu(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function du(t,e){if(fu.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(tu){t:{try{Ga(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:pu[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}fu.prototype.b=function(){this.defaultPrevented=!0},ja(du,fu);var pu={2:"touch",3:"pen",4:"mouse"};du.prototype.b=function(){du.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,lu)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var gu="closure_listenable_"+(1e6*Math.random()|0),mu=0;function yu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++mu,this.Y=this.Z=!1}function bu(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function vu(t){this.src=t,this.a={},this.b=0}function wu(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ra(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(bu(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function _u(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}vu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=_u(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new yu(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Eu="closure_lm_"+(1e6*Math.random()|0),Ou={};function Cu(t,e,n,r,i){if(r&&r.once)return Iu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Cu(t,e[o],n,r,i);return null}return n=Nu(n),t&&t[gu]?t.va(e,n,Ea(r)?!!r.capture:!!r,i):Su(t,e,n,!1,r,i)}function Su(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ea(i)?!!i.capture:!!i;if(s&&!cu)return null;var a=Ru(t);if(a||(t[Eu]=a=new vu(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ku,e=cu?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hu||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Au(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Iu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Iu(t,e[o],n,r,i);return null}return n=Nu(n),t&&t[gu]?t.wa(e,n,Ea(r)?!!r.capture:!!r,i):Su(t,e,n,!0,r,i)}function Tu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Tu(t,e[o],n,r,i);else r=Ea(r)?!!r.capture:!!r,n=Nu(n),t&&t[gu]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=_u(o=t.a[e],n,r,i))&&(bu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ru(t))&&(e=t.a[e.toString()],t=-1,e&&(t=_u(e,n,r,i)),(n=-1<t?e[t]:null)&&xu(n))}function xu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[gu])wu(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Au(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ru(e))?(wu(n,t),0==n.b&&(n.src=null,e[Eu]=null)):bu(t)}}}function Au(t){return t in Ou?Ou[t]:Ou[t]="on"+t}function ju(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&xu(t),n.call(r,e)}function ku(t,e){if(t.Y)return!0;if(!cu){if(!e)t:{e=["window","event"];for(var n=va,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ju(t,e=new du(e,this))}return ju(t,new du(e,this))}function Ru(t){return(t=t[Eu])instanceof vu?t:null}var Du="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(t){return"function"==typeof t?t:(t[Du]||(t[Du]=function(e){return t.handleEvent(e)}),t[Du])}function Pu(){ka.call(this),this.c=new vu(this),this.J=this,this.C=null}function Mu(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new fu(e,t);else if(e instanceof fu)e.target=e.target||t;else{var i=e;Ka(e=new fu(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Vu(s,r,!0,e)&&i}if(i=Vu(s=e.a=t,r,!0,e)&&i,i=Vu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Vu(s=e.a=n[o],r,!1,e)&&i}function Vu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&wu(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ja(Pu,ka),Pu.prototype[gu]=!0,(ma=Pu.prototype).addEventListener=function(t,e,n,r){Cu(this,t,e,n,r)},ma.removeEventListener=function(t,e,n,r){Tu(this,t,e,n,r)},ma.G=function(){if(Pu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)bu(n[r]);delete e.a[t],e.b--}}this.C=null},ma.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ma.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Lu=va.JSON.stringify;function Fu(){this.b=this.a=null}var Uu,qu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Hu},function(t){t.reset()});function Bu(){var t=Gu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Hu(){this.next=this.b=this.a=null}function zu(t){va.setTimeout(function(){throw t},0)}function Qu(t,e){Uu||function(){var t=va.Promise.resolve(void 0);Uu=function(){t.then(Wu)}}(),Ku||(Uu(),Ku=!0),Gu.add(t,e)}Fu.prototype.add=function(t,e){var n=qu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Hu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Hu.prototype.reset=function(){this.next=this.b=this.a=null};var Ku=!1,Gu=new Fu;function Wu(){for(var t;t=Bu();){try{t.a.call(t.b)}catch(n){zu(n)}var e=qu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ku=!1}function $u(t,e){Pu.call(this),this.b=t||1,this.a=e||va,this.f=Ta(this.Za,this),this.g=Aa()}function Yu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ju(t,e,n){if("function"==typeof t)n&&(t=Ta(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ta(t.handleEvent,t)}return 2147483647<Number(e)?-1:va.setTimeout(t,e||0)}function Zu(t){t.a=Ju(function(){t.a=null,t.c&&(t.c=!1,Zu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ja($u,Pu),(ma=$u.prototype).aa=!1,ma.M=null,ma.Za=function(){if(this.aa){var t=Aa()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Mu(this,"tick"),this.aa&&(Yu(this),this.start()))}},ma.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Aa())},ma.G=function(){$u.X.G.call(this),Yu(this),delete this.a};var Xu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}pa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Zu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(va.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ka);function tc(t){ka.call(this),this.b=t,this.a={}}ja(tc,ka);var ec=[];function nc(t,e,n,r){Array.isArray(n)||(n&&(ec[0]=n.toString()),n=ec);for(var i=0;i<n.length;i++){var o=Cu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function rc(t){Ha(t.a,function(t,e){this.a.hasOwnProperty(e)&&xu(t)},t),t.a={}}function ic(){this.a=!0}function oc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Lu(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}tc.prototype.G=function(){tc.X.G.call(this),rc(this)},tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ic.prototype.info=function(){};var sc={},ac=null;function uc(){return ac=ac||new Pu}function cc(t){fu.call(this,sc.Fa,t)}function lc(t){var e=uc();Mu(e,new cc(e,t))}function hc(t,e){fu.call(this,sc.STAT_EVENT,t),this.stat=e}function fc(t){var e=uc();Mu(e,new hc(e,t))}function dc(t){fu.call(this,sc.Ga,t)}function pc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return va.setTimeout(function(){t()},e)}sc.Fa="serverreachability",ja(cc,fu),sc.STAT_EVENT="statevent",ja(hc,fu),sc.Ga="timingevent",ja(dc,fu);var gc={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},mc={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function yc(){}function bc(){}yc.prototype.a=null;var vc,wc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function _c(){fu.call(this,"d")}function Ec(){fu.call(this,"c")}function Oc(){}function Cc(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new tc(this),this.P=Sc,this.R=new $u(t=Xa?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ja(_c,fu),ja(Ec,fu),ja(Oc,yc),vc=new Oc;var Sc=45e3,Ic={},Tc={};function xc(t,e,n){t.H=1,t.i=Yc(zc(e)),t.j=n,t.I=!0,Ac(t,null)}function Ac(t,e){t.u=Aa(),Rc(t),t.l=zc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),cl(n.b,"t",r),t.D=0,t.a=rh(t.g,t.g.C?e:null),0<t.O&&(t.F=new Xu(Ta(t.Ca,t,t.a),t.O)),nc(t.J,t.a,"readystatechange",t.Xa),e=t.B?za(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),lc(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function jc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=kc(t,n);if(i==Tc){4==e&&(t.h=4,fc(14),r=!1),oc(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ic){t.h=4,fc(15),oc(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}oc(t.c,t.f,i,null),Vc(t,i)}4==e&&0==n.length&&(t.h=1,fc(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),$l(e),e.F=!0,fc(11))):(oc(t.c,t.f,n,"[Invalid Chunked Response]"),Mc(t),Pc(t))}function kc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Tc:(n=Number(e.substring(n,r)),isNaN(n)?Ic:(r+=1)+n>e.length?Tc:(e=e.substr(r,n),t.D=r+n,e))}function Rc(t){t.T=Aa()+t.P,Dc(t,t.P)}function Dc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=pc(Ta(t.Va,t),e)}function Nc(t){t.o&&(va.clearTimeout(t.o),t.o=null)}function Pc(t){0==t.g.v||t.A||Zl(t.g,t)}function Mc(t){Nc(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Yu(t.R),rc(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Vc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ml(n.b,t)))if(n.I=t.N,!t.C&&ml(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Fw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Jl(n),Ul(n)}Wl(n),fc(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=pc(Ta(n.Sa,n),6e3));if(1>=gl(n.b)&&n.ea){try{n.ea()}catch(Fw){}n.ea=void 0}}else th(n,11)}else if((t.C||n.a==t)&&Jl(n),!Ma(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Fa(l,"spdy")||Fa(l,"quic")||Fa(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(yl(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,$c(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Aa()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=nh(u,u.C?u.ga:null,u.fa),d.C){bl(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Nc(p),Rc(p)),u.a=d}else Gl(u);0<n.g.length&&Hl(n)}else"stop"!=i[0]&&"close"!=i[0]||th(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?th(n,7):Fl(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);lc(4)}catch(Fw){}}function Lc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(_a(t)||"string"==typeof t)Da(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(_a(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(_a(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Fc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Uc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];qc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)qc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function qc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ma=Cc.prototype).setTimeout=function(t){this.P=t},ma.Xa=function(t){t=t.target;var e=this.F;e&&3==Pl(t)?e.f():this.Ca(t)},ma.Ca=function(t){try{if(t==this.a)t:{var e=Pl(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Xa&&!this.a.$())){this.A||4!=e||7==n||lc(8==n||0>=r?3:2),Nc(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ma(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,fc(12),Mc(this),Pc(this);break t}oc(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Vc(this,u)}this.I?(jc(this,e,o),Xa&&this.b&&3==e&&(nc(this.J,this.R,"tick",this.Wa),this.R.start())):(oc(this.c,this.f,o,null),Vc(this,o)),4==e&&Mc(this),this.b&&!this.A&&(4==e?Zl(this.g,this):(this.b=!1,Rc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,fc(12)):(this.h=0,fc(13)),Mc(this),Pc(this)}}}catch(c){}},ma.Wa=function(){if(this.a){var t=Pl(this.a),e=this.a.$();this.D<e.length&&(Nc(this),jc(this,t,e),this.b&&4!=t&&Rc(this))}},ma.cancel=function(){this.A=!0,Mc(this)},ma.Va=function(){this.o=null;var t=Aa();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(lc(3),fc(17)),Mc(this),this.h=2,Pc(this)):Dc(this,this.T-t)},(ma=Fc.prototype).K=function(){Uc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ma.L=function(){return Uc(this),this.a.concat()},ma.get=function(t,e){return qc(this.b,t)?this.b[t]:e},ma.set=function(t,e){qc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ma.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Bc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Hc){this.a=void 0!==e?e:t.a,Qc(this,t.f),this.j=t.j,Kc(this,t.c),Gc(this,t.h),this.g=t.g,e=t.b;var n=new ol;n.c=e.c,e.a&&(n.a=new Fc(e.a),n.b=e.b),Wc(this,n),this.i=t.i}else t&&(n=String(t).match(Bc))?(this.a=!!e,Qc(this,n[1]||"",!0),this.j=Jc(n[2]||""),Kc(this,n[3]||"",!0),Gc(this,n[4]),this.g=Jc(n[5]||"",!0),Wc(this,n[6]||"",!0),this.i=Jc(n[7]||"")):(this.a=!!e,this.b=new ol(null,this.a))}function zc(t){return new Hc(t)}function Qc(t,e,n){t.f=n?Jc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Kc(t,e,n){t.c=n?Jc(e,!0):e}function Gc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Wc(t,e,n){e instanceof ol?(t.b=e,function(t,e){e&&!t.f&&(sl(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(al(this,e),cl(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Zc(e,rl)),t.b=new ol(e,t.a))}function $c(t,e,n){t.b.set(e,n)}function Yc(t){return $c(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Aa()).toString(36)),t}function Jc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Zc(e,tl,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Zc(e,tl,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Zc(n,"/"==n.charAt(0)?nl:el,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Zc(n,il)),t.join("")};var tl=/[#\/\?@]/g,el=/[#\?:]/g,nl=/[#\?]/g,rl=/[#\?@]/g,il=/#/g;function ol(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function sl(t){t.a||(t.a=new Fc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function al(t,e){sl(t),e=ll(t,e),qc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,qc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Uc(t)))}function ul(t,e){return sl(t),e=ll(t,e),qc(t.a.b,e)}function cl(t,e,n){al(t,e),0<n.length&&(t.c=null,t.a.set(ll(t,e),Pa(n)),t.b+=n.length)}function ll(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ma=ol.prototype).add=function(t,e){sl(this),this.c=null,t=ll(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ma.forEach=function(t,e){sl(this),this.a.forEach(function(n,r){Da(n,function(n){t.call(e,n,r,this)},this)},this)},ma.L=function(){sl(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ma.K=function(t){sl(this);var e=[];if("string"==typeof t)ul(this,t)&&(e=Na(e,this.a.get(ll(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Na(e,t[n])}return e},ma.set=function(t,e){return sl(this),this.c=null,ul(this,t=ll(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ma.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ma.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var hl=function(){return function(t,e){this.b=t,this.a=e}}();function fl(t){this.g=t||dl,t=va.PerformanceNavigationTiming?0<(t=va.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(va.ia&&va.ia.ya&&va.ia.ya()&&va.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var dl=10;function pl(t){return!!t.b||!!t.a&&t.a.size>=t.f}function gl(t){return t.b?1:t.a?t.a.size:0}function ml(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function yl(t,e){t.a?t.a.add(e):t.b=e}function bl(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function vl(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ga(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Pa(t.c)}function wl(){}function _l(){this.a=new wl}function El(t,e,n){var r=n||"";try{Lc(t,function(t,n){var i=t;Ea(t)&&(i=Lu(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(E_){throw e.push(r+"type="+encodeURIComponent("_badmap")),E_}}function Ol(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}fl.prototype.cancel=function(){var t,e;if(this.c=vl(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ga(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},wl.prototype.stringify=function(t){return va.JSON.stringify(t,void 0)},wl.prototype.parse=function(t){return va.JSON.parse(t,void 0)};var Cl=va.JSON.parse;function Sl(t){Pu.call(this),this.headers=new Fc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Il,this.D=this.F=!1}ja(Sl,Pu);var Il="",Tl=/^https?$/i,xl=["POST","PUT"];function Al(t){return"content-type"==t.toLowerCase()}function jl(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,kl(t),Dl(t)}function kl(t){t.u||(t.u=!0,Mu(t,"complete"),Mu(t,"error"))}function Rl(t){if(t.b&&void 0!==ba&&(!t.s[1]||4!=Pl(t)||2!=t.W()))if(t.l&&4==Pl(t))Ju(t.za,0,t);else if(Mu(t,"readystatechange"),4==Pl(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Bc)[1]||null;if(!o&&va.self&&va.self.location){var s=va.self.location.protocol;o=s.substr(0,s.length-1)}i=!Tl.test(o?o.toLowerCase():"")}e=i}if(e)Mu(t,"complete"),Mu(t,"success");else{t.h=6;try{var a=2<Pl(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",kl(t)}}finally{Dl(t)}}}function Dl(t,e){if(t.a){Nl(t);var n=t.a,r=t.s[0]?wa:null;t.a=null,t.s=null,e||Mu(t,"ready");try{n.onreadystatechange=r}catch(E_){}}}function Nl(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(va.clearTimeout(t.m),t.m=null)}function Pl(t){return t.a?t.a.readyState:0}function Ml(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ha(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$c(t,e,n))}function Vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ll(t){this.pa=0,this.g=[],this.c=new ic,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Vl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Vl("baseRetryDelayMs",5e3,t),this.Ra=Vl("retryDelaySeedMs",1e4,t),this.Ma=Vl("forwardChannelMaxRetries",2,t),this.ma=Vl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new fl(t&&t.concurrentRequestLimit),this.ka=new _l,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Fl(t){if(ql(t),3==t.v){var e=t.R++,n=zc(t.B);$c(n,"SID",t.J),$c(n,"RID",e),$c(n,"TYPE","terminate"),Ql(t,n),(e=new Cc(t,t.c,e,void 0)).H=2,e.i=Yc(zc(n)),n=!1,va.navigator&&va.navigator.sendBeacon&&(n=va.navigator.sendBeacon(e.i.toString(),"")),!n&&va.Image&&((new Image).src=e.i,n=!0),n||(e.a=rh(e.g,null),e.a.ba(e.i)),e.u=Aa(),Rc(e)}eh(t)}function Ul(t){t.a&&($l(t),t.a.cancel(),t.a=null)}function ql(t){Ul(t),t.j&&(va.clearTimeout(t.j),t.j=null),Jl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&va.clearTimeout(t.h),t.h=null)}function Bl(t,e){t.g.push(new hl(t.Oa++,e)),3==t.v&&Hl(t)}function Hl(t){pl(t.b)||t.h||(t.h=!0,Qu(t.Ba,t),t.u=0)}function zl(t,e){var n;n=e?e.f:t.R++;var r=zc(t.B);$c(r,"SID",t.J),$c(r,"RID",n),$c(r,"AID",t.P),Ql(t,r),t.i&&t.l&&Ml(r,t.i,t.l),n=new Cc(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Kl(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),yl(t.b,n),xc(n,r,e)}function Ql(t,e){t.f&&Lc({},function(t,n){$c(e,n,t)})}function Kl(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ta(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{El(l,s,"req"+c+"_")}catch(Nh){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Gl(t){t.a||t.j||(t.T=1,Qu(t.Aa,t),t.o=0)}function Wl(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=pc(Ta(t.Aa,t),Xl(t,t.o)),t.o++,0))}function $l(t){null!=t.s&&(va.clearTimeout(t.s),t.s=null)}function Yl(t){t.a=new Cc(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=zc(t.la);$c(e,"RID","rpc"),$c(e,"SID",t.J),$c(e,"CI",t.H?"0":"1"),$c(e,"AID",t.P),Ql(t,e),$c(e,"TYPE","xmlhttp"),t.i&&t.l&&Ml(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Yc(zc(e)),n.j=null,n.I=!0,Ac(n,t)}function Jl(t){null!=t.m&&(va.clearTimeout(t.m),t.m=null)}function Zl(t,e){var n=null;if(t.a==e){Jl(t),$l(t),t.a=null;var r=2}else{if(!ml(t.b,e))return;n=e.s,bl(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Aa()-e.u;var i=t.u;Mu(r=uc(),new dc(r,n,e,i)),Hl(t)}else Gl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(gl(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=pc(Ta(t.Ba,t,e),Xl(t,t.u)),t.u++,0)))}(t,e)||2==r&&Wl(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:th(t,5);break;case 4:th(t,10);break;case 3:th(t,6);break;default:th(t,2)}}function Xl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function th(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ta(t.Ya,t);n||(n=new Hc("//www.google.com/images/cleardot.gif"),va.location&&"http"==va.location.protocol||Qc(n,"https"),Yc(n)),function(t,e){var n=new ic;if(va.Image){var r=new Image;r.onload=xa(Ol,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xa(Ol,n,r,"TestLoadImage: error",!1,e),r.onabort=xa(Ol,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xa(Ol,n,r,"TestLoadImage: timeout",!1,e),va.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else fc(2);t.v=0,t.f&&t.f.ra(e),eh(t),ql(t)}function eh(t){t.v=0,t.I=-1,t.f&&(0==vl(t.b).length&&0==t.g.length||(t.b.c.length=0,Pa(t.g),t.g.length=0),t.f.qa())}function nh(t,e,n){var r=function(t){return t instanceof Hc?zc(t):new Hc(t,void 0)}(n);if(""!=r.c)e&&Kc(r,e+"."+r.c),Gc(r,r.h);else{var i=va.location;r=function(t,e,n,r){var i=new Hc(null,void 0);return t&&Qc(i,t),e&&Kc(i,e),n&&Gc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ha(t.V,function(t,e){$c(r,e,t)}),n=t.na,(e=t.A)&&n&&$c(r,e,n),$c(r,"VER",t.ha),Ql(t,r),r}function rh(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Sl(t.Na)).F=t.C,e}function ih(){}function oh(){if(Ja&&!(10<=Number(uu)))throw Error("Environmental error: no available transport.")}function sh(t,e){Pu.call(this),this.a=new Ll(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ma(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ma(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ch(this)}function ah(t){_c.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function uh(){Ec.call(this),this.status=1}function ch(t){this.a=t}(ma=Sl.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:vc),this.a.onreadystatechange=Ta(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void jl(this,o)}t=n||"";var i=new Fc(this.headers);r&&Lc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Al,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=va.FormData&&t instanceof va.FormData,!(0<=Ra(xl,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nl(this),0<this.o&&((this.D=function(t){return Ja&&au(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ta(this.xa,this)):this.m=Ju(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){jl(this,o)}},ma.xa=function(){void 0!==ba&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Mu(this,"timeout"),this.abort(8))},ma.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Mu(this,"complete"),Mu(this,"abort"),Dl(this))},ma.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dl(this,!0)),Sl.X.G.call(this)},ma.za=function(){this.j||(this.A||this.l||this.g?Rl(this):this.Ua())},ma.Ua=function(){Rl(this)},ma.W=function(){try{return 2<Pl(this)?this.a.status:-1}catch($a){return-1}},ma.$=function(){try{return this.a?this.a.responseText:""}catch($a){return""}},ma.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cl(e)}},ma.ua=function(){return this.h},ma.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ma=Ll.prototype).ha=8,ma.v=1,ma.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Cc(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ka(r=za(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Kl(this,n,e),$c(i=zc(this.B),"RID",t),$c(i,"CVER",22),this.A&&$c(i,"X-HTTP-Session-Id",this.A),Ql(this,i),this.i&&r&&Ml(i,this.i,r),yl(this.b,n),this.Ia&&$c(i,"TYPE","init"),this.da?($c(i,"$req",e),$c(i,"SID","null"),n.U=!0,xc(n,i,null)):xc(n,i,e),this.v=2}}else 3==this.v&&(t?zl(this,t):0==this.g.length||pl(this.b)||zl(this))},ma.Aa=function(){if(this.j=null,Yl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=pc(Ta(this.Ta,this),t)}},ma.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,fc(10),Ul(this),Yl(this))},ma.Sa=function(){null!=this.m&&(this.m=null,Ul(this),Wl(this),fc(19))},ma.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),fc(2)):(this.c.info("Failed to ping google.com"),fc(1))},(ma=ih.prototype).ta=function(){},ma.sa=function(){},ma.ra=function(){},ma.qa=function(){},ma.Ja=function(){},oh.prototype.a=function(t,e){return new sh(t,e)},ja(sh,Pu),sh.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;fc(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=nh(t,null,t.fa),Hl(t)},sh.prototype.close=function(){Fl(this.a)},sh.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Bl(this.a,e)}else this.l?((e={}).__data__=Lu(t),Bl(this.a,e)):Bl(this.a,t)},sh.prototype.G=function(){this.a.f=null,delete this.f,Fl(this.a),delete this.a,sh.X.G.call(this)},ja(ah,_c),ja(uh,Ec),ja(ch,ih),ch.prototype.ta=function(){Mu(this.a,"a")},ch.prototype.sa=function(t){Mu(this.a,new ah(t))},ch.prototype.ra=function(t){Mu(this.a,new uh(t))},ch.prototype.qa=function(){Mu(this.a,"b")},oh.prototype.createWebChannel=oh.prototype.a,sh.prototype.send=sh.prototype.h,sh.prototype.open=sh.prototype.g,sh.prototype.close=sh.prototype.close,gc.NO_ERROR=0,gc.TIMEOUT=8,gc.HTTP_ERROR=6,mc.COMPLETE="complete",bc.EventType=wc,wc.OPEN="a",wc.CLOSE="b",wc.ERROR="c",wc.MESSAGE="d",Pu.prototype.listen=Pu.prototype.va,Sl.prototype.listenOnce=Sl.prototype.wa,Sl.prototype.getLastError=Sl.prototype.Qa,Sl.prototype.getLastErrorCode=Sl.prototype.ua,Sl.prototype.getStatus=Sl.prototype.W,Sl.prototype.getResponseJson=Sl.prototype.Pa,Sl.prototype.getResponseText=Sl.prototype.$,Sl.prototype.send=Sl.prototype.ba;var lh=gc,hh=mc,fh=sc,dh=bc,ph=Sl,gh=n("mrSG"),mh=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();mh.o=-1;var yh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bh=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(gh.c)(e,t),e}(Error),vh=new da.b("@firebase/firestore");function wh(){return vh.logLevel}function _h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vh.logLevel<=da.a.DEBUG){var r=e.map(Ch);vh.debug.apply(vh,Object(gh.f)(["Firestore (8.5.0): "+t],r))}}function Eh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vh.logLevel<=da.a.ERROR){var r=e.map(Ch);vh.error.apply(vh,Object(gh.f)(["Firestore (8.5.0): "+t],r))}}function Oh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vh.logLevel<=da.a.WARN){var r=e.map(Ch);vh.warn.apply(vh,Object(gh.f)(["Firestore (8.5.0): "+t],r))}}function Ch(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(E_){return t}}function Sh(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function Ih(t,e){t||Sh()}function Th(t,e){return t}function xh(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ah=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=xh(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function jh(t,e){return t<e?-1:t>e?1:0}function kh(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Rh(t){return t+"\0"}var Dh=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new bh(yh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new bh(yh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new bh(yh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bh(yh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?jh(this.nanoseconds,t.nanoseconds):jh(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Nh=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Dh(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Ph(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Lh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Sh(),void 0===n?n=t.length-e:n>t.length-e&&Sh(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gh.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new bh(yh.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Lh),Uh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gh.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Uh.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new bh(yh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new bh(yh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new bh(yh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new bh(yh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Lh),Bh=function(){function t(t){this.fields=t,t.sort(qh.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return kh(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Hh=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return jh(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Hh.EMPTY_BYTE_STRING=new Hh("");var zh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qh(t){if(Ih(!!t),"string"==typeof t){var e=0,n=zh.exec(t);if(Ih(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kh(t.seconds),nanos:Kh(t.nanos)}}function Kh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gh(t){return"string"==typeof t?Hh.fromBase64String(t):Hh.fromUint8Array(t)}function Wh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $h(t){var e=t.mapValue.fields.__previous_value__;return Wh(e)?$h(e):e}function Yh(t){var e=Qh(t.mapValue.fields.__local_write_time__.timestampValue);return new Dh(e.seconds,e.nanos)}function Jh(t){return null==t}function Zh(t){return 0===t&&1/t==-1/0}function Xh(t){return"number"==typeof t&&Number.isInteger(t)&&!Zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var tf=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Fh.fromString(e))},t.fromName=function(e){return new t(Fh.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Fh.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Fh.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Fh(e.slice()))},t}();function ef(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wh(t)?4:10:Sh()}function nf(t,e){var n=ef(t);if(n!==ef(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yh(t).isEqual(Yh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Qh(t.timestampValue),r=Qh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Gh(t.bytesValue).isEqual(Gh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Kh(t.geoPointValue.latitude)===Kh(e.geoPointValue.latitude)&&Kh(t.geoPointValue.longitude)===Kh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Kh(t.integerValue)===Kh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Kh(t.doubleValue),r=Kh(e.doubleValue);return n===r?Zh(n)===Zh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return kh(t.arrayValue.values||[],e.arrayValue.values||[],nf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ph(n)!==Ph(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nf(n[i],r[i])))return!1;return!0}(t,e);default:return Sh()}}function rf(t,e){return void 0!==(t.values||[]).find(function(t){return nf(t,e)})}function of(t,e){var n=ef(t),r=ef(e);if(n!==r)return jh(n,r);switch(n){case 0:return 0;case 1:return jh(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Kh(t.integerValue||t.doubleValue),r=Kh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return sf(t.timestampValue,e.timestampValue);case 4:return sf(Yh(t),Yh(e));case 5:return jh(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Gh(t),r=Gh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=jh(n[i],r[i]);if(0!==o)return o}return jh(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=jh(Kh(t.latitude),Kh(e.latitude));return 0!==n?n:jh(Kh(t.longitude),Kh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=of(n[i],r[i]);if(o)return o}return jh(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=jh(r[s],o[s]);if(0!==a)return a;var u=of(n[r[s]],i[o[s]]);if(0!==u)return u}return jh(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Sh()}}function sf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return jh(t,e);var n=Qh(t),r=Qh(e),i=jh(n.seconds,r.seconds);return 0!==i?i:jh(n.nanos,r.nanos)}function af(t){return uf(t)}function uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Qh(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gh(t.bytesValue).toBase64():"referenceValue"in t?tf.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=uf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+uf(t.fields[o])}return e+"}"}(t.mapValue):Sh();var e}function cf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function lf(t){return!!t&&"integerValue"in t}function hf(t){return!!t&&"arrayValue"in t}function ff(t){return!!t&&"nullValue"in t}function df(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}var gf=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(qh.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return nf(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ef(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=pf(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(qh.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!pf(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function mf(t){var e=[];return Mh(t.fields||{},function(t,n){var r=new qh([t]);if(pf(n)){var i=mf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Bh(e)}var yf=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Nh.min(),gf.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,gf.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,gf.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=gf.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=gf.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),bf=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function vf(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new bf(t,e,n,r,i,o,s)}function wf(t){var e=Th(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+af(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Df(e.startAt)),e.endAt&&(n+="|ub:",n+=Df(e.endAt)),e.h=n}return e.h}function _f(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Pf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!nf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vf(t.startAt,e.startAt)&&Vf(t.endAt,e.endAt)}function Ef(t){return tf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Of=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(gh.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Cf(t,n,r):"array-contains"===n?new xf(t,r):"in"===n?new Af(t,r):"not-in"===n?new jf(t,r):"array-contains-any"===n?new kf(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Sf(t,n):new If(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(of(e,this.value)):null!==e&&ef(this.value)===ef(e)&&this.m(of(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Sh()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Cf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=tf.fromName(r.referenceValue),i}return Object(gh.c)(e,t),e.prototype.matches=function(t){var e=tf.comparator(t.key,this.key);return this.m(e)},e}(Of),Sf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Tf(0,n),r}return Object(gh.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Of),If=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Tf(0,n),r}return Object(gh.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Of);function Tf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return tf.fromName(t.referenceValue)})}var xf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(gh.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return hf(e)&&rf(e.arrayValue,this.value)},e}(Of),Af=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(gh.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&rf(this.value.arrayValue,e)},e}(Of),jf=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(gh.c)(e,t),e.prototype.matches=function(t){if(rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!rf(this.value.arrayValue,e)},e}(Of),kf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(gh.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!hf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return rf(e.value.arrayValue,t)})},e}(Of),Rf=function(t,e){this.position=t,this.before=e};function Df(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return af(t)}).join(",")}var Nf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Pf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Mf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?tf.comparator(tf.fromName(s.referenceValue),n.key):of(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Vf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!nf(t.position[n],e.position[n]))return!1;return!0}var Lf=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Ff(t,e,n,r,i,o,s,a){return new Lf(t,e,n,r,i,o,s,a)}function Uf(t){return new Lf(t)}function qf(t){return!Jh(t.limit)&&"F"===t.limitType}function Bf(t){return!Jh(t.limit)&&"L"===t.limitType}function Hf(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Qf(t){return null!==t.collectionGroup}function Kf(t){var e=Th(t);if(null===e.p){e.p=[];var n=zf(e),r=Hf(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Nf(n)),e.p.push(new Nf(qh.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Nf(qh.keyField(),u))}}}return e.p}function Gf(t){var e=Th(t);if(!e.T)if("F"===e.limitType)e.T=vf(e.path,e.collectionGroup,Kf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Kf(e);r<i.length;r++){var o=i[r];n.push(new Nf(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Rf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Rf(e.startAt.position,!e.startAt.before):null;e.T=vf(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Wf(t,e,n){return new Lf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $f(t,e){return _f(Gf(t),Gf(e))&&t.limitType===e.limitType}function Yf(t){return wf(Gf(t))+"|lt:"+t.limitType}function Jf(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+af(e.value);var e}).join(", ")+"]"),Jh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Df(t.startAt)),t.endAt&&(e+=", endAt: "+Df(t.endAt)),"Target("+e+")"}(Gf(t))+"; limitType="+t.limitType+")"}function Zf(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):tf.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Mf(t.startAt,Kf(t),e)||t.endAt&&Mf(t.endAt,Kf(t),e))}(t,e)}function Xf(t){return function(e,n){for(var r=!1,i=0,o=Kf(t);i<o.length;i++){var s=o[i],a=td(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function td(t,e,n){var r=t.field.isKeyField()?tf.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?of(r,i):Sh()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Sh()}}function ed(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function nd(t){return{integerValue:""+t}}function rd(t,e){return Xh(e)?nd(e):ed(t,e)}var id=function(){this._=void 0};function od(t,e,n){return t instanceof ud?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof cd?ld(t,e):t instanceof hd?fd(t,e):function(t,e){var n=ad(t,e),r=pd(n)+pd(t.A);return lf(n)&&lf(t.A)?nd(r):ed(t.R,r)}(t,e)}function sd(t,e,n){return t instanceof cd?ld(t,e):t instanceof hd?fd(t,e):n}function ad(t,e){return t instanceof dd?lf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ud=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gh.c)(e,t),e}(id),cd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(gh.c)(e,t),e}(id);function ld(t,e){for(var n=gd(e),r=function(t){n.some(function(e){return nf(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var hd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(gh.c)(e,t),e}(id);function fd(t,e){for(var n=gd(e),r=function(t){n=n.filter(function(e){return!nf(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var dd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(gh.c)(e,t),e}(id);function pd(t){return Kh(t.integerValue||t.doubleValue)}function gd(t){return hf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var md=function(t,e){this.field=t,this.transform=e},yd=function(t,e){this.version=t,this.transformResults=e},bd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function vd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var wd=function(){};function _d(t,e,n){t instanceof Id?function(t,e,n){var r=t.value.clone(),i=Ad(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Td?function(t,e,n){if(vd(t.precondition,e)){var r=Ad(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(xd(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ed(t,e,n){t instanceof Id?function(t,e,n){if(vd(t.precondition,e)){var r=t.value.clone(),i=jd(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Sd(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Td?function(t,e,n){if(vd(t.precondition,e)){var r=jd(t.fieldTransforms,n,e),i=e.data;i.setAll(xd(t)),i.setAll(r),e.convertToFoundDocument(Sd(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){vd(t.precondition,e)&&e.convertToNoDocument(Nh.min())}(t,e)}function Od(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=ad(o.transform,s||null);null!=a&&(null==n&&(n=gf.empty()),n.set(o.field,a))}return n||null}function Cd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&kh(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof cd&&e instanceof cd||t instanceof hd&&e instanceof hd?kh(t.elements,e.elements,nf):t instanceof dd&&e instanceof dd?nf(t.A,e.A):t instanceof ud&&e instanceof ud}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Sd(t){return t.isFoundDocument()?t.version:Nh.min()}var Id=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(gh.c)(e,t),e}(wd),Td=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(gh.c)(e,t),e}(wd);function xd(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Ad(t,e,n){var r=new Map;Ih(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,sd(s,a,n[i]))}return r}function jd(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,od(a,u,e))}return r}var kd,Rd,Dd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(gh.c)(e,t),e}(wd),Nd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(gh.c)(e,t),e}(wd),Pd=function(t){this.count=t};function Md(t){switch(t){case yh.OK:return Sh();case yh.CANCELLED:case yh.UNKNOWN:case yh.DEADLINE_EXCEEDED:case yh.RESOURCE_EXHAUSTED:case yh.INTERNAL:case yh.UNAVAILABLE:case yh.UNAUTHENTICATED:return!1;case yh.INVALID_ARGUMENT:case yh.NOT_FOUND:case yh.ALREADY_EXISTS:case yh.PERMISSION_DENIED:case yh.FAILED_PRECONDITION:case yh.ABORTED:case yh.OUT_OF_RANGE:case yh.UNIMPLEMENTED:case yh.DATA_LOSS:return!0;default:return Sh()}}function Vd(t){if(void 0===t)return Eh("GRPC error has no .code"),yh.UNKNOWN;switch(t){case kd.OK:return yh.OK;case kd.CANCELLED:return yh.CANCELLED;case kd.UNKNOWN:return yh.UNKNOWN;case kd.DEADLINE_EXCEEDED:return yh.DEADLINE_EXCEEDED;case kd.RESOURCE_EXHAUSTED:return yh.RESOURCE_EXHAUSTED;case kd.INTERNAL:return yh.INTERNAL;case kd.UNAVAILABLE:return yh.UNAVAILABLE;case kd.UNAUTHENTICATED:return yh.UNAUTHENTICATED;case kd.INVALID_ARGUMENT:return yh.INVALID_ARGUMENT;case kd.NOT_FOUND:return yh.NOT_FOUND;case kd.ALREADY_EXISTS:return yh.ALREADY_EXISTS;case kd.PERMISSION_DENIED:return yh.PERMISSION_DENIED;case kd.FAILED_PRECONDITION:return yh.FAILED_PRECONDITION;case kd.ABORTED:return yh.ABORTED;case kd.OUT_OF_RANGE:return yh.OUT_OF_RANGE;case kd.UNIMPLEMENTED:return yh.UNIMPLEMENTED;case kd.DATA_LOSS:return yh.DATA_LOSS;default:return Sh()}}(Rd=kd||(kd={}))[Rd.OK=0]="OK",Rd[Rd.CANCELLED=1]="CANCELLED",Rd[Rd.UNKNOWN=2]="UNKNOWN",Rd[Rd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rd[Rd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rd[Rd.NOT_FOUND=5]="NOT_FOUND",Rd[Rd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rd[Rd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rd[Rd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rd[Rd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rd[Rd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rd[Rd.ABORTED=10]="ABORTED",Rd[Rd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rd[Rd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rd[Rd.INTERNAL=13]="INTERNAL",Rd[Rd.UNAVAILABLE=14]="UNAVAILABLE",Rd[Rd.DATA_LOSS=15]="DATA_LOSS";var Ld=function(){function t(t,e){this.comparator=t,this.root=e||Ud.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ud.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ud.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Fd(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Fd(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Fd(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Fd(this.root,t,this.comparator,!0)},t}(),Fd=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ud=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Sh();if(this.right.isRed())throw Sh();var t=this.left.check();if(t!==this.right.check())throw Sh();return t+(this.isRed()?0:1)},t}();Ud.EMPTY=null,Ud.RED=!0,Ud.BLACK=!1,Ud.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Sh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Sh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Sh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Sh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Sh()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ud(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var qd=function(){function t(t){this.comparator=t,this.data=new Ld(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Bd(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Bd(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Bd=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Hd=new Ld(tf.comparator);function zd(){return Hd}var Qd=new Ld(tf.comparator);function Kd(){return Qd}var Gd=new Ld(tf.comparator);function Wd(){return Gd}var $d=new qd(tf.comparator);function Yd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=$d,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Jd=new qd(jh);function Zd(){return Jd}var Xd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,tp.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Nh.min(),r,Zd(),zd(),Yd())},t}(),tp=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Hh.EMPTY_BYTE_STRING,n,Yd(),Yd(),Yd())},t}(),ep=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},np=function(t,e){this.targetId=t,this.V=e},rp=function(t,e,n,r){void 0===n&&(n=Hh.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ip=function(){function t(){this.S=0,this.D=ap(),this.C=Hh.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Yd(),e=Yd(),n=Yd();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Sh()}}),new tp(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=ap()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),op=function(){function t(t){this.W=t,this.G=new Map,this.H=zd(),this.J=sp(),this.Y=new qd(jh)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Sh()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ef(i))if(0===n){var o=new tf(i.path);this.tt(e,o,yf.newNoDocument(o,Nh.min()))}else Ih(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Ef(o.target)){var s=new tf(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,yf.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Yd();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Xd(t,n,this.Y,this.H,r);return this.H=zd(),this.J=sp(),this.Y=new qd(jh),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ip,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new qd(jh),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||_h("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ip),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function sp(){return new Ld(tf.comparator)}function ap(){return new Ld(tf.comparator)}var up={asc:"ASCENDING",desc:"DESCENDING"},cp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lp=function(t,e){this.databaseId=t,this.I=e};function hp(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fp(t,e){return t.I?e.toBase64():e.toUint8Array()}function dp(t,e){return hp(t,e.toTimestamp())}function pp(t){return Ih(!!t),Nh.fromTimestamp(function(t){var e=Qh(t);return new Dh(e.seconds,e.nanos)}(t))}function gp(t,e){return function(t){return new Fh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function mp(t){var e=Fh.fromString(t);return Ih(Up(e)),e}function yp(t,e){return gp(t.databaseId,e.path)}function bp(t,e){var n=mp(e);if(n.get(1)!==t.databaseId.projectId)throw new bh(yh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new bh(yh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new tf(Ep(n))}function vp(t,e){return gp(t.databaseId,e)}function wp(t){var e=mp(t);return 4===e.length?Fh.emptyPath():Ep(e)}function _p(t){return new Fh(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ep(t){return Ih(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Op(t,e,n){return{name:yp(t,e),fields:n.toProto().mapValue.fields}}function Cp(t,e,n){var r=bp(t,e.name),i=pp(e.updateTime),o=new gf({mapValue:{fields:e.fields}}),s=yf.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Sp(t,e){var n;if(e instanceof Id)n={update:Op(t,e.key,e.value)};else if(e instanceof Dd)n={delete:yp(t,e.key)};else if(e instanceof Td)n={update:Op(t,e.key,e.data),updateMask:Fp(e.fieldMask)};else{if(!(e instanceof Nd))return Sh();n={verify:yp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ud)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof dd)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Sh()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:dp(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Sh()}(t,e.precondition)),n}function Ip(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?bd.updateTime(pp(t.updateTime)):void 0!==t.exists?bd.exists(t.exists):bd.none()}(e.currentDocument):bd.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ih("REQUEST_TIME"===e.setToServerValue),n=new ud):"appendMissingElements"in e?n=new cd(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new hd(e.removeAllFromArray.values||[]):"increment"in e?n=new dd(t,e.increment):Sh();var r=qh.fromServerFormat(e.fieldPath);return new md(r,n)}(t,e)}):[];if(e.update){var i=bp(t,e.update.name),o=new gf({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Bh((t.fieldPaths||[]).map(function(t){return qh.fromServerFormat(t)}))}(e.updateMask);return new Td(i,o,s,n,r)}return new Id(i,o,n,r)}if(e.delete){var a=bp(t,e.delete);return new Dd(a,n)}if(e.verify){var u=bp(t,e.verify);return new Nd(u,n)}return Sh()}function Tp(t,e){return{documents:[vp(t,e.path)]}}function xp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=vp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(df(t.value))return{unaryFilter:{field:Pp(t.field),op:"IS_NAN"}};if(ff(t.value))return{unaryFilter:{field:Pp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(df(t.value))return{unaryFilter:{field:Pp(t.field),op:"IS_NOT_NAN"}};if(ff(t.value))return{unaryFilter:{field:Pp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pp(t.field),op:Np(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Pp(t.field),direction:Dp(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Jh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=kp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kp(e.endAt)),n}function Ap(t){var e=wp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ih(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=jp(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Nf(Mp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Jh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Rp(n.startAt));var l=null;return n.endAt&&(l=Rp(n.endAt)),Ff(e,i,a,s,u,"F",c,l)}function jp(t){return t?void 0!==t.unaryFilter?[Lp(t)]:void 0!==t.fieldFilter?[Vp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return jp(t)}).reduce(function(t,e){return t.concat(e)}):Sh():[]}function kp(t){return{before:t.before,values:t.position}}function Rp(t){return new Rf(t.values||[],!!t.before)}function Dp(t){return up[t]}function Np(t){return cp[t]}function Pp(t){return{fieldPath:t.canonicalString()}}function Mp(t){return qh.fromServerFormat(t.fieldPath)}function Vp(t){return Of.create(Mp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Sh()}}(t.fieldFilter.op),t.fieldFilter.value)}function Lp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Mp(t.unaryFilter.field);return Of.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Mp(t.unaryFilter.field);return Of.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Mp(t.unaryFilter.field);return Of.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Mp(t.unaryFilter.field);return Of.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Sh()}}function Fp(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Up(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function qp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Hp(e)),e=Bp(t.get(n),e);return Hp(e)}function Bp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Hp(t){return t+"\x01\x01"}function zp(t){var e=t.length;if(Ih(e>=2),2===e)return Ih("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Fh.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Sh(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Sh()}o=s+2}return new Fh(r)}var Qp=function(t,e){this.seconds=t,this.nanoseconds=e},Kp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Kp.store="owner",Kp.key="owner";var Gp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Gp.store="mutationQueues",Gp.keyPath="userId";var Wp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wp.store="mutations",Wp.keyPath="batchId",Wp.userMutationsIndex="userMutationsIndex",Wp.userMutationsKeyPath=["userId","batchId"];var $p=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,qp(e)]},t.key=function(t,e,n){return[t,qp(e),n]},t}();$p.store="documentMutations",$p.PLACEHOLDER=new $p;var Yp=function(t,e){this.path=t,this.readTime=e},Jp=function(t,e){this.path=t,this.version=e},Zp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Zp.store="remoteDocuments",Zp.readTimeIndex="readTimeIndex",Zp.readTimeIndexPath="readTime",Zp.collectionReadTimeIndex="collectionReadTimeIndex",Zp.collectionReadTimeIndexPath=["parentPath","readTime"];var Xp=function(t){this.byteSize=t};Xp.store="remoteDocumentGlobal",Xp.key="remoteDocumentGlobalKey";var tg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};tg.store="targets",tg.keyPath="targetId",tg.queryTargetsIndexName="queryTargetsIndex",tg.queryTargetsKeyPath=["canonicalId","targetId"];var eg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};eg.store="targetDocuments",eg.keyPath=["targetId","path"],eg.documentTargetsIndex="documentTargetsIndex",eg.documentTargetsKeyPath=["path","targetId"];var ng=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ng.key="targetGlobalKey",ng.store="targetGlobal";var rg=function(t,e){this.collectionId=t,this.parent=e};rg.store="collectionParents",rg.keyPath=["collectionId","parent"];var ig=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ig.store="clientMetadata",ig.keyPath="clientId";var og=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};og.store="bundles",og.keyPath="bundleId";var sg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};sg.store="namedQueries",sg.keyPath="name";var ag=Object(gh.f)(Object(gh.f)([],Object(gh.f)(Object(gh.f)([],Object(gh.f)(Object(gh.f)([],Object(gh.f)(Object(gh.f)([],[Gp.store,Wp.store,$p.store,Zp.store,tg.store,Kp.store,ng.store,eg.store]),[ig.store])),[Xp.store])),[rg.store])),[og.store,sg.store]),ug="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cg=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),lg=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},hg=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Sh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),fg=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new lg,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new gg(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=wg(e.target.error);n.ft.reject(new gg(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new gg(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(_h("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new yg(e)},t}(),dg=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(fa.i)())&&Eh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return _h("SimpleDb","Removing database:",t),bg(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(fa.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(gh.b)(this,void 0,void 0,function(){var e,n=this;return Object(gh.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(_h("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new gg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new bh(yh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new gg(t,n))},i.onupgradeneeded=function(t){_h("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){_h("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(gh.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(gh.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(gh.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=fg.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),hg.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return _h("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),pg=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return bg(this.Pt.delete())},t}(),gg=function(t){function e(e,n){var r=this;return(r=t.call(this,yh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(gh.c)(e,t),e}(bh);function mg(t){return"IndexedDbTransactionError"===t.name}var yg=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(_h("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(_h("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),bg(n)},t.prototype.add=function(t){return _h("SimpleDb","ADD",this.store.name,t,t),bg(this.store.add(t))},t.prototype.get=function(t){var e=this;return bg(this.store.get(t)).next(function(n){return void 0===n&&(n=null),_h("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return _h("SimpleDb","DELETE",this.store.name,t),bg(this.store.delete(t))},t.prototype.count=function(){return _h("SimpleDb","COUNT",this.store.name),bg(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){_h("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new hg(function(n,r){e.onerror=function(t){var e=wg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new hg(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new pg(i),s=e(i.primaryKey,i.value,o);if(s instanceof hg){var a=s.catch(function(t){return o.done(),hg.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return hg.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function bg(t){return new hg(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=wg(t.target.error);n(e)}})}var vg=!1;function wg(t){var e=dg._t(Object(fa.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new bh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return vg||(vg=!0,setTimeout(function(){throw r},0)),r}}return t}var _g=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(gh.c)(e,t),e}(cg);function Eg(t,e){var n=Th(t);return dg.It(n.Mt,e)}var Og=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&_d(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Ed(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Ed(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Nh.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Yd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&kh(this.mutations,t.mutations,function(t,e){return Cd(t,e)})&&kh(this.baseMutations,t.baseMutations,function(t,e){return Cd(t,e)})},t}(),Cg=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Ih(e.mutations.length===r.length);for(var i=Wd(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Sg=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Nh.min()),void 0===o&&(o=Nh.min()),void 0===s&&(s=Hh.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ig=function(t){this.Lt=t};function Tg(t,e){if(e.document)return Cp(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=tf.fromSegments(e.noDocument.path),r=Rg(e.noDocument.readTime),i=yf.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=tf.fromSegments(e.unknownDocument.path);return r=Rg(e.unknownDocument.version),yf.newUnknownDocument(o,r)}return Sh()}function xg(t,e,n){var r=Ag(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:yp(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:hp(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Zp(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=kg(e.version);return s=e.hasCommittedMutations,new Zp(null,new Yp(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=kg(e.version);return new Zp(new Jp(c,l),null,null,!0,r,i)}return Sh()}function Ag(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function jg(t){var e=new Dh(t[0],t[1]);return Nh.fromTimestamp(e)}function kg(t){var e=t.toTimestamp();return new Qp(e.seconds,e.nanoseconds)}function Rg(t){var e=new Dh(t.seconds,t.nanoseconds);return Nh.fromTimestamp(e)}function Dg(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Ip(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Ip(t.Lt,e)}),o=Dh.fromMillis(e.localWriteTimeMs);return new Og(e.batchId,o,n,i)}function Ng(t){var e,n,r=Rg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Rg(t.lastLimboFreeSnapshotVersion):Nh.min();return void 0!==t.query.documents?(Ih(1===(n=t.query).documents.length),e=Gf(Uf(wp(n.documents[0])))):e=function(t){return Gf(Ap(t))}(t.query),new Sg(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Hh.fromBase64String(t.resumeToken))}function Pg(t,e){var n,r=kg(e.snapshotVersion),i=kg(e.lastLimboFreeSnapshotVersion);n=Ef(e.target)?Tp(t.Lt,e.target):xp(t.Lt,e.target);var o=e.resumeToken.toBase64();return new tg(e.targetId,wf(e.target),r,o,e.sequenceNumber,i,n)}function Mg(t){var e=Ap({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Wf(e,e.limit,"L"):e}var Vg=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Lg(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Rg(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Lg(t).put({bundleId:(n=e).id,createTime:kg(pp(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Fg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Mg(e.bundledQuery),readTime:Rg(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Fg(t).put(function(t){return{name:t.name,readTime:kg(pp(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Lg(t){return Eg(t,og.store)}function Fg(t){return Eg(t,sg.store)}var Ug=function(){function t(){this.Bt=new qg}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),hg.resolve()},t.prototype.getCollectionParents=function(t,e){return hg.resolve(this.Bt.getEntries(e))},t}(),qg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new qd(Fh.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new qd(Fh.comparator)).toArray()},t}(),Bg=function(){function t(){this.qt=new qg}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:qp(i)};return Hg(t).put(o)}return hg.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Rh(e),""],!1,!0);return Hg(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(zp(o.parent))}return n})},t}();function Hg(t){return Eg(t,rg.store)}var zg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qg=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Kg(t,e,n){var r=t.store(Wp.store),i=t.store($p.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Ih(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=$p.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return hg.waitFor(o).next(function(){return c})}function Gg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Sh();e=t.noDocument}return JSON.stringify(e).length}Qg.DEFAULT_COLLECTION_PERCENTILE=10,Qg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qg.DEFAULT=new Qg(41943040,Qg.DEFAULT_COLLECTION_PERCENTILE,Qg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qg.DISABLED=new Qg(-1,0,0);var Wg=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Ih(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yg(t).Ot({index:Wp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Jg(t),s=Yg(t);return s.add({}).next(function(a){Ih("number"==typeof a);for(var u=new Og(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Sp(t.Lt,e)}),i=n.mutations.map(function(e){return Sp(t.Lt,e)});return new Wp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new qd(function(t,e){return jh(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=$p.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,$p.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),hg.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Yg(t).get(e).next(function(t){return t?(Ih(t.userId===n.userId),Dg(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?hg.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Yg(t).Ot({index:Wp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ih(e.batchId>=r),o=Dg(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Yg(t).Ot({index:Wp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yg(t).Nt(Wp.userMutationsIndex,n).next(function(t){return t.map(function(t){return Dg(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=$p.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Jg(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=zp(r[1]);if(a===n.userId&&e.path.isEqual(c))return Yg(t).get(u).next(function(t){if(!t)throw Sh();Ih(t.userId===n.userId),o.push(Dg(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new qd(jh),i=[];return e.forEach(function(e){var o=$p.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Jg(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=zp(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),hg.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=$p.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new qd(jh);return Jg(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=zp(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Yg(t).get(e).next(function(t){if(null===t)throw Sh();Ih(t.userId===n.userId),r.push(Dg(n.R,t))}))}),hg.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Kg(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),hg.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return hg.resolve();var r=IDBKeyRange.lowerBound($p.prefixForUser(e.userId)),i=[];return Jg(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=zp(t[1]);i.push(o)}else r.done()}).next(function(){Ih(0===i.length)})})},t.prototype.containsKey=function(t,e){return $g(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Zg(t).get(this.userId).next(function(t){return t||new Gp(e.userId,-1,"")})},t}();function $g(t,e,n){var r=$p.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Jg(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Yg(t){return Eg(t,Wp.store)}function Jg(t){return Eg(t,$p.store)}function Zg(t){return Eg(t,Gp.store)}var Xg=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),tm=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Xg(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Nh.fromTimestamp(new Dh(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return em(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Ih(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return em(t).Ot(function(s,a){var u=Ng(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return hg.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return em(t).Ot(function(t,n){var r=Ng(n);e(r)})},t.prototype.Xt=function(t){return nm(t).get(ng.key).next(function(t){return Ih(null!==t),t})},t.prototype.Zt=function(t,e){return nm(t).put(ng.key,e)},t.prototype.te=function(t,e){return em(t).put(Pg(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=wf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return em(t).Ot({range:r,index:tg.queryTargetsIndexName},function(t,n,r){var o=Ng(n);_f(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=rm(t);return e.forEach(function(e){var s=qp(e.path);i.push(o.put(new eg(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),hg.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=rm(t);return hg.forEach(e,function(e){var o=qp(e.path);return hg.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=rm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=rm(t),i=Yd();return r.Ot({range:n,kt:!0},function(t,e,n){var r=zp(t[1]),o=new tf(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=qp(e.path),r=IDBKeyRange.bound([n],[Rh(n)],!1,!0),i=0;return rm(t).Ot({index:eg.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return em(t).get(e).next(function(t){return t?Ng(t):null})},t}();function em(t){return Eg(t,tg.store)}function nm(t){return Eg(t,ng.store)}function rm(t){return Eg(t,eg.store)}function im(t){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(e){if(t.code!==yh.FAILED_PRECONDITION||t.message!==ug)throw t;return _h("LocalStore","Unexpectedly lost primary lease"),[2]})})}function om(t,e){var n=t[1],r=e[1],i=jh(t[0],e[0]);return 0===i?jh(n,r):i}var sm=function(){function t(t){this.ne=t,this.buffer=new qd(om),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();om(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),am=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;_h("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(gh.b)(e,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return mg(e=n.sent())?(_h("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,im(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),um=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return hg.resolve(mh.o);var r=new sm(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_h("LruGarbageCollector","Garbage collection skipped; disabled"),hg.resolve(zg)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(_h("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),zg):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(_h("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),wh()<=da.a.DEBUG&&_h("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),hg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),cm=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new um(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return lm(t,n)},t.prototype.removeReference=function(t,e,n){return lm(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return lm(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Zg(t).$t(function(r){return $g(t,r,e).next(function(t){return t&&(n=!0),hg.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),rm(t).delete([0,qp(s.path)])})});i.push(u)}}).next(function(){return hg.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return lm(t,e)},t.prototype.we=function(t,e){var n,r=rm(t),i=mh.o;return r.Ot({index:eg.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==mh.o&&e(new tf(zp(n)),i),i=s,n=o):i=mh.o}).next(function(){i!==mh.o&&e(new tf(zp(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function lm(t,e){return rm(t).put(function(t,e){return new eg(0,qp(t.path),e)}(e,t.currentSequenceNumber))}var hm=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Mh(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Vh(this.inner)},t}(),fm=function(){function t(){this.changes=new hm(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Nh.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:yf.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?hg.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),dm=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return mm(t).put(ym(e),n)},t.prototype.removeEntry=function(t,e){var n=mm(t),r=ym(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return mm(t).get(ym(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return mm(t).get(ym(e)).next(function(t){return{document:n.ye(e,t),size:Gg(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=zd();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=zd(),i=new Ld(tf.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Gg(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return hg.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return mm(t).Ot({range:r},function(t,e,r){for(var s=tf.fromSegments(t);o&&tf.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=zd(),o=e.path.length+1,s={};if(n.isEqual(Nh.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Ag(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Zp.collectionReadTimeIndex}return mm(t).Ot(s,function(t,n,s){if(t.length===o){var a=Tg(r.R,n);e.path.isPrefixOf(a.key.path)?Zf(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new pm(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return gm(t).get(Xp.key).next(function(t){return Ih(!!t),t})},t.prototype.me=function(t,e){return gm(t).put(Xp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Tg(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Nh.min()))return n}return yf.newInvalidDocument(t)},t}(),pm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new hm(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(gh.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new qd(function(t,e){return jh(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=xg(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Gg(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=xg(e.Ie.R,yf.newNoDocument(o,Nh.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),hg.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(fm);function gm(t){return Eg(t,Xp.store)}function mm(t){return Eg(t,Zp.store)}function ym(t){return t.path.toArray()}var bm=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Ih(n<r&&n>=0&&r<=11);var o=new fg("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Kp.store)}(t),function(t){t.createObjectStore(Gp.store,{keyPath:Gp.keyPath}),t.createObjectStore(Wp.store,{keyPath:Wp.keyPath,autoIncrement:!0}).createIndex(Wp.userMutationsIndex,Wp.userMutationsKeyPath,{unique:!0}),t.createObjectStore($p.store)}(t),vm(t),function(t){t.createObjectStore(Zp.store)}(t));var s=hg.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(eg.store),t.deleteObjectStore(tg.store),t.deleteObjectStore(ng.store)}(t),vm(t)),s=s.next(function(){return function(t){var e=t.store(ng.store),n=new ng(0,0,Nh.min().toTimestamp(),0);return e.put(ng.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Wp.store).Nt().next(function(n){t.deleteObjectStore(Wp.store),t.createObjectStore(Wp.store,{keyPath:Wp.keyPath,autoIncrement:!0}).createIndex(Wp.userMutationsIndex,Wp.userMutationsKeyPath,{unique:!0});var r=e.store(Wp.store),i=n.map(function(t){return r.put(t)});return hg.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(ig.store,{keyPath:ig.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Xp.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Zp.store);e.createIndex(Zp.readTimeIndex,Zp.readTimeIndexPath,{unique:!1}),e.createIndex(Zp.collectionReadTimeIndex,Zp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(og.store,{keyPath:og.keyPath})}(t),function(t){t.createObjectStore(sg.store,{keyPath:sg.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Zp.store).Ot(function(t,n){e+=Gg(n)}).next(function(){var n=new Xp(e);return t.store(Xp.store).put(Xp.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Gp.store),r=t.store(Wp.store);return n.Nt().next(function(n){return hg.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Wp.userMutationsIndex,i).next(function(r){return hg.forEach(r,function(r){Ih(r.userId===n.userId);var i=Dg(e.R,r);return Kg(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(eg.store),n=t.store(Zp.store);return t.store(ng.store).get(ng.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new Fh(n),s=function(t){return[0,qp(t)]}(o);r.push(e.get(s).next(function(n){return n?hg.resolve():function(n){return e.put(new eg(0,qp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return hg.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(rg.store,{keyPath:rg.keyPath});var n=e.store(rg.store),r=new qg,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:qp(i)})}};return e.store(Zp.store).Ot({kt:!0},function(t,e){var n=new Fh(t);return i(n.popLast())}).next(function(){return e.store($p.store).Ot({kt:!0},function(t,e){var n=zp(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(tg.store);return n.Ot(function(t,r){var i=Ng(r),o=Pg(e.R,i);return n.put(o)})},t}();function vm(t){t.createObjectStore(eg.store,{keyPath:eg.keyPath}).createIndex(eg.documentTargetsIndex,eg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(tg.store,{keyPath:tg.keyPath}).createIndex(tg.queryTargetsIndexName,tg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ng.store)}var wm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_m=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new bh(yh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cm(this,i),this.Le=n+"main",this.R=new Ig(u),this.Be=new dg(this.Le,11,new bm(this.R)),this.qe=new tm(this.referenceDelegate,this.R),this.Ut=new Bg,this.Ue=function(t,e){return new dm(t,e)}(this.R,this.Ut),this.Qe=new Vg,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Eh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new bh(yh.FAILED_PRECONDITION,wm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new mh(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(gh.b)(e,void 0,void 0,function(){return Object(gh.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(gh.b)(e,void 0,void 0,function(){return Object(gh.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(gh.b)(e,void 0,void 0,function(){return Object(gh.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Om(e).put(new ig(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(mg(e))return _h("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return _h("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Em(t).get(Kp.key).next(function(t){return hg.resolve(e.tn(t))})},t.prototype.en=function(t){return Om(t).delete(this.clientId)},t.prototype.nn=function(){return Object(gh.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(gh.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Eg(t,ig.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return hg.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?hg.resolve(!0):Em(t).get(Kp.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new bh(yh.FAILED_PRECONDITION,wm);return!1}}return!(!e.networkEnabled||!e.inForeground)||Om(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&_h("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(gh.b)(this,void 0,void 0,function(){var t=this;return Object(gh.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Kp.store,ig.store],function(e){var n=new _g(e,mh.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Om(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Wg.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return _h("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",ag,function(o){return r=new _g(o,i.Ne?i.Ne.next():mh.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Eh("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new bh(yh.FAILED_PRECONDITION,ug);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Em(t).get(Kp.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new bh(yh.FAILED_PRECONDITION,wm)})},t.prototype.Ze=function(t){var e=new Kp(this.clientId,this.allowTabSynchronization,Date.now());return Em(t).put(Kp.key,e)},t.yt=function(){return dg.yt()},t.prototype.Xe=function(t){var e=this,n=Em(t);return n.get(Kp.key).next(function(t){return e.tn(t)?(_h("IndexedDbPersistence","Releasing primary lease."),n.delete(Kp.key)):hg.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Eh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return _h("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Eh("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Eh("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Em(t){return Eg(t,Kp.store)}function Om(t){return Eg(t,ig.store)}function Cm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Sm=function(t,e){this.progress=t,this.wn=e},Im=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return tf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Qf(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new tf(e)).next(function(t){var e=Kd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Kd();return this.Ut.getCollectionParents(t,i).next(function(s){return hg.forEach(s,function(s){var a=function(t,e){return new Lf(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=yf.newInvalidDocument(c),r=r.insert(c,l)),Ed(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Zf(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Yd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Td&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Tm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Yd(),i=Yd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xm=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Nh.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(qf(e)||Bf(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(wh()<=da.a.DEBUG&&_h("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Jf(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new qd(Xf(t));return e.forEach(function(e,r){Zf(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return wh()<=da.a.DEBUG&&_h("QueryEngine","Using full collection scan to execute query:",Jf(e)),this.Sn.getDocumentsMatchingQuery(t,e,Nh.min())},t}(),Am=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ld(jh),this.kn=new hm(function(t){return wf(t)},_f),this.On=Nh.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Im(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function jm(t,e,n,r){return new Am(t,e,n,r)}function km(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(gh.d)(this,function(s){switch(s.label){case 0:return n=Th(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Im(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Yd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Rm(t,e){var n=Th(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=hg.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Ih(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Dm(t){var e=Th(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Nm(t,e){var n=Th(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Ih(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=zd();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Pm(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Nh.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return hg.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Pm(t,e,n,r,i){var o=Yd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=zd();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Nh.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):_h("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Mm(t,e){var n=Th(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Vm(t,e){var n=Th(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?hg.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Sg(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Lm(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(gh.d)(this,function(a){switch(a.label){case 0:r=Th(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!mg(s=a.sent()))throw s;return _h("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Fm(t,e,n){var r=Th(t),i=Nh.min(),o=Yd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Th(t),i=r.kn.get(n);return void 0!==i?hg.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Gf(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Nh.min(),n?o:Yd())}).next(function(t){return{documents:t,Bn:o}})})}function Um(t,e){var n=Th(t),r=Th(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function qm(t){var e=Th(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Th(t),i=zd(),o=Ag(n),s=mm(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:Zp.readTimeIndex,range:a},function(t,e){var n=Tg(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:jg(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function Bm(t){return Object(gh.b)(this,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){return[2,(e=Th(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=mm(t),n=Nh.min();return e.Ot({index:Zp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=jg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Hm(t,e,n,r){return Object(gh.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(gh.d)(this,function(p){switch(p.label){case 0:for(i=Th(t),o=Yd(),s=zd(),a=Wd(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Vm(i,function(t){return Gf(Uf(Fh.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Pm(t,f,s,Nh.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function zm(t,e,n){return void 0===n&&(n=Yd()),Object(gh.b)(this,void 0,void 0,function(){var r,i;return Object(gh.d)(this,function(o){switch(o.label){case 0:return[4,Vm(t,Gf(Mg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Th(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=pp(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Hh.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Qm=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return hg.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:pp(n.createTime)}),hg.resolve()},t.prototype.getNamedQuery=function(t,e){return hg.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Mg(t.bundledQuery),readTime:pp(t.readTime)}}(e)),hg.resolve()},t}(),Km=function(){function t(){this.Wn=new qd(Gm.Gn),this.zn=new qd(Gm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Gm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Gm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new tf(new Fh([])),r=new Gm(n,t),i=new Gm(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new tf(new Fh([])),n=new Gm(e,t),r=new Gm(e,t+1),i=Yd();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Gm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Gm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return tf.comparator(t.key,e.key)||jh(t.ns,e.ns)},t.Hn=function(t,e){return jh(t.ns,e.ns)||tf.comparator(t.key,e.key)},t}(),Wm=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new qd(Gm.Gn)}return t.prototype.checkEmpty=function(t){return hg.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Og(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Gm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return hg.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return hg.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return hg.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return hg.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return hg.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Gm(e,0),i=new Gm(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),hg.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new qd(jh);return e.forEach(function(t){var e=new Gm(t,0),i=new Gm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),hg.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;tf.isDocumentKey(i)||(i=i.child(""));var o=new Gm(new tf(i),0),s=new qd(jh);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),hg.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Ih(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return hg.forEach(e.mutations,function(i){var o=new Gm(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Gm(e,0),r=this.rs.firstAfterOrEqual(n);return hg.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return hg.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),$m=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ld(tf.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return hg.resolve(n?n.document.clone():yf.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=zd();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():yf.newInvalidDocument(t))}),hg.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=zd(),i=new tf(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Zf(e,u)&&(r=r.insert(u.key,u.clone()))}return hg.resolve(r)},t.prototype.fs=function(t,e){return hg.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Ym(this)},t.prototype.getSize=function(t){return hg.resolve(this.size)},t}(),Ym=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(gh.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),hg.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(fm),Jm=function(){function t(t){this.persistence=t,this.ds=new hm(function(t){return wf(t)},_f),this.lastRemoteSnapshotVersion=Nh.min(),this.highestTargetId=0,this.ws=0,this._s=new Km,this.targetCount=0,this.ys=Xg.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),hg.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return hg.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return hg.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),hg.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),hg.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Xg(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,hg.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),hg.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,hg.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),hg.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return hg.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return hg.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),hg.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),hg.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),hg.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return hg.resolve(n)},t.prototype.containsKey=function(t,e){return hg.resolve(this._s.containsKey(e))},t}(),Zm=function(){function t(t,e){var n=this;this.gs={},this.Ne=new mh(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Jm(this),this.Ut=new Ug,this.Ue=function(t,e){return new $m(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Ig(e),this.Qe=new Qm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Wm(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;_h("MemoryPersistence","Starting transaction:",t);var i=new Xm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return hg.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Xm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(gh.c)(e,t),e}(cg),ty=function(){function t(t){this.persistence=t,this.As=new Km,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Sh()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),hg.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),hg.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),hg.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hg.forEach(this.vs,function(r){var i=tf.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return hg.or([function(){return hg.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ey=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function ny(t,e){return"firestore_clients_"+t+"_"+e}function ry(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function iy(t,e){return"firestore_targets_"+t+"_"+e}ey.UNAUTHENTICATED=new ey(null),ey.GOOGLE_CREDENTIALS=new ey("google-credentials-uid"),ey.FIRST_PARTY=new ey("first-party-uid");var oy=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new bh(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Eh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sy=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new bh(i.error.code,i.error.message)),o?new t(e,i.state,r):(Eh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ay=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zd(),s=0;i&&s<r.activeTargetIds.length;++s)i=Xh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Eh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),uy=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Eh("SharedClientState","Failed to parse online state: "+e),null)},t}(),cy=function(){function t(){this.activeTargetIds=Zd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ly=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ld(jh),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=ny(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new cy),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(gh.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(gh.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(ny(this.persistenceKey,r)))&&(o=ay.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(iy(this.persistenceKey,t));if(n){var r=sy.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(iy(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return _h("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){_h("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){_h("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(_h("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Eh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(gh.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(gh.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=mh.o;if(null!=t)try{var n=JSON.parse(t);Ih("number"==typeof n),e=n}catch(t){Eh("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==mh.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new oy(this.currentUser,t,e,n),i=ry(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=ry(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=iy(this.persistenceKey,t),i=new sy(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ay.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return oy.Vs(new ey(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return sy.Vs(r,e)},t.prototype.js=function(t){return uy.Vs(t)},t.prototype.ii=function(t){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(_h("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Zd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),hy=function(){function t(){this.li=new cy,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new cy,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),fy=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),dy=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){_h("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){_h("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gy=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),my=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(gh.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new ph;s.listenOnce(hh.COMPLETE,function(){try{switch(s.getLastErrorCode()){case lh.NO_ERROR:var e=s.getResponseJson();_h("Connection","XHR received:",JSON.stringify(e)),i(e);break;case lh.TIMEOUT:_h("Connection",'RPC "'+t+'" timed out'),o(new bh(yh.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:var n=s.getStatus();if(_h("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(yh).indexOf(e)>=0?e:yh.UNKNOWN}(r.status);o(new bh(a,r.message))}else o(new bh(yh.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new bh(yh.UNAVAILABLE,"Connection failed."));break;default:Sh()}}finally{_h("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new oh,i=uc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(fa.n)()||Object(fa.p)()||Object(fa.l)()||Object(fa.m)()||Object(fa.q)()||Object(fa.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");_h("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new gy({Ei:function(t){c?_h("Connection","Not sending because WebChannel is closed:",t):(u||(_h("Connection","Opening WebChannel transport."),a.open(),u=!0),_h("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,dh.EventType.OPEN,function(){c||_h("Connection","WebChannel transport opened.")}),h(a,dh.EventType.CLOSE,function(){c||(c=!0,_h("Connection","WebChannel transport closed"),l.Vi())}),h(a,dh.EventType.ERROR,function(t){c||(c=!0,Oh("Connection","WebChannel transport errored:",t),l.Vi(new bh(yh.UNAVAILABLE,"The operation could not be completed")))}),h(a,dh.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Ih(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){_h("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=kd[t];if(void 0!==e)return Vd(e)}(i),s=r.message;void 0===o&&(o=yh.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new bh(o,s)),a.close()}else _h("Connection","WebChannel received:",n),l.Si(n)}}),h(i,fh.STAT_EVENT,function(t){10===t.stat?_h("Connection","Detected buffering proxy"):11===t.stat&&_h("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);_h("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return _h("RestConnection","Received: ",t),t},function(e){throw Oh("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+py[t]},t}());function yy(){return"undefined"!=typeof window?window:null}function by(){return"undefined"!=typeof document?document:null}function vy(t){return new lp(t,!0)}var wy=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&_h("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),_y=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new wy(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===yh.RESOURCE_EXHAUSTED?(Eh(e.toString()),Eh("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===yh.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new bh(yh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(gh.b)(t,void 0,void 0,function(){return Object(gh.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return _h("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(_h("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ey=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(gh.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Sh()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Ih(void 0===e||"string"==typeof e),Hh.fromBase64String(e||"")):(Ih(void 0===e||e instanceof Uint8Array),Hh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?yh.UNKNOWN:Vd(t.code);return new bh(e,t.message||"")}(a);n=new rp(r,i,o,s||null)}else if("documentChange"in e){i=bp(t,(r=e.documentChange).document.name),o=pp(r.document.updateTime);var a=new gf({mapValue:{fields:r.document.fields}}),u=(s=yf.newFoundDocument(i,o,a),r.targetIds||[]);n=new ep(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=bp(t,(r=e.documentDelete).document),o=r.readTime?pp(r.readTime):Nh.min(),a=yf.newNoDocument(i,o),n=new ep([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=bp(t,(r=e.documentRemove).document),n=new ep([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Sh();var c=e.filter;i=new Pd(r=c.count||0),n=new np(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Nh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Nh.min():e.readTime?pp(e.readTime):Nh.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=_p(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ef(r)?{documents:Tp(t,r)}:{query:xp(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=fp(t,e.resumeToken):e.snapshotVersion.compareTo(Nh.min())>0&&(n.readTime=hp(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sh()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=_p(this.R),e.removeTarget=t,this.cr(e)},e}(_y),Oy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(gh.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Ih(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Ih(void 0!==e),t.map(function(t){return function(t,e){var n=pp(t.updateTime?t.updateTime:e);return n.isEqual(Nh.min())&&(n=pp(e)),new yd(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=pp(t.commitTime);return this.listener.Tr(n,e)}return Ih(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=_p(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Sp(e.R,t)})};this.cr(n)},e}(_y),Cy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(gh.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new bh(yh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===yh.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new bh(yh.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===yh.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new bh(yh.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Sy=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Eh(e),this.Vr=!1):_h("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Iy=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(gh.b)(o,void 0,void 0,function(){return Object(gh.d)(this,function(t){switch(t.label){case 0:return Py(this)?(_h("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(gh.b)(this,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){switch(n.label){case 0:return(e=Th(t)).$r.add(4),[4,xy(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Ty(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Sy(n,r)};function Ty(t){return Object(gh.b)(this,void 0,void 0,function(){var e,n;return Object(gh.d)(this,function(r){switch(r.label){case 0:if(!Py(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function xy(t){return Object(gh.b)(this,void 0,void 0,function(){var e,n;return Object(gh.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ay(t,e){var n=Th(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Ny(n)?Dy(n):Yy(n).er()&&ky(n,e))}function jy(t,e){var n=Th(t),r=Yy(n);n.Or.delete(e),r.er()&&Ry(n,e),0===n.Or.size&&(r.er()?r.ir():Py(n)&&n.Br.set("Unknown"))}function ky(t,e){t.qr.U(e.targetId),Yy(t).mr(e)}function Ry(t,e){t.qr.U(e),Yy(t).yr(e)}function Dy(t){t.qr=new op({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Yy(t).start(),t.Br.Sr()}function Ny(t){return Py(t)&&!Yy(t).tr()&&t.Or.size>0}function Py(t){return 0===Th(t).$r.size}function My(t){t.qr=void 0}function Vy(t){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(e){return t.Or.forEach(function(e,n){ky(t,e)}),[2]})})}function Ly(t,e){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(n){return My(t),Ny(t)?(t.Br.Nr(e),Dy(t)):t.Br.set("Unknown"),[2]})})}function Fy(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r,i,o;return Object(gh.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof rp&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(gh.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),_h("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Uy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ep?t.qr.X(e):e instanceof np?t.qr.rt(e):t.qr.et(e),n.isEqual(Nh.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Dm(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Hh.EMPTY_BYTE_STRING,n.snapshotVersion)),Ry(t,e);var r=new Sg(n.target,e,1,n.sequenceNumber);ky(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return _h("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Uy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Uy(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r=this;return Object(gh.d)(this,function(i){switch(i.label){case 0:if(!mg(e))throw e;return t.$r.add(1),[4,xy(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Dm(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(gh.b)(r,void 0,void 0,function(){return Object(gh.d)(this,function(e){switch(e.label){case 0:return _h("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Ty(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function qy(t,e){return e().catch(function(n){return Uy(t,n,e)})}function By(t){return Object(gh.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(gh.d)(this,function(s){switch(s.label){case 0:e=Th(t),n=Jy(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Py(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Mm(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Jy(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Uy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Hy(e)&&zy(e),[2]}})})}function Hy(t){return Py(t)&&!Jy(t).tr()&&t.kr.length>0}function zy(t){Jy(t).start()}function Qy(t){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(e){return Jy(t).Ar(),[2]})})}function Ky(t){return Object(gh.b)(this,void 0,void 0,function(){var e,n,r;return Object(gh.d)(this,function(i){for(e=Jy(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Gy(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r,i;return Object(gh.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Cg.from(r,e,n),[4,qy(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,By(t)];case 2:return o.sent(),[2]}})})}function Wy(t,e){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(n){switch(n.label){case 0:return e&&Jy(t).pr?[4,function(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r;return Object(gh.d)(this,function(i){switch(i.label){case 0:return Md(r=e.code)&&r!==yh.ABORTED?(n=t.kr.shift(),Jy(t).sr(),[4,qy(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,By(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Hy(t)&&zy(t),[2]}})})}function $y(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n;return Object(gh.d)(this,function(r){switch(r.label){case 0:return n=Th(t),e?(n.$r.delete(2),[4,Ty(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,xy(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Yy(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Th(t);return r.br(),new Ey(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Vy.bind(null,t),Ri:Ly.bind(null,t),_r:Fy.bind(null,t)}),t.Mr.push(function(n){return Object(gh.b)(e,void 0,void 0,function(){return Object(gh.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Ny(t)?Dy(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),My(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Jy(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Th(t);return r.br(),new Oy(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Qy.bind(null,t),Ri:Wy.bind(null,t),Ir:Ky.bind(null,t),Tr:Gy.bind(null,t)}),t.Mr.push(function(n){return Object(gh.b)(e,void 0,void 0,function(){return Object(gh.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,By(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(_h("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Zy=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new lg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bh(yh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Xy(t,e){if(Eh("AsyncQueue",e+": "+t),mg(t))return new bh(yh.UNAVAILABLE,e+": "+t);throw t}var tb=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||tf.comparator(e.key,n.key)}:function(t,e){return tf.comparator(t.key,e.key)},this.keyedMap=Kd(),this.sortedSet=new Ld(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),eb=function(){function t(){this.Kr=new Ld(tf.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Sh():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),nb=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,tb.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),rb=function(){this.Wr=void 0,this.listeners=[]},ib=function(){this.queries=new hm(function(t){return Yf(t)},$f),this.onlineState="Unknown",this.Gr=new Set};function ob(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(gh.d)(this,function(c){switch(c.label){case 0:if(n=Th(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new rb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Xy(a,"Initialization of query '"+Jf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&cb(n),[2]}})})}function sb(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(gh.d)(this,function(a){return n=Th(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function ab(t,e){for(var n=Th(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&cb(n)}function ub(t,e,n){var r=Th(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function cb(t){t.Gr.forEach(function(t){t.next()})}var lb=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new nb(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=nb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),hb=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),fb=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return bp(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Cp(this.R,t.document,!1):yf.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return pp(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new fb(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Yd()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(gh.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(gh.d)(this,function(o){switch(o.label){case 0:return[4,Hm(this.localStore,new fb(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,zm(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Sm(Object.assign({},this.progress),t))]}})})}}();var db=function(t){this.key=t},pb=function(t){this.key=t},gb=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Yd(),this.mutatedKeys=Yd(),this.lo=Xf(t),this.fo=new tb(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new eb,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=qf(this.query)&&i.size===this.query.limit?i.last():null,c=Bf(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Zf(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),qf(this.query)||Bf(this.query))for(;s.size>this.query.limit;){var l=qf(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sh()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new nb(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new eb,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Yd(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new pb(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new db(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Yd();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return nb.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),mb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yb=function(t){this.key=t,this.bo=!1},bb=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new hm(function(t){return Yf(t)},$f),this.Vo=new Map,this.So=new Set,this.Do=new Ld(tf.comparator),this.Co=new Map,this.No=new Km,this.xo={},this.Fo=new Map,this.ko=Xg.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function vb(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(gh.d)(this,function(a){switch(a.label){case 0:return n=Wb(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Vm(n.localStore,Gf(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,wb(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Ay(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function wb(t,e,n,r){return Object(gh.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(gh.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(gh.b)(this,void 0,void 0,function(){var i,o,s;return Object(gh.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Fm(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Db(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,Fm(t.localStore,e,!0)];case 1:return i=l.sent(),o=new gb(e,i.Bn),s=o._o(i.documents),a=tp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Db(t,n,u.To),c=new mb(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function _b(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i;return Object(gh.d)(this,function(o){switch(o.label){case 0:return n=Th(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!$f(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Lm(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),jy(n.remoteStore,r.targetId),kb(n,r.targetId)}).catch(im)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return kb(n,r.targetId),[4,Lm(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Eb(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(gh.d)(this,function(a){switch(a.label){case 0:r=$b(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Th(t),i=Dh.now(),o=e.reduce(function(t,e){return t.add(e.key)},Yd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Od(c,n.get(c.key));null!=l&&s.push(new Td(c.key,l,mf(l.toProto().mapValue),bd.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ld(jh)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Mb(r,i.changes)];case 3:return a.sent(),[4,By(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Xy(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Ob(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r;return Object(gh.d)(this,function(i){switch(i.label){case 0:n=Th(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Nm(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Ih(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Ih(r.bo):t.removedDocuments.size>0&&(Ih(r.bo),r.bo=!1))}),[4,Mb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,im(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Cb(t,e,n){var r=Th(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Th(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&cb(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sb(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(gh.d)(this,function(c){switch(c.label){case 0:return(r=Th(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Ld(tf.comparator)).insert(o,yf.newNoDocument(o,Nh.min())),a=Yd().add(o),u=new Xd(Nh.min(),new Map,new qd(jh),s,a),[4,Ob(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Pb(r),[3,4];case 2:return[4,Lm(r.localStore,e,!1).then(function(){return kb(r,e,n)}).catch(im)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Ib(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i;return Object(gh.d)(this,function(o){switch(o.label){case 0:n=Th(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Rm(n.localStore,e)];case 2:return i=o.sent(),jb(n,r,null),Ab(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Mb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,im(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Tb(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r,i;return Object(gh.d)(this,function(o){switch(o.label){case 0:r=Th(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Th(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Ih(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),jb(r,e,n),Ab(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Mb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,im(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function xb(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(gh.d)(this,function(a){switch(a.label){case 0:Py((n=Th(t)).remoteStore)||_h("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Th(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Xy(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Ab(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function jb(t,e,n){var r=Th(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function kb(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Rb(t,e)})}function Rb(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(jy(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Pb(t))}function Db(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof db?(t.No.addReference(o.key,e),Nb(t,o)):o instanceof pb?(_h("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Rb(t,o.key)):Sh()}}function Nb(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(_h("SyncEngine","New document in limbo: "+n),t.So.add(r),Pb(t))}function Pb(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new tf(Fh.fromString(e)),r=t.ko.next();t.Co.set(r,new yb(n)),t.Do=t.Do.insert(n,r),Ay(t.remoteStore,new Sg(Gf(Uf(n.path)),r,2,mh.o))}}function Mb(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(gh.d)(this,function(a){switch(a.label){case 0:return r=Th(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Tm.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(gh.d)(this,function(l){switch(l.label){case 0:n=Th(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return hg.forEach(e,function(e){return hg.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return hg.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!mg(r=l.sent()))throw r;return _h("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Vb(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r;return Object(gh.d)(this,function(i){switch(i.label){case 0:return(n=Th(t)).currentUser.isEqual(e)?[3,3]:(_h("SyncEngine","User change. New user:",e.toKey()),[4,km(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new bh(yh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Mb(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Lb(t,e){var n=Th(t),r=n.Co.get(e);if(r&&r.bo)return Yd().add(r.key);var i=Yd(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Fb(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i;return Object(gh.d)(this,function(o){switch(o.label){case 0:return[4,Fm((n=Th(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Db(n,e.targetId,i.To),i)]}})})}function Ub(t){return Object(gh.b)(this,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){return[2,qm((e=Th(t)).localStore).then(function(t){return Mb(e,t)})]})})}function qb(t,e,n,r){return Object(gh.b)(this,void 0,void 0,function(){var i,o;return Object(gh.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Th(t),r=Th(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):hg.resolve(null)})})}((i=Th(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,By(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(jb(i,e,r||null),Ab(i,e),function(t,e){Th(Th(t)._n).Gt(e)}(i.localStore,e)):Sh(),s.label=4;case 4:return[4,Mb(i,o)];case 5:return s.sent(),[3,7];case 6:_h("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Bb(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(gh.d)(this,function(c){switch(c.label){case 0:return Wb(n=Th(t)),$b(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Hb(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,$y(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Ay(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return kb(n,e),Lm(n.localStore,e,!0)}),jy(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Hb(n,a)];case 5:return c.sent(),function(t){var e=Th(t);e.Co.forEach(function(t,n){jy(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Ld(tf.comparator)}(n),n.Oo=!1,[4,$y(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Hb(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(gh.d)(this,function(g){switch(g.label){case 0:n=Th(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Vm(n.localStore,Gf(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Fb(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Um(n.localStore,a)];case 8:return p=g.sent(),[4,Vm(n.localStore,p)];case 9:return u=g.sent(),[4,wb(n,zb(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function zb(t){return Ff(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qb(t){var e=Th(t);return Th(Th(e.localStore).persistence).fn()}function Kb(t,e,n,r){return Object(gh.b)(this,void 0,void 0,function(){var i,o,s;return Object(gh.d)(this,function(a){switch(a.label){case 0:return(i=Th(t)).Oo?(_h("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,qm(i.localStore)];case 3:return o=a.sent(),s=Xd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Mb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Lm(i.localStore,e,!0)];case 6:return a.sent(),kb(i,e,r),[3,8];case 7:Sh(),a.label=8;case 8:return[2]}})})}function Gb(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(gh.d)(this,function(f){switch(f.label){case 0:if(!(r=Wb(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(_h("SyncEngine","Adding an already active target "+s),[3,5]):[4,Um(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Vm(r.localStore,a)];case 3:return u=f.sent(),[4,wb(r,zb(a),u.targetId,!1)];case 4:f.sent(),Ay(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(gh.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Lm(r.localStore,t,!1).then(function(){jy(r.remoteStore,t),kb(r,t)}).catch(im)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Wb(t){var e=Th(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ob.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sb.bind(null,e),e.vo._r=ab.bind(null,e.eventManager),e.vo.Mo=ub.bind(null,e.eventManager),e}function $b(t){var e=Th(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ib.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tb.bind(null,e),e}var Yb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(e){switch(e.label){case 0:return this.R=vy(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return jm(this.persistence,new xm,t.initialUser,this.R)},t.prototype.qo=function(t){return new Zm(ty.bs,this.R)},t.prototype.Bo=function(t){return new hy},t.prototype.terminate=function(){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Jb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(gh.c)(e,t),e.prototype.initialize=function(e){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Bm(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,$b(this.Ko.syncEngine)];case 4:return n.sent(),[4,By(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return jm(this.persistence,new xm,t.initialUser,this.R)},e.prototype.Uo=function(t){return new am(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Cm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Qg.withCacheSize(this.cacheSizeBytes):Qg.DEFAULT;return new _m(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,yy(),by(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new hy},e}(Yb),Zb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(gh.c)(e,t),e.prototype.initialize=function(e){return Object(gh.b)(this,void 0,void 0,function(){var n,r=this;return Object(gh.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof ly?(this.sharedClientState.syncEngine={ui:qb.bind(null,n),ai:Kb.bind(null,n),hi:Gb.bind(null,n),fn:Qb.bind(null,n),ci:Ub.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(gh.b)(r,void 0,void 0,function(){return Object(gh.d)(this,function(e){switch(e.label){case 0:return[4,Bb(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=yy();if(!ly.yt(e))throw new bh(yh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Cm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ly(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Jb),Xb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n=this;return Object(gh.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Cb(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Vb.bind(null,this.syncEngine),[4,$y(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new ib},t.prototype.createDatastore=function(t){var e=vy(t.databaseInfo.databaseId),n=new my(t.databaseInfo);return function(t,e,n){return new Cy(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Cb(s.syncEngine,t,0)},o=dy.yt()?new dy:new fy,new Iy(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new bb(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(gh.b)(this,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){switch(n.label){case 0:return e=Th(t),_h("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,xy(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),tv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),ev=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new lg,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(gh.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(gh.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new hb(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(gh.b)(this,void 0,void 0,function(){var t,e;return Object(gh.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(gh.b)(this,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(gh.b)(this,void 0,void 0,function(){var t,e;return Object(gh.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(gh.b)(this,void 0,void 0,function(){var e,n=this;return Object(gh.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new bh(yh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(gh.d)(this,function(u){switch(u.label){case 0:return n=Th(t),r=_p(n.R)+"/documents",i={documents:e.map(function(t){return yp(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ih(!!e.found);var n=bp(t,e.found.name),r=pp(e.found.updateTime),i=new gf({mapValue:{fields:e.found.fields}});return yf.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Ih(!!e.missing),Ih(!!e.readTime);var n=bp(t,e.missing),r=pp(e.readTime);return yf.newNoDocument(n,r)}(t,e):Sh()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Ih(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Dd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(gh.b)(this,void 0,void 0,function(){var t,e=this;return Object(gh.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=tf.fromPath(n);e.mutations.push(new Nd(r,e.precondition(r)))}),[4,function(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i;return Object(gh.d)(this,function(o){switch(o.label){case 0:return n=Th(t),r=_p(n.R)+"/documents",i={writes:e.map(function(t){return Sp(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Sh();e=Nh.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new bh(yh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?bd.updateTime(e):bd.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Nh.min()))throw new bh(yh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bd.updateTime(e)}return bd.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),nv=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new wy(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(gh.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(gh.d)(this,function(r){return t=new ev(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Jh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Md(e)}return!1},t}(),rv=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ey.UNAUTHENTICATED,this.clientId=Ah.u(),this.credentialListener=function(){},this.receivedInitialUser=new lg,this.credentials.setChangeListener(function(t){_h("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new bh(yh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new lg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(gh.b)(t,void 0,void 0,function(){var t,n;return Object(gh.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Xy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function iv(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(gh.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),_h("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(gh.b)(i,void 0,void 0,function(){return Object(gh.d)(this,function(t){switch(t.label){case 0:return[4,km(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function ov(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r;return Object(gh.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,sv(t)];case 1:return n=i.sent(),_h("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(gh.b)(this,void 0,void 0,function(){var n,r;return Object(gh.d)(this,function(i){switch(i.label){case 0:return(n=Th(t)).asyncQueue.verifyOperationInProgress(),_h("RemoteStore","RemoteStore received new credentials"),r=Py(n),n.$r.add(3),[4,xy(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Ty(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function sv(t){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(_h("FirestoreClient","Using default OfflineComponentProvider"),[4,iv(t,new Yb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function av(t){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(_h("FirestoreClient","Using default OnlineComponentProvider"),[4,ov(t,new Xb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function uv(t){return sv(t).then(function(t){return t.persistence})}function cv(t){return sv(t).then(function(t){return t.localStore})}function lv(t){return av(t).then(function(t){return t.remoteStore})}function hv(t){return av(t).then(function(t){return t.syncEngine})}function fv(t){return Object(gh.b)(this,void 0,void 0,function(){var e,n;return Object(gh.d)(this,function(r){switch(r.label){case 0:return[4,av(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=vb.bind(null,e.syncEngine),n.onUnlisten=_b.bind(null,e.syncEngine),n)]}})})}function dv(t,e,n){var r=this;void 0===n&&(n={});var i=new lg;return t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(r,void 0,void 0,function(){var r;return Object(gh.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new tv({next:function(o){e.enqueueAndForget(function(){return sb(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new bh(yh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new bh(yh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new lb(Uf(n.path),o,{includeMetadataChanges:!0,so:!0});return ob(t,s)},[4,fv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function pv(t,e,n){var r=this;void 0===n&&(n={});var i=new lg;return t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(r,void 0,void 0,function(){var r;return Object(gh.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new tv({next:function(n){e.enqueueAndForget(function(){return sb(t,s)}),n.fromCache&&"server"===r.source?i.reject(new bh(yh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new lb(n,o,{includeMetadataChanges:!0,so:!0});return ob(t,s)},[4,fv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var gv=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},mv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),yv=new Map,bv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},vv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(ey.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),wv=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),_v=function(){function t(t){var e=this;this.oc=null,this.currentUser=ey.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(_h("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ih("string"==typeof n.accessToken),new bv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Ih(null===t||"string"==typeof t),new ey(t)},t}(),Ev=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=ey.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Ov=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Ev(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(ey.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Cv(t,e,n){if(!n)throw new bh(yh.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Sv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new bh(yh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Iv(t,e,n,r){if(!0===e&&!0===r)throw new bh(yh.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Tv(t){if(!tf.isDocumentKey(t))throw new bh(yh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function xv(t){if(tf.isDocumentKey(t))throw new bh(yh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Av(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Sh()}function jv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new bh(yh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Av(t);throw new bh(yh.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function kv(t,e){if(e<=0)throw new bh(yh.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Rv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new bh(yh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bh(yh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Iv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Dv=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,t instanceof mv?(this._databaseId=t,this._credentials=new vv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new bh(yh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mv(t.options.projectId)}(t),this._credentials=new _v(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new bh(yh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new bh(yh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new vv;switch(t.type){case"gapi":var e=t.client;return Ih(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ov(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new bh(yh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=yv.get(this))&&(_h("ComponentProvider","Removing Datastore"),yv.delete(this),t.terminate()),Promise.resolve();var t},t}(),Nv=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Mv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Pv=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Uf(r))||this)._path=r,i.type="collection",i}return Object(gh.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Nv(this.firestore,null,new tf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Pv);function Vv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(fa.h)(t),Cv("collection","path",e),t instanceof Dv)return xv(n=Fh.fromString.apply(Fh,Object(gh.f)([e],r))),new Mv(t,null,n);if(!(t instanceof Nv||t instanceof Mv))throw new bh(yh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xv(n=Fh.fromString.apply(Fh,Object(gh.f)([t.path],r)).child(Fh.fromString(e))),new Mv(t.firestore,null,n)}function Lv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(fa.h)(t),1===arguments.length&&(e=Ah.u()),Cv("doc","path",e),t instanceof Dv)return Tv(n=Fh.fromString.apply(Fh,Object(gh.f)([e],r))),new Nv(t,null,new tf(n));if(!(t instanceof Nv||t instanceof Mv))throw new bh(yh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Tv(n=t._path.child(Fh.fromString.apply(Fh,Object(gh.f)([e],r)))),new Nv(t.firestore,t instanceof Mv?t.converter:null,new tf(n))}function Fv(t,e){return t=Object(fa.h)(t),e=Object(fa.h)(e),(t instanceof Nv||t instanceof Mv)&&(e instanceof Nv||e instanceof Mv)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Uv(t,e){return t=Object(fa.h)(t),e=Object(fa.h)(e),t instanceof Pv&&e instanceof Pv&&t.firestore===e.firestore&&$f(t._query,e._query)&&t.converter===e.converter}var qv=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new wy(this,"async_queue_retry"),this.Ec=function(){var e=by();e&&_h("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=by();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=by();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(gh.b)(this,void 0,void 0,function(){var t,e=this;return Object(gh.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!mg(t=n.sent()))throw t;return _h("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Eh("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Zy.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Sh()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(gh.b)(this,void 0,void 0,function(){var t;return Object(gh.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Bv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new lg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Hv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new qv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(gh.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Qv(this),this._firestoreClient.terminate()},e}(Dv);function zv(t){return t._firestoreClient||Qv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new gv(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new rv(t._credentials,t._queue,r)}function Kv(t,e,n){var r=this,i=new lg;return t.asyncQueue.enqueue(function(){return Object(gh.b)(r,void 0,void 0,function(){var r;return Object(gh.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,iv(t,n)];case 1:return o.sent(),[4,ov(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===yh.FAILED_PRECONDITION||t.code===yh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Gv(t){if(t._initialized||t._terminated)throw new bh(yh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new bh(yh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qh(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),$v=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Hh.fromBase64String(e))}catch(e){throw new bh(yh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Hh.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Yv=function(t){this._methodName=t},Jv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new bh(yh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new bh(yh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return jh(this._lat,t._lat)||jh(this._long,t._long)},t}(),Zv=/^__.*__$/,Xv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Td(t,this.data,this.fieldMask,e,this.fieldTransforms):new Id(t,this.data,e,this.fieldTransforms)},t}(),tw=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Td(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ew(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sh()}}var nw=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Ew(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(ew(this.Dc)&&Zv.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),rw=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||vy(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new nw({Dc:t,methodName:e,Lc:n,path:qh.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function iw(t){var e=t._freezeSettings(),n=vy(t._databaseId);return new rw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ow(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);bw("Data must be an object, but it was:",s,r);var a,u,c=mw(r,s);if(o.merge)a=new Bh(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=vw(e,f[h],n);if(!s.contains(d))throw new bh(yh.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ow(l,d)||l.push(d)}a=new Bh(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Xv(new gf(c),a,u)}var sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gh.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Yv);function aw(t,e,n){return new nw({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var uw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gh.c)(e,t),e.prototype._toFieldTransform=function(t){return new md(t.path,new ud)},e.prototype.isEqual=function(t){return t instanceof e},e}(Yv),cw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(gh.c)(e,t),e.prototype._toFieldTransform=function(t){var e=aw(this,t,!0),n=this.qc.map(function(t){return gw(t,e)}),r=new cd(n);return new md(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Yv),lw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(gh.c)(e,t),e.prototype._toFieldTransform=function(t){var e=aw(this,t,!0),n=this.qc.map(function(t){return gw(t,e)}),r=new hd(n);return new md(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Yv),hw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(gh.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new dd(t.R,rd(t.R,this.Uc));return new md(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Yv);function fw(t,e,n,r){var i=t.Bc(1,e,n);bw("Data must be an object, but it was:",i,r);var o=[],s=gf.empty();Mh(r,function(t,r){var a=_w(e,t,n);r=Object(fa.h)(r);var u=i.kc(a);if(r instanceof sw)o.push(a);else{var c=gw(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Bh(o);return new tw(s,a,i.fieldTransforms)}function dw(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[vw(e,r,n)],u=[i];if(o.length%2!=0)throw new bh(yh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(vw(e,o[c])),u.push(o[c+1]);for(var l=[],h=gf.empty(),f=a.length-1;f>=0;--f)if(!Ow(l,a[f])){var d=a[f],p=u[f];p=Object(fa.h)(p);var g=s.kc(d);if(p instanceof sw)l.push(d);else{var m=gw(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Bh(l);return new tw(h,y,s.fieldTransforms)}function pw(t,e,n,r){return void 0===r&&(r=!1),gw(n,t.Bc(r?4:3,e))}function gw(t,e){if(yw(t=Object(fa.h)(t)))return bw("Unsupported field value:",e,t),mw(t,e);if(t instanceof Yv)return function(t,e){if(!ew(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=gw(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(fa.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rd(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Dh.fromDate(t);return{timestampValue:hp(e.R,n)}}if(t instanceof Dh)return n=new Dh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:hp(e.R,n)};if(t instanceof Jv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $v)return{bytesValue:fp(e.R,t._byteString)};if(t instanceof Nv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:gp(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Av(t))}(t,e)}function mw(t,e){var n={};return Vh(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mh(t,function(t,r){var i=gw(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function yw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Dh||t instanceof Jv||t instanceof $v||t instanceof Nv||t instanceof Yv)}function bw(t,e,n){if(!yw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Av(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function vw(t,e,n){if((e=Object(fa.h)(e))instanceof Wv)return e._internalPath;if("string"==typeof e)return _w(t,e);throw Ew("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ww=new RegExp("[~\\*/\\[\\]]");function _w(t,e,n){if(e.search(ww)>=0)throw Ew("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Wv.bind.apply(Wv,Object(gh.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Ew("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ew(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new bh(yh.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ow(t,e){return t.some(function(t){return t.isEqual(e)})}var Cw=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Nv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Sw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Iw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gh.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Cw);function Iw(t,e){return"string"==typeof e?_w(t,e):e instanceof Wv?e._internalPath:e._delegate._internalPath}var Tw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),xw=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(gh.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Aw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Iw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Cw),Aw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gh.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(xw),jw=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Tw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Aw(n._firestore,n._userDataWriter,r.key,r,new Tw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new bh(yh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Aw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Aw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:kw(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function kw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sh()}}function Rw(t,e){return t instanceof xw&&e instanceof xw?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof jw&&e instanceof jw&&t._firestore===e._firestore&&Uv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Dw(t){if(Bf(t)&&0===t.explicitOrderBy.length)throw new bh(yh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nw=function(){};function Pw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Mw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(gh.c)(e,t),e.prototype._apply=function(t){var e=iw(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new bh(yh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Hw(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Bw(r,t,l[c]));a={arrayValue:{values:u}}}else a=Bw(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Hw(s,o),a=pw(n,"where",s,"in"===o||"not-in"===o);var h=Of.create(i,o,a);return function(t,e){if(e.g()){var n=zf(t);if(null!==n&&!n.isEqual(e.field))throw new bh(yh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Hf(t);null!==r&&zw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new bh(yh.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Pv(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Lf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Nw),Vw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(gh.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new bh(yh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new bh(yh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Nf(e,n);return function(t,e){if(null===Hf(t)){var n=zf(t);null!==n&&zw(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Pv(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Lf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Nw),Lw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(gh.c)(e,t),e.prototype._apply=function(t){return new Pv(t.firestore,t.converter,Wf(t._query,this.Gc,this.zc))},e}(Nw),Fw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(gh.c)(e,t),e.prototype._apply=function(t){var e=qw(t,this.type,this.Hc,this.Jc);return new Pv(t.firestore,t.converter,function(t,e){return new Lf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Nw),Uw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(gh.c)(e,t),e.prototype._apply=function(t){var e=qw(t,this.type,this.Hc,this.Jc);return new Pv(t.firestore,t.converter,function(t,e){return new Lf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Nw);function qw(t,e,n,r){if(n[0]=Object(fa.h)(n[0]),n[0]instanceof Cw)return function(t,e,n,r,i){if(!r)throw new bh(yh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Kf(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(cf(e,r.key));else{var c=r.data.field(u.field);if(Wh(c))throw new bh(yh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new bh(yh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Rf(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=iw(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new bh(yh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new bh(yh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Qf(t)&&-1!==c.indexOf("/"))throw new bh(yh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Fh.fromString(c));if(!tf.isDocumentKey(l))throw new bh(yh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new tf(l);a.push(cf(e,h))}else{var f=pw(n,r,c);a.push(f)}}return new Rf(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Bw(t,e,n){if("string"==typeof(n=Object(fa.h)(n))){if(""===n)throw new bh(yh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qf(e)&&-1!==n.indexOf("/"))throw new bh(yh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Fh.fromString(n));if(!tf.isDocumentKey(r))throw new bh(yh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return cf(t,new tf(r))}if(n instanceof Nv)return cf(t,n._key);throw new bh(yh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Av(n)+".")}function Hw(t,e){if(!Array.isArray(t)||0===t.length)throw new bh(yh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new bh(yh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function zw(t,e,n){if(!n.isEqual(e))throw new bh(yh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Qw=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ef(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Sh()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Mh(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Jv(Kh(t.latitude),Kh(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=$h(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Yh(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Qh(t);return new Dh(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Fh.fromString(t);Ih(Up(n));var r=new mv(n.get(1),n.get(3)),i=new tf(n.popFirst(5));return r.isEqual(e)||Eh("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Kw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Gw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gh.c)(e,t),e.prototype.convertBytes=function(t){return new $v(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Nv(this.firestore,null,e)},e}(Qw),Ww=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=iw(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=$w(t,this._firestore),i=Kw(r.converter,e,n),o=ow(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,bd.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=$w(t,this._firestore);return o="string"==typeof(e=Object(fa.h)(e))||e instanceof Wv?dw(this._dataReader,"WriteBatch.update",s._key,e,n,r):fw(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,bd.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=$w(t,this._firestore);return this._mutations=this._mutations.concat(new Dd(e._key,bd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new bh(yh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function $w(t,e){if((t=Object(fa.h)(t)).firestore!==e)throw new bh(yh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Yw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gh.c)(e,t),e.prototype.convertBytes=function(t){return new $v(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Nv(this.firestore,null,e)},e}(Qw);function Jw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=jv(t,Nv);var o=jv(t.firestore,Hv),s=iw(o);return Xw(o,[("string"==typeof(e=Object(fa.h)(e))||e instanceof Wv?dw(s,"updateDoc",t._key,e,n,r):fw(s,"updateDoc",t._key,e)).toMutation(t._key,bd.exists(!0))])}function Zw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(fa.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Bv(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Bv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Nv)c=jv(t.firestore,Hv),l=Uf(t._key.path),u={next:function(e){i[a]&&i[a](t_(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=jv(t,Pv);c=jv(d.firestore,Hv),l=d._query;var p=new Yw(c);u={next:function(t){i[a]&&i[a](new jw(c,p,d,t))},error:i[a+1],complete:i[a+2]},Dw(t._query)}return function(t,e,n,r){var i=this,o=new tv(r),s=new lb(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(i,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){switch(n.label){case 0:return e=ob,[4,fv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(i,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){switch(n.label){case 0:return e=sb,[4,fv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(zv(c),l,h,u)}function Xw(t,e){return function(t,e){var n=this,r=new lg;return t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(n,void 0,void 0,function(){var n;return Object(gh.d)(this,function(i){switch(i.label){case 0:return n=Eb,[4,hv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(zv(t),e)}function t_(t,e,n){var r=n.docs.get(e._key),i=new Yw(t);return new xw(t,i,e._key,r,new Tw(n.hasPendingWrites,n.fromCache),e.converter)}var e_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(gh.c)(e,t),e.prototype.get=function(e){var n=this,r=$w(e,this._firestore),i=new Yw(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new xw(n._firestore,i,r._key,t._document,new Tw(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=iw(t)}return t.prototype.get=function(t){var e=this,n=$w(t,this._firestore),r=new Gw(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Sh();var i=t[0];if(i.isFoundDocument())return new Cw(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Cw(e._firestore,r,n._key,null,n.converter);throw Sh()})},t.prototype.set=function(t,e,n){var r=$w(t,this._firestore),i=Kw(r.converter,e,n),o=ow(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=$w(t,this._firestore);return o="string"==typeof(e=Object(fa.h)(e))||e instanceof Wv?dw(this._dataReader,"Transaction.update",s._key,e,n,r):fw(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=$w(t,this._firestore);return this._transaction.delete(e._key),this},t}());function n_(){if("undefined"==typeof Uint8Array)throw new bh(yh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function r_(){if("undefined"==typeof atob)throw new bh(yh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var i_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return r_(),new t($v.fromBase64String(e))},t.fromUint8Array=function(e){return n_(),new t($v.fromUint8Array(e))},t.prototype.toBase64=function(){return r_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return n_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),o_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Gv(t=jv(t,Hv));var n=zv(t),r=t._freezeSettings(),i=new Xb;return Kv(n,i,new Jb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Gv(t=jv(t,Hv));var e=zv(t),n=t._freezeSettings(),r=new Xb;return Kv(e,r,new Zb(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new bh(yh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new lg;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(gh.b)(e,void 0,void 0,function(){var e;return Object(gh.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(gh.b)(this,void 0,void 0,function(){return Object(gh.d)(this,function(e){switch(e.label){case 0:return dg.yt()?[4,dg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Cm(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),s_=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof mv||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=jv(t,Dv))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Oh("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(fa.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new bh(yh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new wv(new bv(o,new ey(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(gh.b)(e,void 0,void 0,function(){var e,n;return Object(gh.d)(this,function(r){switch(r.label){case 0:return[4,uv(t)];case 1:return e=r.sent(),[4,lv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Th(t);return e.$r.delete(0),Ty(e)}(n))]}})})})}(zv(jv(this._delegate,Hv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(gh.b)(e,void 0,void 0,function(){var e,n;return Object(gh.d)(this,function(r){switch(r.label){case 0:return[4,uv(t)];case 1:return e=r.sent(),[4,lv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(gh.b)(this,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){switch(n.label){case 0:return(e=Th(t)).$r.add(0),[4,xy(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(zv(jv(this._delegate,Hv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Iv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new lg;return t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(e,void 0,void 0,function(){var e;return Object(gh.d)(this,function(r){switch(r.label){case 0:return e=xb,[4,hv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(zv(jv(this._delegate,Hv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new tv(e);return t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(n,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Th(t).Gr.add(e),e.next()},[4,fv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(n,void 0,void 0,function(){var e;return Object(gh.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Th(t).Gr.delete(e)},[4,fv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(zv(t=jv(t,Hv)),Bv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new bh(yh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new w_(this,Vv(this._delegate,t))}catch(t){throw f_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new h_(this,Lv(this._delegate,t))}catch(t){throw f_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new y_(this,function(t,e){if(t=jv(t,Dv),Cv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new bh(yh.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Pv(t,null,function(t){return new Lf(Fh.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw f_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new lg;return t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(n,void 0,void 0,function(){var n;return Object(gh.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return av(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new nv(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(zv(t),function(n){return e(new e_(t,n))})}(this._delegate,function(n){return t(new u_(e,n))})},t.prototype.batch=function(){var t=this;return zv(this._delegate),new c_(new Ww(this._delegate,function(e){return Xw(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new bh(yh.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new bh(yh.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),a_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gh.c)(e,t),e.prototype.convertBytes=function(t){return new i_(new $v(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return h_.Zc(e,this.firestore,null)},e}(Qw),u_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new a_(t)}return t.prototype.get=function(t){var e=this,n=__(t);return this._delegate.get(n).then(function(t){return new g_(e._firestore,new xw(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=__(t);return n?(Sv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=__(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(gh.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=__(t);return this._delegate.delete(e),this},t}(),c_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=__(t);return n?(Sv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=__(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(gh.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=__(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),l_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Aw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new m_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new a_(e),n),i.set(n,o)),o},t}();l_.eu=new WeakMap;var h_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new a_(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new bh(yh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Nv(n._delegate,r,new tf(e)))},t.Zc=function(e,n,r){return new t(n,new Nv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new w_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new w_(this.firestore,Vv(this._delegate,t))}catch(t){throw f_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(fa.h)(t))instanceof Nv&&Fv(this._delegate,t)},t.prototype.set=function(t,e){e=Sv("DocumentReference.set",e);try{return function(t,e,n){t=jv(t,Nv);var r=jv(t.firestore,Hv),i=Kw(t.converter,e,n);return Xw(r,[ow(iw(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,bd.none())])}(this._delegate,t,e)}catch(t){throw f_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Jw(this._delegate,t):Jw.apply(void 0,Object(gh.f)([this._delegate,t,e],n))}catch(t){throw f_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Xw(jv((t=this._delegate).firestore,Hv),[new Dd(t._key,bd.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=d_(e),i=p_(e,function(e){return new g_(t.firestore,new xw(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Zw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jv(t,Nv);var e=jv(t.firestore,Hv),n=zv(e),r=new Yw(e);return function(t,e){var n=this,r=new lg;return t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(n,void 0,void 0,function(){var n;return Object(gh.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r,i;return Object(gh.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Th(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new bh(yh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Xy(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,cv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new xw(e,r,t._key,n,new Tw(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jv(t,Nv);var e=jv(t.firestore,Hv);return dv(zv(e),t._key,{source:"server"}).then(function(n){return t_(e,t,n)})}(this._delegate):function(t){t=jv(t,Nv);var e=jv(t.firestore,Hv);return dv(zv(e),t._key).then(function(n){return t_(e,t,n)})}(this._delegate)).then(function(t){return new g_(e.firestore,new xw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?l_.tu(this.firestore,e):null))},t}();function f_(t,e,n){return t.message=t.message.replace(e,n),t}function d_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Bv(r))return r}return{}}function p_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Bv(t[0])?t[0]:Bv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var g_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new h_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Rw(this._delegate,t._delegate)},t}(),m_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gh.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(g_),y_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new a_(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Pw(this._delegate,function(t,e,n){var r=e,i=Iw("where",t);return new Mw(i,r,n)}(e,n,r)))}catch(e){throw f_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Pw(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Iw("orderBy",t);return new Vw(r,n)}(e,n)))}catch(e){throw f_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Pw(this._delegate,function(t){return kv("limit",t),new Lw("limit",t,"F")}(e)))}catch(e){throw f_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Pw(this._delegate,function(t){return kv("limitToLast",t),new Lw("limitToLast",t,"L")}(e)))}catch(e){throw f_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Pw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fw("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw f_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Pw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fw("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw f_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Pw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uw("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw f_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Pw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uw("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw f_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Uv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jv(t,Pv);var e=jv(t.firestore,Hv),n=zv(e),r=new Yw(e);return function(t,e){var n=this,r=new lg;return t.asyncQueue.enqueueAndForget(function(){return Object(gh.b)(n,void 0,void 0,function(){var n;return Object(gh.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(gh.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(gh.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Fm(t,e,!0)];case 1:return a=u.sent(),r=new gb(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Xy(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,cv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new jw(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jv(t,Pv);var e=jv(t.firestore,Hv),n=zv(e),r=new Yw(e);return pv(n,t._query,{source:"server"}).then(function(n){return new jw(e,r,t,n)})}(this._delegate):function(t){t=jv(t,Pv);var e=jv(t.firestore,Hv),n=zv(e),r=new Yw(e);return Dw(t._query),pv(n,t._query).then(function(n){return new jw(e,r,t,n)})}(this._delegate)).then(function(t){return new v_(e.firestore,new jw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=d_(e),i=p_(e,function(e){return new v_(t.firestore,new jw(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Zw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?l_.tu(this.firestore,e):null))},t}(),b_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new m_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),v_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new y_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new m_(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new b_(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new m_(n._firestore,r))})},t.prototype.isEqual=function(t){return Rw(this._delegate,t._delegate)},t}(),w_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(gh.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new h_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new h_(this.firestore,void 0===t?Lv(this._delegate):Lv(this._delegate,t))}catch(t){throw f_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=jv(t.firestore,Hv),r=Lv(t),i=Kw(t.converter,e);return Xw(n,[ow(iw(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,bd.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new h_(e.firestore,t)})},e.prototype.isEqual=function(t){return Fv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?l_.tu(this.firestore,t):null))},e}(y_);function __(t){return jv(t,Nv)}var E_,O_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Wv.bind.apply(Wv,Object(gh.f)([void 0],t)))}return t.documentId=function(){return new t(qh.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(fa.h)(t))instanceof Wv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),C_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new uw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new sw("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cw("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lw("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new hw("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),S_=n("/6Yf"),I_={Firestore:s_,GeoPoint:Jv,Timestamp:Dh,Blob:i_,Transaction:u_,WriteBatch:c_,DocumentReference:h_,DocumentSnapshot:g_,Query:y_,QueryDocumentSnapshot:m_,QuerySnapshot:v_,CollectionReference:w_,FieldPath:O_,FieldValue:C_,setLogLevel:function(t){vh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new S_.a("firestore",function(t){return function(t,e){return new s_(t,new Hv(t,e),new o_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},I_)))})(E_=ha.a),E_.registerVersion("@firebase/firestore","2.3.0");var T_=n("qgXg"),x_=n("Ylt2");class A_ extends pt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new j_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Dt.a;if(this.isStopped||this.hasError?o=ni.a.EMPTY:(this.observers.push(t),o=new x_.a(this,t)),r&&t.add(t=new ca.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||T_.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class j_{constructor(t,e){this.time=t,this.value=e}}function k_(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new A_(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function R_(t,e){return e?ce(()=>t,e):ce(()=>t)}var D_=n("tf+s");const N_=new r.r("angularfire2.auth.use-emulator"),P_=new r.r("angularfire2.auth.settings"),M_=new r.r("angularfire2.auth.tenant-id"),V_=new r.r("angularfire2.auth.langugage-code"),L_=new r.r("angularfire2.auth.use-device-language"),F_=new r.r("angularfire.auth.persistence");let U_=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new ia.d(i),f=Object(ia.h)(h),d=new pt.a,p=Object(dt.a)(void 0).pipe(Object(ca.b)(h.outsideAngular),ce(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(yt.a)(()=>Object(ia.g)(t,i,e)),Object(yt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(ia.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),k_({bufferSize:1,refCount:!1}));if(R(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(dt.a)(null);else{p.pipe(ti()).subscribe();const t=p.pipe(ce(t=>t.getRedirectResult().then(t=>t,()=>null)),f,k_({bufferSize:1,refCount:!1})),e=t=>new ht.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(ce(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(ce(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(R_(n),Object(D_.a)(h.outsideAngular),Object(ca.b)(h.insideAngular)),this.user=t.pipe(R_(r),Object(D_.a)(h.outsideAngular),Object(ca.b)(h.insideAngular)),this.idToken=this.user.pipe(ce(t=>t?Object(ue.a)(t.getIdToken()):Object(dt.a)(null))),this.idTokenResult=this.user.pipe(ce(t=>t?Object(ue.a)(t.getIdTokenResult()):Object(dt.a)(null))),this.credential=Object(Kt.a)(t,d,this.authState.pipe(Zt(t=>!t))).pipe(Object(yt.a)(t=>(null==t?void 0:t.user)?t:null),Object(D_.a)(h.outsideAngular),Object(ca.b)(h.insideAngular))}return Object(ia.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ia.c),r.Yb(ia.b,8),r.Yb(r.C),r.Yb(r.A),r.Yb(N_,8),r.Yb(P_,8),r.Yb(M_,8),r.Yb(V_,8),r.Yb(L_,8),r.Yb(F_,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Yb(ia.c),r.Yb(ia.b,8),r.Yb(r.C),r.Yb(r.A),r.Yb(N_,8),r.Yb(P_,8),r.Yb(M_,8),r.Yb(V_,8),r.Yb(L_,8),r.Yb(F_,8))},token:t,providedIn:"any"}),t})();function q_(t,e){return function(t,e=wt.b){return new ht.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function B_(t,e){return q_(t,e).pipe(Object(yt.a)(t=>({payload:t,type:"query"})))}function H_(t,e){return B_(t,e).pipe(oe(void 0),sa(),Object(yt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function z_(t,e,n){return H_(t,n).pipe(Mr((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Q_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Q_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Q_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new se(void 0,void 0)),Object(yt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Q_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function K_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(ia.e)(U_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class G_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=H_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(yt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(oe(void 0),sa(),Zt(([t,e])=>e.length>0||!t),Object(yt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Mr((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=K_(t);return z_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return B_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(yt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ue.a)(this.query.get(t)).pipe(Object(ca.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new W_(this.ref.doc(t),this.afs)}}class W_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=tE(n,e);return new G_(r,i,this.afs)}snapshotChanges(){return q_(this.ref,this.afs.schedulers.outsideAngular).pipe(oe(void 0),sa(),Object(yt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(yt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ue.a)(this.ref.get(t)).pipe(Object(ca.b)(this.afs.schedulers.insideAngular))}}class $_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?H_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(yt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Zt(t=>t.length>0),this.afs.keepUnstableUntilFirst):H_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Mr((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=K_(t);return z_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return B_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(yt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ue.a)(this.query.get(t)).pipe(Object(ca.b)(this.afs.schedulers.insideAngular))}}const Y_=new r.r("angularfire2.enableFirestorePersistence"),J_=new r.r("angularfire2.firestore.persistenceSettings"),Z_=new r.r("angularfire2.firestore.settings"),X_=new r.r("angularfire2.firestore.use-emulator");function tE(t,e=(t=>t)){return{query:e(t),ref:t}}let eE=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new ia.d(o),this.keepUnstableUntilFirst=Object(ia.h)(this.schedulers);const c=Object(ia.g)(t,o,e);!la.a.auth&&u&&Object(ia.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ia.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!R(i)){const e=()=>{try{return Object(ue.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(E_){return"undefined"!=typeof console&&console.warn(E_),Object(dt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(dt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=tE(n,e),o=this.schedulers.ngZone.run(()=>r);return new G_(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new $_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new W_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ia.c),r.Yb(ia.b,8),r.Yb(Y_,8),r.Yb(Z_,8),r.Yb(r.C),r.Yb(r.A),r.Yb(J_,8),r.Yb(X_,8),r.Yb(N_,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Yb(ia.c),r.Yb(ia.b,8),r.Yb(Y_,8),r.Yb(Z_,8),r.Yb(r.C),r.Yb(r.A),r.Yb(J_,8),r.Yb(X_,8),r.Yb(N_,8))},token:t,providedIn:"any"}),t})(),nE=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Y_,useValue:!0},{provide:J_,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[eE]}),t})(),rE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[Js]}),t.\u0275inj=r.Jb({providers:[],imports:[[lt,Rr,ra,ia.a.initializeApp(oa),nE,kn]]}),t})();Object(r.T)(),ut().bootstrapModule(rE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);